(function(Od,Ed){function O(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function fa(a){return a instanceof Array?function(){return m.iter(a)}:"function"==typeof a.iterator?Y(a,a.iterator):a.iterator}function Y(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Vd++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var f={},s=function(){return q.__string_rec(this,"")},td=function(){};f.Client=td;td.__name__=["Client"];td.main=function(){(new Ba({indexController:ia,defaultLayout:"layout.html",errorHandlers:[new Cb]})).listen()};var Pd=function(){};f.CompileTime=Pd;Pd.__name__=["CompileTime"];var ja=function(){};f.CompileTimeClassList=ja;ja.__name__=["CompileTimeClassList"];ja.get=function(a){null==ja.lists&&ja.initialise();var b=ja.lists;return null!=
l[a]?b.getReserved(a):b.h[a]};ja.getTyped=function(a,b){return ja.get(a)};ja.initialise=function(){ja.lists=new B;var a=P.getType(ja);if(null!=a.classLists)for(var b=0,a=a.classLists;b<a.length;){var c=a[b];++b;for(var d=c,c=d[0],e=new ka,g=0,d=d[1].split(",");g<d.length;){var S=d[g];++g;S=t.resolveClass(S);null!=S&&e.push(S)}g=ja.lists;null!=l[c]?g.setReserved(c,e):g.h[c]=e}};var qa=function(a,b){this.r=RegExp(a,b.split("u").join(""))};f.EReg=qa;qa.__name__=["EReg"];qa.prototype={r:null,match:function(a){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new k("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new k("No string matched");var a=this.r.m.index+this.r.m[0].length;return m.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new k("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==
c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:m.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?m.substr(a,b,null):m.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=n.string(m.substr(a,c,null));break}var e=this.matchedPos(),d=d+n.string(m.substr(a,c,e.pos-c)),d=d+n.string(b(this));0==e.len?(d+=n.string(m.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;
if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=n.string(m.substr(a,c,null)));return d},__class__:qa};var m=function(){};f.HxOverrides=m;m.__name__=["HxOverrides"];m.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),e=a.getMinutes(),g=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)+":"+(10>g?"0"+g:""+g)};m.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);
b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new k("Invalid date format : "+a);}};m.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};m.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};m.remove=function(a,b){var c=
a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};m.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ca=function(){};f.Lambda=Ca;Ca.__name__=["Lambda"];Ca.has=function(a,b){for(var c=fa(a)();c.hasNext();)if(c.next()==b)return!0;return!1};Ca.exists=function(a,b){for(var c=fa(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1};Ca.filter=function(a,b){for(var c=new ka,d=fa(a)();d.hasNext();){var e=
d.next();b(e)&&c.add(e)}return c};Ca.count=function(a,b){var c=0;if(null==b)for(var d=fa(a)();d.hasNext();)d.next(),++c;else for(d=fa(a)();d.hasNext();){var e=d.next();b(e)&&++c}return c};Ca.find=function(a,b){for(var c=fa(a)();c.hasNext();){var d=c.next();if(b(d))return d}return null};var ka=function(){this.length=0};f.List=ka;ka.__name__=["List"];ka.prototype={h:null,q:null,length:null,add:function(a){a=new tc(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=
a=new tc(a,this.h);null==this.q&&(this.q=a);this.length++},first:function(){return null==this.h?null:this.h.item},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},isEmpty:function(){return null==this.h},iterator:function(){return new Xc(this.h)},__class__:ka};var tc=function(a,b){this.item=a;this.next=b};f["_List.ListNode"]=tc;tc.__name__=["_List","ListNode"];tc.prototype={item:null,next:null,__class__:tc};var Xc=function(a){this.head=
a};f["_List.ListIterator"]=Xc;Xc.__name__=["_List","ListIterator"];Xc.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:Xc};Math.__name__=["Math"];var F=function(){};f.Reflect=F;F.__name__=["Reflect"];F.field=function(a,b){try{return a[b]}catch(c){return z.lastException=c,null}};F.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():
a[b]};F.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=c};F.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};F.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};F.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__?!0:"function"==b?null!=(a.__name__||
a.__ename__):!1};F.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var n=function(){};f.Std=n;n.__name__=["Std"];n.string=function(a){return q.__string_rec(a,"")};n.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=m.cca(a,1)&&88!=m.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var Ta=function(){this.b=""};f.StringBuf=Ta;Ta.__name__=["StringBuf"];Ta.prototype={b:null,__class__:Ta};var L=function(){};f.StringTools=L;L.__name__=["StringTools"];
L.startsWith=function(a,b){return a.length>=b.length?m.substr(a,0,b.length)==b:!1};L.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?m.substr(a,d-c,c)==b:!1};L.isSpace=function(a,b){var c=m.cca(a,b);return 8<c&&14>c?!0:32==c};L.ltrim=function(a){for(var b=a.length,c=0;c<b&&L.isSpace(a,c);)++c;return 0<c?m.substr(a,c,b-c):a};L.rtrim=function(a){for(var b=a.length,c=0;c<b&&L.isSpace(a,b-c-1);)++c;return 0<c?m.substr(a,0,b-c):a};L.trim=function(a){return L.ltrim(L.rtrim(a))};L.replace=function(a,
b,c){return a.split(b).join(c)};var K=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};K.TNull=["TNull",0];K.TNull.toString=s;K.TNull.__enum__=K;K.TInt=["TInt",1];K.TInt.toString=s;K.TInt.__enum__=K;K.TFloat=["TFloat",2];K.TFloat.toString=s;K.TFloat.__enum__=K;K.TBool=["TBool",3];K.TBool.toString=s;K.TBool.__enum__=K;K.TObject=["TObject",4];K.TObject.toString=s;K.TObject.__enum__=K;K.TFunction=["TFunction",5];K.TFunction.toString=
s;K.TFunction.__enum__=K;K.TClass=function(a){a=["TClass",6,a];a.__enum__=K;a.toString=s;return a};K.TEnum=function(a){a=["TEnum",7,a];a.__enum__=K;a.toString=s;return a};K.TUnknown=["TUnknown",8];K.TUnknown.toString=s;K.TUnknown.__enum__=K;var t=function(){};f.Type=t;t.__name__=["Type"];t.getSuperClass=function(a){return a.__super__};t.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};t.getEnumName=function(a){return a.__ename__.join(".")};t.resolveClass=function(a){a=f[a];return null!=
a&&a.__name__?a:null};t.resolveEnum=function(a){a=f[a];return null!=a&&a.__ename__?a:null};t.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],
b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new k("Too many arguments");
}};t.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};t.createEnum=function(a,b,c){var d=F.field(a,b);if(null==d)throw new k("No such constructor "+b);if(F.isFunction(d)){if(null==c)throw new k("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new k("Constructor "+b+" does not need parameters");return d};t.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);m.remove(b,"__class__");m.remove(b,"__properties__");
return b};t["typeof"]=function(a){switch(typeof a){case "boolean":return K.TBool;case "function":return a.__name__||a.__ename__?K.TObject:K.TFunction;case "number":return Math.ceil(a)==a%2147483648?K.TInt:K.TFloat;case "object":if(null==a)return K.TNull;var b=a.__enum__;if(null!=b)return K.TEnum(b);a=q.getClass(a);return null!=a?K.TClass(a):K.TObject;case "string":return K.TClass(String);case "undefined":return K.TNull;default:return K.TUnknown}};var uc=function(){};f["ufront.web.client.UFClientAction"]=
uc;uc.__name__=["ufront","web","client","UFClientAction"];uc.prototype={execute:function(a,b){},toString:function(){return t.getClassName(q.getClass(this))},ufTrace:function(a,b){window.console.log(""+b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},ufLog:function(a,b){window.console.info(""+b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},ufWarn:function(a,b){window.console.warn(""+b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},ufError:function(a,b){window.console.error(""+
b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},logToConsole:function(a,b,c){a(""+c.className+"."+c.methodName+"()["+c.lineNumber+"]:",b)},__class__:uc};var ra=function(){this.currentPath="";this.currentLevel=1};f["actions.ConfidantInterface"]=ra;ra.__name__=["actions","ConfidantInterface"];ra.__super__=uc;ra.prototype=O(uc.prototype,{currentLevel:null,currentPath:null,execute:function(a,b){window.ga("set",{page:p.currentPath,title:b.msg,location:window.document.location});window.ga("send",
"pageview");this.delay(Y(this,this.listen),500)},listen:function(){var a=this;window.document.querySelector("#panel2").scrollTop=0;window.document.querySelector("#panel3").scrollTop=0;window.document.querySelector("#loader").className="";var b=p.currentPath.split("/"),b=b.splice(0,b.length-2);1>b.length&&(window.document.querySelector("#stage").className="");b=window.document.querySelector("#goback");null!=b&&b.addEventListener("click",function(){window.document.querySelector("#stage").className=
"reversed"});p.addEventListener(null,function(b,c){a.updateClasses()});this.updateClasses();this.supportsSVG()||(window.document.querySelector("#nav").className="no-svg");for(var b=window.document.querySelectorAll("a.summonLoader"),c=0;c<b.length;){var d=b[c];++c;d.addEventListener("click",function(){window.document.querySelector("#loader").className="show"})}},supportsSVG:function(){try{return q.__cast(window.document.createElementNS("http://www.w3.org/2000/svg","svg"),SVGSVGElement),!0}catch(a){return z.lastException=
a,!1}},updateClasses:function(){this.currentLevel=p.currentPath.split("/").length-1;for(var a=["#panel1","#panel2","#panel3"],b=["recessed0","recessed1","recessed2","recessed3"],b=b.slice(0,(0<=this.currentLevel?this.currentLevel+1:1)-1),c=0;c<a.length;){var d=a[c];++c;window.document.querySelector(d).className="";window.document.querySelector(d).className=b.join(" ");b.pop()}},delay:function(a,b){Db.delay(a,b)},__class__:ra});var nb=function(){};f["ufront.api.UFApi"]=nb;nb.__name__=["ufront","api",
"UFApi"];nb.prototype={cnx:null,className:null,_makeApiCall:function(a,b){null==this.className&&(this.className=t.getClassName(q.getClass(this)));var c=!1;try{var d=P.getFields(q.getClass(this)),c=0!=(F.field(d,a).returnType[0]&1<<ca.ARTFuture[1])}catch(e){z.lastException=e}d=this.cnx.resolve(this.className).resolve(a).call(b);return c?new x(new y(d)):d},toString:function(){return t.getClassName(q.getClass(this))},__class__:nb};var Pb=function(){};f["api.MailApi"]=Pb;Pb.__name__=["api","MailApi"];
Pb.__super__=nb;Pb.prototype=O(nb.prototype,{doMail:function(a,b,c){null==this.className&&(this.className=t.getClassName(q.getClass(this)));var d=!1;try{var e=P.getFields(q.getClass(this)),d=0!=(F.field(e,"doMail").returnType[0]&1<<ca.ARTFuture[1])}catch(g){z.lastException=g}a=this.cnx.resolve(this.className).resolve("doMail").call([a,b,c]);return d?new x(new y(a)):a},__class__:Pb});var Ma=function(){};f["ufront.api.UFAsyncApi"]=Ma;Ma.__name__=["ufront","api","UFAsyncApi"];Ma.getAsyncApi=function(a){a=
P.getType(a);return null!=a.asyncApi&&(a=a.asyncApi[0],null!=a)?t.resolveClass(a):null};Ma.prototype={className:null,cnx:null,_makeApiCall:function(a,b,c,d){var e=""+this.className+"."+a+"("+b.join(",")+")",g=new Q;a=this.cnx.resolve(this.className).resolve(a);a.setErrorHandler(Na.wrapErrorHandler(function(a){a=h.Failure(r.remotingError(a,d));g.trigger(a)}));a.call(b,function(a){var b;if(0!=(c&1<<ca.ARTVoid[1]))b=h.Success(I.Noise);else if(0!=(c&1<<ca.ARTOutcome[1]))switch(a[1]){case 0:b=h.Success(a[2]);
break;case 1:b=h.Failure(r.remotingError(T.RApiFailure(e,a[2]),d))}else b=h.Success(a);g.trigger(b)});return g},__class__:Ma};var Qb=function(){};f["api.AsyncMailApi"]=Qb;Qb.__name__=["api","AsyncMailApi"];Qb._getClass=function(){return Pb};Qb.__super__=Ma;Qb.prototype=O(Ma.prototype,{doMail:function(a,b,c){return this._makeApiCall("doMail",[a,b,c],3,{methodName:"doMail",lineNumber:0,customParams:null,fileName:"src/api/MailApi.hx",className:"AsyncMailApi"})},injectApi:function(a){this.className="api.MailApi"},
__class__:Qb});var ud=function(a,b,c,d,e,g){this.html=a;this.title=b;this.prevLink=c;this.nextLink=d;this.nextLinkLabel=g;this.prevLinkLabel=e};f["api.PortfolioItem"]=ud;ud.__name__=["api","PortfolioItem"];ud.prototype={html:null,prevLink:null,nextLink:null,prevLinkLabel:null,nextLinkLabel:null,title:null,__class__:ud};var Rb=function(){};f["api.TestApi"]=Rb;Rb.__name__=["api","TestApi"];Rb.__super__=nb;Rb.prototype=O(nb.prototype,{getJson:function(a){null==this.className&&(this.className=t.getClassName(q.getClass(this)));
var b=!1;try{var c=P.getFields(q.getClass(this)),b=0!=(F.field(c,"getJson").returnType[0]&1<<ca.ARTFuture[1])}catch(d){z.lastException=d}a=this.cnx.resolve(this.className).resolve("getJson").call([a]);return b?new x(new y(a)):a},getItem:function(a){null==this.className&&(this.className=t.getClassName(q.getClass(this)));var b=!1;try{var c=P.getFields(q.getClass(this)),b=0!=(F.field(c,"getItem").returnType[0]&1<<ca.ARTFuture[1])}catch(d){z.lastException=d}a=this.cnx.resolve(this.className).resolve("getItem").call([a]);
return b?new x(new y(a)):a},__class__:Rb});var Sb=function(){};f["api.AsyncTestApi"]=Sb;Sb.__name__=["api","AsyncTestApi"];Sb._getClass=function(){return Rb};Sb.__super__=Ma;Sb.prototype=O(Ma.prototype,{getJson:function(a){return this._makeApiCall("getJson",[a],3,{methodName:"getJson",lineNumber:0,customParams:null,fileName:"src/api/TestApi.hx",className:"AsyncTestApi"})},getItem:function(a){return this._makeApiCall("getItem",[a],3,{methodName:"getItem",lineNumber:0,customParams:null,fileName:"src/api/TestApi.hx",
className:"AsyncTestApi"})},injectApi:function(a){this.className="api.TestApi"},__class__:Sb});var ab=function(){};f["ufront.web.Controller"]=ab;ab.__name__=["ufront","web","Controller"];ab.prototype={context:null,baseUri:null,injectContext:function(a){this.context=a;var b=a.actionContext.get_uriParts(),b=R.addTrailingSlash(b.join("/"));a=R.addTrailingSlash(a.getRequestUri());this.baseUri="~"+R.addTrailingSlash(m.substr(a,0,a.length-b.length))},execute:function(){return new x(new y(h.Failure(r.internalServerError("Field execute() in ufront.web.Controller is an abstract method, please override it in "+
this.toString()+" ",null,{fileName:"Controller.hx",lineNumber:219,className:"ufront.web.Controller",methodName:"execute"}))))},executeSubController:function(a){return this.context.injector._instantiate(a).execute()},toString:function(){return t.getClassName(q.getClass(this))},ufTrace:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:M.MTrace}):V.trace(""+n.string(a),b)},ufLog:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:M.MLog}):V.trace("Log: "+
n.string(a),b)},ufWarn:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:M.MWarning}):V.trace("Warning: "+n.string(a),b)},ufError:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:M.MError}):V.trace("Error: "+n.string(a),b)},wrapResult:function(a,b){if(null==a){var c=new Tb(!0);return new x(new y(h.Success(c)))}c=0!=(b&1<<wa.WRFuture[1])?this.wrapInFuture(a):a;c=0!=(b&1<<wa.WROutcome[1])?this.wrapInOutcome(c):c;return 0!=(b&1<<wa.WRResultOrError[1])?
this.wrapResultOrError(c):c},wrapInFuture:function(a){return new x(new y(a))},wrapInOutcome:function(a){return a.map(function(a){return h.Success(a)}).gather()},wrapResultOrError:function(a){return a.map(function(a){switch(a[1]){case 0:return h.Success(U.wrap(a[2]));case 1:return h.Failure(r.wrap(a[2],null,{fileName:"Controller.hx",lineNumber:308,className:"ufront.web.Controller",methodName:"wrapResultOrError"}))}}).gather()},setContextActionResultWhenFinished:function(a){var b=this;a.handle(function(a){0==
a[1]&&(b.context.actionContext.actionResult=a[2])})},__class__:ab};var ia=function(){};f["controller.HomeController"]=ia;ia.__name__=["controller","HomeController"];ia.__super__=ab;ia.prototype=O(ab.prototype,{testApi:null,mailApi:null,main:function(){var a={},a=(new W(D.setObject(null!=a?a:{},{title:"Confidant Communications : Graphic Design, Website Design and Joomla Interactive Developer in Saskatoon, Saskatchewan",panel1classes:"recessed0",panel2classes:"",panel3classes:""}))).addPartialString("subcontent",
"",na.get_haxe()),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : Graphic Design, Website Design and Joomla Interactive Developer in Saskatoon, Saskatchewan"})},getHostName:function(){return window.location.hostname},about:function(){var a={title:"Confidant Communications : About Us",portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:"http://"+this.getHostName()+"/"},b={},a=(new W(D.setObject(null!=b?b:{},
a))).addPartialString("subcontent","",na.get_haxe()),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : About Us"})},graphic:function(){var a={},a=(new W(D.setObject(null!=a?a:{},{title:"Confidant Communications : Graphic Design",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/graphic.html"),b=t.getClassName(ra);return ga.addClientAction(a,
b,{msg:"Confidant Communications : Graphic Design"})},joomla:function(){var a={},a=(new W(D.setObject(null!=a?a:{},{title:"Confidant Communications : Joomla! Development and Training in Saskatoon",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/joomla.html"),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : Joomla! Development and Training in Saskatoon"})},
books:function(){var a={},a=(new W(D.setObject(null!=a?a:{},{title:"Confidant Communications : Book Design, Book Marketing, and Book Publishing in Saskatoon",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/books.html"),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : Book Design, Book Marketing, and Book Publishing in Saskatoon"})},
web:function(){var a={},a=(new W(D.setObject(null!=a?a:{},{title:"Confidant Communications : Web Design in Saskatoon",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/web.html"),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : Web Design in Saskatoon"})},interactive:function(){var a={},a=(new W(D.setObject(null!=a?a:{},{title:"Confidant Communications : Interactive Development in Saskatoon",
portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/interactive.html"),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : Interactive Development in Saskatoon"})},contact:function(){var a={title:"Confidant Communications : Contact Us",portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:"http://"+
this.getHostName()+"/"},b={},a=(new W(D.setObject(null!=b?b:{},a))).addPartialString("subcontent","",na.get_haxe()),b=t.getClassName(ra);return ga.addClientAction(a,b,{msg:"Confidant Communications : Contact Us"})},portfolio:function(){var a=this;return v._tryMap(this.testApi.getJson("portfolio.json"),function(b){b=a.processJson(b);var c="http://"+a.getHostName()+"/",d={};b=(new W(D.setObject(null!=d?d:{},{title:"Confidant Communications : Portfolio of Graphic Design and Website Development Projects",
content:b,portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:c}))).addPartialString("subcontent","",na.get_haxe());c=t.getClassName(ra);return ga.addClientAction(b,c,{msg:"Confidant Communications : Portfolio of Graphic Design and Website Development Projects"})})},returnPortfolioItem:function(a){return v._tryMap(this.testApi.getItem(a),function(a){var c={},c=(new W(D.setObject(null!=c?c:{},{title:"Confidant Communications : Portfolio : "+
a.title,content:[],portfolioItem:a,panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/portfolio/"}),"portfolio.html")).addPartialString("subcontent","",na.get_haxe()),d=t.getClassName(ra);return ga.addClientAction(c,d,{msg:"Confidant Communications : Portfolio : "+a.title})})},processJson:function(a){return JSON.parse(a).items},contactResult:function(a){return v._tryMap(this.mailApi.doMail(a.email,a.name,a.message),function(a){var c=
{},c=(new W(D.setObject(null!=c?c:{},{title:"Confidant Communications : Contact",portfolioItem:null,panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/contact/"}))).addPartialString("subcontent",a+'<p style="text-align:center;"><a href="/" rel="pushstate">Go back home now?</a></p>',na.get_haxe()),d=t.getClassName(ra);return ga.addClientAction(c,d,{msg:"Confidant Communications : Contact"+a})})},execute:function(){var a=this.context.actionContext.get_uriParts(),
b=this.context.request.get_params(),c=this.context.request.get_httpMethod();this.context.actionContext.controller=this;this.context.actionContext.action="execute";try{if("get"==c.toLowerCase()&&0==a.length){this.context.actionContext.action="main";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,0);var d=P.getFields(ia).main.wrapResult[0],e=this.wrapResult(this.main(),d);this.setContextActionResultWhenFinished(e);return e}if("get"==c.toLowerCase()&&1==a.length&&
"about"==a[0]){this.context.actionContext.action="about";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var g=P.getFields(ia).about.wrapResult[0],S=this.wrapResult(this.about(),g);this.setContextActionResultWhenFinished(S);return S}if("get"==c.toLowerCase()&&2==a.length&&"about"==a[0]&&"graphic-design-saskatoon"==a[1]){this.context.actionContext.action="graphic";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var f=
P.getFields(ia).graphic.wrapResult[0],h=this.wrapResult(this.graphic(),f);this.setContextActionResultWhenFinished(h);return h}if("get"==c.toLowerCase()&&2==a.length&&"about"==a[0]&&"joomla-development-saskatoon"==a[1]){this.context.actionContext.action="joomla";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var m=P.getFields(ia).joomla.wrapResult[0],p=this.wrapResult(this.joomla(),m);this.setContextActionResultWhenFinished(p);return p}if("get"==c.toLowerCase()&&
2==a.length&&"about"==a[0]&&"book-design-saskatoon"==a[1]){this.context.actionContext.action="books";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var v=P.getFields(ia).books.wrapResult[0],q=this.wrapResult(this.books(),v);this.setContextActionResultWhenFinished(q);return q}if("get"==c.toLowerCase()&&2==a.length&&"about"==a[0]&&"web-design-saskatoon"==a[1]){this.context.actionContext.action="web";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,
2);var t=P.getFields(ia).web.wrapResult[0],x=this.wrapResult(this.web(),t);this.setContextActionResultWhenFinished(x);return x}if("get"==c.toLowerCase()&&2==a.length&&"about"==a[0]&&"interactive-developer-saskatoon"==a[1]){this.context.actionContext.action="interactive";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var y=P.getFields(ia).interactive.wrapResult[0],s=this.wrapResult(this.interactive(),y);this.setContextActionResultWhenFinished(s);return s}if("get"==
c.toLowerCase()&&1==a.length&&"contact"==a[0]){this.context.actionContext.action="contact";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var B=P.getFields(ia).contact.wrapResult[0],D=this.wrapResult(this.contact(),B);this.setContextActionResultWhenFinished(D);return D}if("get"==c.toLowerCase()&&1==a.length&&"portfolio"==a[0]){this.context.actionContext.action="portfolio";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,
1);var F=P.getFields(ia).portfolio.wrapResult[0],G=this.wrapResult(this.portfolio(),F);this.setContextActionResultWhenFinished(G);return G}if("get"==c.toLowerCase()&&2==a.length&&"portfolio"==a[0]&&0<a[1].length){var H=a[1];this.context.actionContext.action="returnPortfolioItem";this.context.actionContext.args=[H];this.context.actionContext.get_uriParts().splice(0,2);var J=P.getFields(ia).returnPortfolioItem.wrapResult[0],I=this.wrapResult(this.returnPortfolioItem(H),J);this.setContextActionResultWhenFinished(I);
return I}if("post"==c.toLowerCase()&&2==a.length&&"contact"==a[0]&&"send"==a[1]){if(null!=l.email?!b.existsReserved("email"):!b.h.hasOwnProperty("email")){var E="Bad Request";throw new k(new A(400,E+": Missing parameter email",{fileName:"HomeController.hx",lineNumber:243,className:"controller.HomeController",methodName:"execute"}));}var K=C.get(b,"email");if(null!=l.name?!b.existsReserved("name"):!b.h.hasOwnProperty("name"))throw E="Bad Request",new k(new A(400,E+": Missing parameter name",{fileName:"HomeController.hx",
lineNumber:243,className:"controller.HomeController",methodName:"execute"}));var M=C.get(b,"name");if(null!=l.message?!b.existsReserved("message"):!b.h.hasOwnProperty("message"))throw E="Bad Request",new k(new A(400,E+": Missing parameter message",{fileName:"HomeController.hx",lineNumber:243,className:"controller.HomeController",methodName:"execute"}));var N=C.get(b,"message"),a={email:K,name:M,message:N};this.context.actionContext.action="contactResult";this.context.actionContext.args=[a];this.context.actionContext.get_uriParts().splice(0,
2);var E=P.getFields(ia).contactResult.wrapResult[0],O=this.wrapResult(this.contactResult(a),E);this.setContextActionResultWhenFinished(O);return O}throw new k(r.pageNotFound({fileName:"HomeController.hx",lineNumber:21,className:"controller.HomeController",methodName:"execute"}));}catch(L){return z.lastException=L,L instanceof k&&(L=L.val),u.asSurpriseError(L,"Uncaught error while executing "+n.string(this.context.actionContext.controller)+"."+this.context.actionContext.action+"()",{fileName:"HomeController.hx",
lineNumber:21,className:"controller.HomeController",methodName:"execute"})}},__class__:ia});var la=f["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};la.CFunction=["CFunction",0];la.CFunction.toString=s;la.CFunction.__enum__=la;la.Module=function(a){a=["Module",1,a];a.__enum__=la;a.toString=s;return a};la.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=la;a.toString=s;return a};la.Method=function(a,b){var c=["Method",
3,a,b];c.__enum__=la;c.toString=s;return c};la.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=la;a.toString=s;return a};var z=function(){};f["haxe.CallStack"]=z;z.__name__=["haxe","CallStack"];z.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var e=[],g=0;g<b.length;){var S=b[g];++g;null!=z.wrapCallSite&&(S=z.wrapCallSite(S));var f=null,k=S.getFunctionName();if(null!=k){var h=k.lastIndexOf(".");0<=h&&(f=m.substr(k,0,h),
k=m.substr(k,h+1,null),f=la.Method(f,k))}e.push(la.FilePos(f,S.getFileName(),S.getLineNumber()))}return e};a=z.makeStack(a.stack);Error.prepareStackTrace=b;return a};z.exceptionStack=function(){return z.getStack(z.lastException)};z.toString=function(a){for(var b=new Ta,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";z.itemToString(b,d)}return b.b};z.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b+=null==c?"null":""+c;break;case 2:var c=
b[4],d=b[3],e=b[2];null!=e&&(z.itemToString(a,e),a.b+=" (");a.b+=null==d?"null":""+d;a.b+=" line ";a.b+=null==c?"null":""+c;null!=e&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b+=null==d?"null":""+d;a.b+=".";a.b+=null==c?"null":""+c;break;case 4:c=b[2],a.b+="local function #",a.b+=null==c?"null":""+c}};z.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],c=new qa("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),d=0;d<
a.length;){var e=a[d];++d;if(c.match(e)){var e=c.matched(1).split("."),g=e.pop(),S=c.matched(2),f=n.parseInt(c.matched(3));b.push(la.FilePos("Anonymous function"==g?la.LocalFunction():"Global code"==g?null:la.Method(e.join("."),g),S,f))}else b.push(la.Module(L.trim(e)))}return b}return a};var vc=function(){};f["haxe.IMap"]=vc;vc.__name__=["haxe","IMap"];var Ub=function(a){this.url=a;this.headers=new ka;this.params=new ka;this.async=!0;this.withCredentials=!1};f["haxe.Http"]=Ub;Ub.__name__=["haxe",
"Http"];Ub.prototype={url:null,responseData:null,async:null,withCredentials:null,postData:null,headers:null,params:null,setHeader:function(a,b){this.headers=Ca.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setParameter:function(a,b){this.params=Ca.filter(this.params,function(b){return b.param!=a});this.params.push({param:a,value:b});return this},req:null,request:function(a){var b=this;b.responseData=null;var c=this.req=vd.createXMLHttpRequest(),
d=function(a){if(4==c.readyState){var d;try{d=c.status}catch(e){z.lastException=e,d=null}null!=d&&"undefined"!==typeof window&&(a=window.location.protocol.toLowerCase(),(new qa("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(a)&&(d=null!=c.responseText?200:404));void 0==d&&(d=null);if(null!=d)b.onStatus(d);if(null!=d&&200<=d&&400>d)b.req=null,b.onData(b.responseData=c.responseText);else if(null==d)b.req=null,b.onError("Failed to connect or resolve host");else switch(d){case 12007:b.req=
null;b.onError("Unknown host");break;case 12029:b.req=null;b.onError("Failed to connect to host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var g=this.params.h;null!=g;)var S=g.item,g=g.next,e=null==e?"":e+"&",f=encodeURIComponent(S.param)+"=",e=e+(f+encodeURIComponent(S.value));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var h=1>=this.url.split("?").length;
c.open("GET",this.url+(h?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(l){z.lastException=l;l instanceof k&&(l=l.val);b.req=null;this.onError(l.toString());return}c.withCredentials=this.withCredentials;!Ca.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.h;null!=a;)g=a.item,a=a.next,c.setRequestHeader(g.header,g.value);c.send(e);this.async||
d(null)},onData:function(a){},onError:function(a){},onStatus:function(a){},__class__:Ub};var V=function(){};f["haxe.Log"]=V;V.__name__=["haxe","Log"];V.trace=function(a,b){q.__trace(a,b)};var aa=function(){this.buf=new Ta;this.cache=[];this.useCache=aa.USE_CACHE;this.useEnumIndex=aa.USE_ENUM_INDEX;this.shash=new B;this.scount=0};f["haxe.Serializer"]=aa;aa.__name__=["haxe","Serializer"];aa.run=function(a){var b=new aa;b.serialize(a);return b.toString()};aa.prototype={buf:null,cache:null,shash:null,
scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=l[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=l[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=n.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=
c++,g=this.cache[e];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(F.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=t["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?
(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(q.__instanceof(a,Fd))a=t.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(q.__instanceof(a,Gd))this.buf.b+="B",this.serializeString(t.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new k("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&
this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=n.string(a.getTime());break;case ka:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Vb:this.buf.b+=
"q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case Ia:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=F.field(c,"__id__"),F.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case B:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=l[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case xa:this.buf.b+=
"s";this.buf.b+=n.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=aa.BASE64_CODES;if(null==b){for(var b=Array(aa.BASE64.length),e=0,g=aa.BASE64.length;e<g;){var S=e++;b[S]=m.cca(aa.BASE64,S)}aa.BASE64_CODES=b}for(;c<d;)e=a.b[c++],g=a.b[c++],S=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>2]),this.buf.b+=String.fromCharCode(b[(e<<4|g>>4)&63]),this.buf.b+=String.fromCharCode(b[(g<<2|S>>6)&63]),this.buf.b+=String.fromCharCode(b[S&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>
2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(t.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(t.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;
case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=n.string(this.useEnumIndex?"j":"w");this.serializeString(t.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=n.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=n.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new k("Cannot serialize "+n.string(a));}},serializeException:function(a){this.buf.b+="x";this.serialize(a)},
__class__:aa};var ea=f["haxe._Template.TemplateExpr"]={__ename__:["haxe","_Template","TemplateExpr"],__constructs__:"OpVar OpExpr OpIf OpStr OpBlock OpForeach OpMacro".split(" ")};ea.OpVar=function(a){a=["OpVar",0,a];a.__enum__=ea;a.toString=s;return a};ea.OpExpr=function(a){a=["OpExpr",1,a];a.__enum__=ea;a.toString=s;return a};ea.OpIf=function(a,b,c){a=["OpIf",2,a,b,c];a.__enum__=ea;a.toString=s;return a};ea.OpStr=function(a){a=["OpStr",3,a];a.__enum__=ea;a.toString=s;return a};ea.OpBlock=function(a){a=
["OpBlock",4,a];a.__enum__=ea;a.toString=s;return a};ea.OpForeach=function(a,b){var c=["OpForeach",5,a,b];c.__enum__=ea;c.toString=s;return c};ea.OpMacro=function(a,b){var c=["OpMacro",6,a,b];c.__enum__=ea;c.toString=s;return c};var X=function(a){a=this.parseTokens(a);this.expr=this.parseBlock(a);if(!a.isEmpty())throw new k("Unexpected '"+n.string(a.first().s)+"'");};f["haxe.Template"]=X;X.__name__=["haxe","Template"];X.prototype={expr:null,context:null,macros:null,stack:null,buf:null,execute:function(a,
b){this.macros=null==b?{}:b;this.context=a;this.stack=new ka;this.buf=new Ta;this.run(this.expr);return this.buf.b},resolve:function(a){if("__current__"==a)return this.context;var b=F.getProperty(this.context,a);if(null!=b||Object.prototype.hasOwnProperty.call(this.context,a))return b;for(var c=this.stack.h;null!=c;){var b=c.item,c=c.next,d=b,b=F.getProperty(d,a);if(null!=b||Object.prototype.hasOwnProperty.call(d,a))return b}return F.field(X.globals,a)},parseTokens:function(a){for(var b=new ka;X.splitter.match(a);){var c=
X.splitter.matchedPos();0<c.pos&&b.add({p:m.substr(a,0,c.pos),s:!0,l:null});if(58==m.cca(a,c.pos))b.add({p:m.substr(a,c.pos+2,c.len-4),s:!1,l:null}),a=X.splitter.matchedRight();else{for(var c=c.pos+c.len,d=1,e=[],g="";;){var S=m.cca(a,c);++c;if(40==S)++d;else if(41==S){if(--d,0>=d)break}else if(null==S)throw new k("Unclosed macro parenthesis");44==S&&1==d?(e.push(g),g=""):g+=String.fromCharCode(S)}e.push(g);b.add({p:X.splitter.matched(2),s:!1,l:e});a=m.substr(a,c,a.length-c)}}0<a.length&&b.add({p:a,
s:!0,l:null});return b},parseBlock:function(a){for(var b=new ka;;){var c=a.first();if(null==c)break;if(!c.s&&("end"==c.p||"else"==c.p||"elseif "==m.substr(c.p,0,7)))break;b.add(this.parse(a))}return 1==b.length?b.first():ea.OpBlock(b)},parse:function(a){var b=a.pop(),c=b.p;if(b.s)return ea.OpStr(c);if(null!=b.l){a=new ka;for(var d=0,b=b.l;d<b.length;){var e=b[d];++d;a.add(this.parseBlock(this.parseTokens(e)))}return ea.OpMacro(c,a)}if("if "==m.substr(c,0,3)){c=m.substr(c,3,c.length-3);c=this.parseExpr(c);
d=this.parseBlock(a);b=a.first();if(null==b)throw new k("Unclosed 'if'");if("end"==b.p)a.pop(),e=null;else if("else"==b.p){if(a.pop(),e=this.parseBlock(a),b=a.pop(),null==b||"end"!=b.p)throw new k("Unclosed 'else'");}else b.p=m.substr(b.p,4,b.p.length-4),e=this.parse(a);return ea.OpIf(c,d,e)}if("foreach "==m.substr(c,0,8)){c=m.substr(c,8,c.length-8);c=this.parseExpr(c);d=this.parseBlock(a);a=a.pop();if(null==a||"end"!=a.p)throw new k("Unclosed 'foreach'");return ea.OpForeach(c,d)}return X.expr_splitter.match(c)?
ea.OpExpr(this.parseExpr(c)):ea.OpVar(c)},parseExpr:function(a){for(var b=new ka,c=a;X.expr_splitter.match(a);){var d=X.expr_splitter.matchedPos();0!=d.pos&&b.add({p:m.substr(a,0,d.pos),s:!0});a=X.expr_splitter.matched(0);b.add({p:a,s:0<=a.indexOf('"')});a=X.expr_splitter.matchedRight()}0!=a.length&&b.add({p:a,s:!0});var e;try{if(e=this.makeExpr(b),!b.isEmpty())throw new k(b.first().p);}catch(g){z.lastException=g;g instanceof k&&(g=g.val);if(q.__instanceof(g,String))throw new k("Unexpected '"+g+"' in "+
c);throw g;}return function(){try{return e()}catch(a){throw z.lastException=a,a instanceof k&&(a=a.val),new k("Error : "+n.string(a)+" in "+c);}}},makeConst:function(a){X.expr_trim.match(a);a=X.expr_trim.matched(1);if(34==m.cca(a,0)){var b=m.substr(a,1,a.length-2);return function(){return b}}if(X.expr_int.match(a)){var c=n.parseInt(a);return function(){return c}}if(X.expr_float.match(a)){var d=parseFloat(a);return function(){return d}}var e=this;return function(){return e.resolve(a)}},makePath:function(a,
b){var c=b.first();if(null==c||"."!=c.p)return a;b.pop();c=b.pop();if(null==c||!c.s)throw new k(c.p);var d=c.p;X.expr_trim.match(d);d=X.expr_trim.matched(1);return this.makePath(function(){return F.field(a(),d)},b)},makeExpr:function(a){return this.makePath(this.makeExpr2(a),a)},makeExpr2:function(a){var b=a.pop();if(null==b)throw new k("<eof>");if(b.s)return this.makeConst(b.p);switch(b.p){case "!":var c=this.makeExpr(a);return function(){var a=c();return null!=a?!1==a:!0};case "(":var d=this.makeExpr(a),
b=a.pop();if(null==b||b.s)throw new k(b);if(")"==b.p)return d;var e=this.makeExpr(a);a=a.pop();if(null==a||")"!=a.p)throw new k(a);switch(b.p){case "!=":return function(){return d()!=e()};case "&&":return function(){return d()&&e()};case "*":return function(){return d()*e()};case "+":return function(){return d()+e()};case "-":return function(){return d()-e()};case "/":return function(){return d()/e()};case "<":return function(){return d()<e()};case "<=":return function(){return d()<=e()};case "==":return function(){return d()==
e()};case ">":return function(){return d()>e()};case ">=":return function(){return d()>=e()};case "||":return function(){return d()||e()};default:throw new k("Unknown operation "+b.p);}case "-":var g=this.makeExpr(a);return function(){return-g()}}throw new k(b.p);},run:function(a){switch(a[1]){case 0:var b=this.buf,c=n.string(this.resolve(a[2]));b.b+=n.string(c);break;case 1:b=this.buf;c=n.string((0,a[2])());b.b+=n.string(c);break;case 2:var b=a[4],c=a[3],d=(0,a[2])();null==d||!1==d?null!=b&&this.run(b):
this.run(c);break;case 3:b=a[2];this.buf.b+=null==b?"null":""+b;break;case 4:for(b=a[2].h;null!=b;)c=b.item,b=b.next,this.run(c);break;case 5:b=a[3];c=(0,a[2])();try{var e=fa(c)();if(null==e.hasNext)throw new k(null);c=e}catch(g){z.lastException=g;try{if(null==c.hasNext)throw new k(null);}catch(S){throw z.lastException=S,new k("Cannot iter on "+n.string(c));}}for(this.stack.push(this.context);c.hasNext();)this.context=c.next(),this.run(b);this.context=this.stack.pop();break;case 6:var f=a[3];a=a[2];
var e=F.field(this.macros,a),h=[],l=this.buf;h.push(Y(this,this.resolve));for(f=f.h;null!=f;){var m=f.item,f=f.next;0==m[1]?h.push(this.resolve(m[2])):(this.buf=new Ta,this.run(m),h.push(this.buf.b))}this.buf=l;try{b=this.buf,c=n.string(e.apply(this.macros,h)),b.b+=n.string(c)}catch(p){z.lastException=p;p instanceof k&&(p=p.val);try{d=h.join(",")}catch(r){z.lastException=r,d="???"}b="Macro call "+a+"("+d+") failed ("+n.string(p)+")";throw new k(b);}}},__class__:X};var Db=function(a){var b=this;this.id=
setInterval(function(){b.run()},a)};f["haxe.Timer"]=Db;Db.__name__=["haxe","Timer"];Db.delay=function(a,b){var c=new Db(b);c.run=function(){c.stop();a()};return c};Db.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Db};var wc=function(){};f["haxe._Unserializer.DefaultResolver"]=wc;wc.__name__=["haxe","_Unserializer","DefaultResolver"];wc.prototype={resolveClass:function(a){return t.resolveClass(a)},resolveEnum:function(a){return t.resolveEnum(a)},
__class__:wc};var ba=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ba.DEFAULT_RESOLVER;null==a&&(a=new wc,ba.DEFAULT_RESOLVER=a);this.resolver=a};f["haxe.Unserializer"]=ba;ba.__name__=["haxe","Unserializer"];ba.initCodes=function(){for(var a=[],b=0,c=ba.BASE64.length;b<c;){var d=b++;a[ba.BASE64.charCodeAt(d)]=d}return a};ba.run=function(a){return(new ba(a)).unserialize()};ba.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var a=
0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(m.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new k("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;
var b=this.unserialize();if("string"!=typeof b)throw new k("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new k("Invalid enum format");var c=this.readDigits();if(0==c)return t.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return t.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+
a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);a=t.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new k("Invalid custom data");return a;case 77:a=new Ia;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());
this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new k("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new B;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=l[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;
return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);a=t.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new k("Unknown enum index "+a+"@"+
c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new ka;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Vb;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw new k("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new k("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new k("Invalid bytes length");var e=ba.CODES;null==e&&(e=ba.initCodes(),ba.CODES=e);for(var g=this.pos,f=a&3,w=g+(a-f),b=new xa(new Yc(3*(a>>2)+(2<=f?f-1:0))),c=0;g<w;){var h=e[d.charCodeAt(g++)],n=e[d.charCodeAt(g++)];b.b[c++]=
(h<<2|n>>4)&255;h=e[d.charCodeAt(g++)];b.b[c++]=(n<<4|h>>2)&255;n=e[d.charCodeAt(g++)];b.b[c++]=(h<<6|n)&255}2<=f&&(n=e[d.charCodeAt(g++)],w=e[d.charCodeAt(g++)],b.b[c++]=(n<<2|w>>4)&255,3==f&&(d=e[d.charCodeAt(g++)],b.b[c++]=(w<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=
this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=m.strDate(m.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw k.wrap(this.unserialize());case 121:a=this.readDigits();
if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new k("Invalid string length");b=m.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new k("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:ba};var bb=f["haxe.ds.Either"]={__ename__:["haxe","ds","Either"],__constructs__:["Left","Right"]};bb.Left=function(a){a=["Left",0,a];a.__enum__=bb;a.toString=s;return a};
bb.Right=function(a){a=["Right",1,a];a.__enum__=bb;a.toString=s;return a};var Vb=function(){this.h={}};f["haxe.ds.IntMap"]=Vb;Vb.__name__=["haxe","ds","IntMap"];Vb.__interfaces__=[vc];Vb.prototype={h:null,keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return m.iter(a)},__class__:Vb};var Ia=function(){this.h={__keys__:{}}};f["haxe.ds.ObjectMap"]=Ia;Ia.__name__=["haxe","ds","ObjectMap"];Ia.__interfaces__=[vc];Ia.assignId=function(a){return a.__id__=++Ia.count};Ia.getId=
function(a){return a.__id__};Ia.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++Ia.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return m.iter(a)},__class__:Ia};var Da=f["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};Da.Some=function(a){a=["Some",0,a];a.__enum__=Da;a.toString=s;return a};Da.None=["None",1];Da.None.toString=s;Da.None.__enum__=Da;var ob=
function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};f["haxe.ds._StringMap.StringMapIterator"]=ob;ob.__name__=["haxe","ds","_StringMap","StringMapIterator"];ob.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=l[b]?a.getReserved(b):a.h[b]},__class__:ob};var B=function(){this.h={}};f["haxe.ds.StringMap"]=B;B.__name__=["haxe","ds","StringMap"];B.__interfaces__=[vc];
B.prototype={h:null,rh:null,setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=l[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return m.iter(this.arrayKeys())},arrayKeys:function(){var a=
[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ob(this,this.arrayKeys())},toString:function(){var a;a="{";for(var b=this.arrayKeys(),c=0,d=b.length;c<d;){var e=c++,g=b[e];a+=null==g?"null":""+g;a+=" => ";a+=n.string(n.string(null!=l[g]?this.getReserved(g):this.h[g]));e<b.length-1&&(a+=", ")}return a+"}"},__class__:B};var xa=function(a){this.length=a.byteLength;this.b=new wd(a);
this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};f["haxe.io.Bytes"]=xa;xa.__name__=["haxe","io","Bytes"];xa.alloc=function(a){return new xa(new Yc(a))};xa.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new xa((new wd(b)).buffer)};xa.ofData=function(a){var b=
a.hxBytes;return null!=b?b:new xa(a)};xa.fastGet=function(a,b){return a.bytes[b]};xa.prototype={length:null,b:null,getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new k(ya.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,g=a,f=a+b;g<f;){var w=d[g++];if(128>w){if(0==w)break;c+=e(w)}else if(224>w)c+=e((w&63)<<6|d[g++]&127);else if(240>w)var h=d[g++],c=c+e((w&31)<<12|(h&127)<<6|d[g++]&127);else var h=d[g++],l=d[g++],w=(w&15)<<18|(h&127)<<12|(l&127)<<6|d[g++]&127,c=c+e((w>>10)+55232),
c=c+e(w&1023|56320)}return c},__class__:xa};var xd=function(){};f["haxe.io.Eof"]=xd;xd.__name__=["haxe","io","Eof"];xd.prototype={toString:function(){return"Eof"},__class__:xd};var ya=f["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ya.Blocked=["Blocked",0];ya.Blocked.toString=s;ya.Blocked.__enum__=ya;ya.Overflow=["Overflow",1];ya.Overflow.toString=s;ya.Overflow.__enum__=ya;ya.OutsideBounds=["OutsideBounds",2];ya.OutsideBounds.toString=
s;ya.OutsideBounds.__enum__=ya;ya.Custom=function(a){a=["Custom",3,a];a.__enum__=ya;a.toString=s;return a};var R=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=m.substr(a,0,c),a=m.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=m.substr(a,0,b),a=m.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=m.substr(a,b+1,null),this.file=m.substr(a,0,b)):(this.ext=null,this.file=a)};f["haxe.io.Path"]=
R;R.__name__=["haxe","io","Path"];R.withoutDirectory=function(a){a=new R(a);a.dir=null;return a.toString()};R.extension=function(a){a=new R(a);return null==a.ext?"":a.ext};R.withExtension=function(a,b){var c=new R(a);c.ext=b;return c.toString()};R.normalize=function(a){a=a.split("\\").join("/");if("/"==a)return"/";var b=[],c=0;for(a=a.split("/");c<a.length;){var d=a[c];++c;".."==d&&0<b.length&&".."!=b[b.length-1]?b.pop():"."!=d&&b.push(d)}b=b.join("/");b.replace(RegExp("([^:])/+","g"),"$1/");for(var c=
"",d=a=!1,e=0,g=b.length;e<g;){var f=e++,f=b.charCodeAt(f);switch(f){case 47:a?(a=!1,d&&(c+="/",d=!1),c+=String.fromCharCode(f)):d=!0;break;case 58:c+=":";a=!0;break;default:a=!1,d&&(c+="/",d=!1),c+=String.fromCharCode(f)}}return c};R.addTrailingSlash=function(a){if(0==a.length)return"/";var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=a.length-1?a+"\\":a:b!=a.length-1?a+"/":a};R.removeTrailingSlashes=function(a){try{for(;;){var b=m.cca(a,a.length-1);if(null==b)throw"__break__";switch(b){case 47:case 92:a=
m.substr(a,0,-1);break;default:throw"__break__";}}}catch(c){if("__break__"!=c)throw c;}return a};R.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:R};var xc=function(){};f["haxe.remoting.AsyncConnection"]=xc;xc.__name__=["haxe","remoting","AsyncConnection"];xc.prototype={resolve:null,call:null,setErrorHandler:null,__class__:xc};var yc=function(){};f["haxe.remoting.Connection"]=
yc;yc.__name__=["haxe","remoting","Connection"];yc.prototype={resolve:null,call:null,__class__:yc};var Zc=function(){this.objects=new B};f["haxe.remoting.Context"]=Zc;Zc.__name__=["haxe","remoting","Context"];Zc.prototype={objects:null,addObject:function(a,b,c){var d=this.objects;b={obj:b,rec:c};null!=l[a]?d.setReserved(a,b):d.h[a]=b},call:function(a,b){if(2>a.length)throw new k("Invalid path '"+a.join(".")+"'");var c=this.objects,d=a[0],e=null!=l[d]?c.getReserved(d):c.h[d];if(null==e)throw new k("No such object "+
a[0]);c=e.obj;d=F.field(c,a[1]);if(2<a.length){if(!e.rec)throw new k("Can't access "+a.join("."));for(var e=2,g=a.length;e<g;)var f=e++,c=d,d=F.field(c,a[f])}if(!F.isFunction(d))throw new k("No such method "+a.join("."));return d.apply(c,b)},__class__:Zc};var pb=function(a,b){this.__data=a;this.__path=b};f["haxe.remoting.HttpAsyncConnection"]=pb;pb.__name__=["haxe","remoting","HttpAsyncConnection"];pb.__interfaces__=[xc];pb.prototype={__data:null,__path:null,resolve:function(a){var b=new pb(this.__data,
this.__path.slice());b.__path.push(a);return b},setErrorHandler:function(a){this.__data.error=a},call:function(a,b){var c=new Ub(this.__data.url),d=new aa;d.serialize(this.__path);d.serialize(a);c.setHeader("X-Haxe-Remoting","1");c.setParameter("__x",d.toString());var e=this.__data.error;c.onData=function(a){var c=!0,d;try{if("hxr"!=m.substr(a,0,3))throw new k("Invalid response : '"+a+"'");d=(new ba(m.substr(a,3,null))).unserialize()}catch(f){z.lastException=f,f instanceof k&&(f=f.val),d=null,c=!1,
e(f)}c&&null!=b&&b(d)};c.onError=e;c.request(!0)},__class__:pb};var qb=function(a,b){this.__url=a;this.__path=b};f["haxe.remoting.HttpConnection"]=qb;qb.__name__=["haxe","remoting","HttpConnection"];qb.__interfaces__=[yc];qb.prototype={__url:null,__path:null,resolve:function(a){var b=new qb(this.__url,this.__path.slice());b.__path.push(a);return b},call:function(a){var b=null,c=new Ub(this.__url);c.async=!1;var d=new aa;d.serialize(this.__path);d.serialize(a);c.setHeader("X-Haxe-Remoting","1");c.setParameter("__x",
d.toString());c.onData=function(a){b=a};c.onError=function(a){throw new k(a);};c.request(!0);if("hxr"!=m.substr(b,0,3))throw new k("Invalid response : '"+b+"'");b=m.substr(b,3,null);return(new ba(b)).unserialize()},__class__:qb};var P=function(){};f["haxe.rtti.Meta"]=P;P.__name__=["haxe","rtti","Meta"];P.getType=function(a){a=P.getMeta(a);return null==a||null==a.obj?{}:a.obj};P.getMeta=function(a){return a.__meta__};P.getFields=function(a){a=P.getMeta(a);return null==a||null==a.fields?{}:a.fields};
var k=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,k)};f["js._Boot.HaxeError"]=k;k.__name__=["js","_Boot","HaxeError"];k.wrap=function(a){return a instanceof Error?a:new k(a)};k.__super__=Error;k.prototype=O(Error.prototype,{val:null,__class__:k});var q=function(){};f["js.Boot"]=q;q.__name__=["js","Boot"];q.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};q.__trace=function(a,
b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+q.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,e=b.customParams;d<e.length;){var g=e[d];++d;c+=","+q.__string_rec(g,"")}var f;"undefined"!=typeof document?(f=document.getElementById("haxe:trace"),d=null!=f):d=!1;d?f.innerHTML+=q.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};q.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;
a=q.__nativeClassName(a);return null!=a?q.__resolveNativeClass(a):null};q.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var g=d++,c=2!=g?c+(","+q.__string_rec(a[g],b)):c+q.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+=
"\t";for(e=0;e<c;)g=e++,d+=(0<g?",":"")+q.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(f){return z.lastException=f,"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+q.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+
b+"}");case "string":return a;default:return String(a)}};q.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++,g=c[g];if(g==b||q.__interfLoop(g,b))return!0}return q.__interfLoop(a.__super__,b)};q.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Qd:return"boolean"==typeof a;case Wd:return!0;case Rd:return"number"==typeof a;case Xd:return"number"==
typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||q.__interfLoop(q.getClass(a),b))return!0}else{if("object"==typeof b&&q.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Fd&&null!=a.__name__||b==Gd&&null!=a.__ename__?!0:a.__enum__==b}};q.__cast=function(a,b){if(q.__instanceof(a,b))return a;throw new k("Cannot cast "+n.string(a)+" to "+n.string(b));};q.__nativeClassName=function(a){a=q.__toStr.call(a).slice(8,
-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};q.__isNativeObj=function(a){return null!=q.__nativeClassName(a)};q.__resolveNativeClass=function(a){return Ed[a]};var vd=function(){};f["js.Browser"]=vd;vd.__name__=["js","Browser"];vd.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new k("Unable to create XMLHttpRequest object.");};var Oa=function(a){if(a instanceof
Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};f["js.html.compat.ArrayBuffer"]=Oa;Oa.__name__=["js","html","compat","ArrayBuffer"];Oa.sliceImpl=function(a,b){var c=new wd(this,a,null==b?null:b-a),d=new Yc(c.byteLength);(new wd(d)).set(c);return d};Oa.prototype={byteLength:null,a:null,slice:function(a,b){return new Oa(this.a.slice(a,b))},__class__:Oa};var cb=function(){};f["js.html.compat.Uint8Array"]=cb;cb.__name__=
["js","html","compat","Uint8Array"];cb._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Oa(c)}else if(q.__instanceof(a,Oa))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Oa(c);else throw new k("TODO "+n.string(a));c.subarray=cb._subarray;c.set=
cb._set;return c};cb._set=function(a,b){if(q.__instanceof(a.buffer,Oa)){if(a.byteLength+b>this.byteLength)throw new k("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new k("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new k("TODO");};cb._subarray=function(a,b){var c=cb._new(this.slice(a,b));c.byteOffset=a;return c};var db=function(){};f["ufront.web.context.HttpRequest"]=
db;db.__name__=["ufront","web","context","HttpRequest"];db.create=function(){return new rb};db.prototype={params:null,get_params:function(){null==this.params&&(this.params=C.combine([this.get_cookies(),this.get_query(),this.get_post()]));return this.params},queryString:null,get_queryString:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:111,className:"ufront.web.context.HttpRequest",methodName:"get_queryString"}));},postString:null,get_postString:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:121,className:"ufront.web.context.HttpRequest",methodName:"get_postString"}));},query:null,get_query:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:131,className:"ufront.web.context.HttpRequest",methodName:"get_query"}));},post:null,get_post:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:149,className:"ufront.web.context.HttpRequest",methodName:"get_post"}));},files:null,get_files:function(){null==this.files&&(this.files=new B);
return this.files},cookies:null,get_cookies:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:168,className:"ufront.web.context.HttpRequest",methodName:"get_cookies"}));},hostName:null,get_hostName:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:174,className:"ufront.web.context.HttpRequest",methodName:"get_hostName"}));},clientIP:null,get_clientIP:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:180,className:"ufront.web.context.HttpRequest",
methodName:"get_clientIP"}));},uri:null,get_uri:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:191,className:"ufront.web.context.HttpRequest",methodName:"get_uri"}));},clientHeaders:null,get_clientHeaders:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:197,className:"ufront.web.context.HttpRequest",methodName:"get_clientHeaders"}));},userAgent:null,get_userAgent:function(){null==this.userAgent&&(this.userAgent=oa.fromString(C.get(this.get_clientHeaders(),
"user-agent")));return this.userAgent},httpMethod:null,get_httpMethod:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:219,className:"ufront.web.context.HttpRequest",methodName:"get_httpMethod"}));},scriptDirectory:null,get_scriptDirectory:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:231,className:"ufront.web.context.HttpRequest",methodName:"get_scriptDirectory"}));},authorization:null,get_authorization:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:243,className:"ufront.web.context.HttpRequest",methodName:"get_authorization"}));},isMultipart:function(){var a=this.get_clientHeaders();return(null!=l["content-type"]?a.existsReserved("content-type"):a.h.hasOwnProperty("content-type"))?L.startsWith(C.get(this.get_clientHeaders(),"content-type"),"multipart/form-data"):!1},parseMultipart:function(a,b,c){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:280,className:"ufront.web.context.HttpRequest",methodName:"parseMultipart"}));
},__class__:db,__properties__:{get_authorization:"get_authorization",get_scriptDirectory:"get_scriptDirectory",get_httpMethod:"get_httpMethod",get_userAgent:"get_userAgent",get_clientHeaders:"get_clientHeaders",get_uri:"get_uri",get_clientIP:"get_clientIP",get_hostName:"get_hostName",get_cookies:"get_cookies",get_files:"get_files",get_post:"get_post",get_query:"get_query",get_postString:"get_postString",get_queryString:"get_queryString",get_params:"get_params"}};var rb=function(){};f["js.ufront.web.context.HttpRequest"]=
rb;rb.__name__=["js","ufront","web","context","HttpRequest"];rb.getMultiValueMapFromString=function(a,b){null==b&&(b=!1);for(var c=new B,d=0,e=a.split("&");d<e.length;){var g=e[d];++d;var f=g.indexOf("=");if(0<f){var w=m.substr(g,0,f),g=m.substr(g,f+1,null);b&&(g=decodeURIComponent(g.split("+").join(" ")));C.add(c,w,g)}}return c};rb.__super__=db;rb.prototype=O(db.prototype,{get_queryString:function(){null==this.queryString&&(this.queryString=m.substr(window.document.location.search,1,null));return this.queryString},
get_postString:function(){if("GET"==this.get_httpMethod())return"";null==this.postString&&(this.postString=window.history.state.__postData);return this.postString},parseMultipart:function(a,b,c){return u.success()},get_query:function(){null==this.query&&(this.query=rb.getMultiValueMapFromString(this.get_queryString()));return this.query},get_post:function(){null==this.post&&(this.post="GET"==this.get_httpMethod()?new B:rb.getMultiValueMapFromString(this.get_postString(),!0));return this.post},get_cookies:function(){if(null==
this.cookies){this.cookies=new B;for(var a=0,b=window.document.cookie.split(";");a<b.length;){var c=b[a];++a;c=L.trim(c);c=c.split("=");C.add(this.cookies,c[0],c[1])}}return this.cookies},get_hostName:function(){null==this.hostName&&(this.hostName=window.document.location.hostname);return this.hostName},get_clientIP:function(){null==this.clientIP&&(this.clientIP="127.0.0.1");return this.clientIP},get_uri:function(){null==this.uri&&(this.uri=decodeURIComponent(window.document.location.pathname.split("+").join(" ")));
return this.uri},get_clientHeaders:function(){null==this.clientHeaders&&(this.clientHeaders=new B);return this.clientHeaders},get_httpMethod:function(){null==this.httpMethod&&(this.httpMethod=null!=window.history.state&&Object.prototype.hasOwnProperty.call(window.history.state,"__postData")?"POST":"GET");return this.httpMethod},get_scriptDirectory:function(){if(null==this.scriptDirectory)throw new k(r.internalServerError("Cannot access request.scriptDirectory in ufront-client-mvc",null,{fileName:"HttpRequest.hx",
lineNumber:134,className:"js.ufront.web.context.HttpRequest",methodName:"get_scriptDirectory"}));return this.scriptDirectory},get_authorization:function(){return null},isMultipart:function(){return null!=p.currentUploads},__class__:rb});var ha=function(){this.clear();this._flushedContent=this._flushedHeaders=this._flushedCookies=this._flushedStatus=!1};f["ufront.web.context.HttpResponse"]=ha;ha.__name__=["ufront","web","context","HttpResponse"];ha.create=function(){return new Ea};ha.prototype={charset:null,
status:null,_buff:null,_headers:null,_cookies:null,_flushedStatus:null,_flushedCookies:null,_flushedHeaders:null,_flushedContent:null,preventFlush:function(){this._flushedContent=this._flushedHeaders=this._flushedCookies=this._flushedStatus=!0},preventFlushContent:function(){this._flushedContent=!0},flush:function(){throw new k(r.notImplemented({fileName:"HttpResponse.hx",lineNumber:141,className:"ufront.web.context.HttpResponse",methodName:"flush"}));},clear:function(){this.clearCookies();this.clearHeaders();
this.clearContent();this.set_contentType(null);this.charset="utf-8";this.status=200},clearCookies:function(){this._cookies=new B},clearContent:function(){this._buff=new Ta},clearHeaders:function(){this._headers=new $c},write:function(a){null!=a&&(this._buff.b+=null==a?"null":""+a)},writeChar:function(a){this._buff.b+=String.fromCharCode(a)},writeBytes:function(a,b,c){var d=this._buff;a=a.getString(b,c);d.b+=n.string(a)},setHeader:function(a,b){r.throwIfNull(a,null,{fileName:"HttpResponse.hx",lineNumber:219,
className:"ufront.web.context.HttpResponse",methodName:"setHeader"});r.throwIfNull(b,null,{fileName:"HttpResponse.hx",lineNumber:220,className:"ufront.web.context.HttpResponse",methodName:"setHeader"});this._headers.set(a,b)},setCookie:function(a){var b=this._cookies,c=a.name;null!=l[c]?b.setReserved(c,a):b.h[c]=a},getBuffer:function(){return this._buff.b},getCookies:function(){return this._cookies},getHeaders:function(){return this._headers},redirect:function(a){this.status=302;this.set_redirectLocation(a)},
setOk:function(){this.status=200},setUnauthorized:function(){this.status=401},requireAuthentication:function(a){this.setUnauthorized();this.setHeader("WWW-Authenticate",'Basic realm="'+a+'"')},setNotFound:function(){this.status=404},setInternalError:function(){this.status=500},permanentRedirect:function(a){this.status=301;this.set_redirectLocation(a)},isRedirect:function(){return 3==Math.floor(this.status/100)},isPermanentRedirect:function(){return 301==this.status},hxSerialize:function(a){a.serialize(this._buff.b);
a.serialize(this._headers);a.serialize(this._cookies);a.serialize(this._flushedStatus);a.serialize(this._flushedCookies);a.serialize(this._flushedHeaders);a.serialize(this._flushedContent)},hxUnserialize:function(a){var b=this._buff=new Ta,c=a.unserialize();b.b+=n.string(c);this._headers=a.unserialize();this._cookies=a.unserialize();this._flushedStatus=a.unserialize();this._flushedCookies=a.unserialize();this._flushedHeaders=a.unserialize();this._flushedContent=a.unserialize()},get_contentType:function(){return this._headers.get("Content-type")},
set_contentType:function(a){null==a?this._headers.set("Content-type","text/html"):this._headers.set("Content-type",a);return a},get_redirectLocation:function(){return this._headers.get("Location")},set_redirectLocation:function(a){null==a?this._headers.remove("Location"):this._headers.set("Location",a);return a},__class__:ha,__properties__:{set_redirectLocation:"set_redirectLocation",get_redirectLocation:"get_redirectLocation",set_contentType:"set_contentType",get_contentType:"get_contentType"}};
var Ea=function(){ha.call(this)};f["js.ufront.web.context.HttpResponse"]=Ea;Ea.__name__=["js","ufront","web","context","HttpResponse"];Ea.replaceChildren=function(a,b){for(;null!=b.firstChild;)b.removeChild(b.firstChild);if(null!=a)for(;null!=a.firstChild;)b.appendChild(a.firstChild)};Ea.replaceNode=function(a,b,c){null==c&&(c=0);null!=b&&a.parentNode.insertBefore(b,a);var d=!1,e=function(){!1==d&&(a.parentNode.removeChild(a),d=!0)};0!=c?(b=Object.prototype.hasOwnProperty.call(window.document.documentElement.style,
"WebkitTransition")?"webkitTransitionEnd":"transitionend",a.addEventListener(b,function(){e()}),0<c&&window.setTimeout(function(){e()},c)):e()};Ea.reloadScripts=function(a,b){var c=function(a){for(var b=0,c=a.length;b<c;){var f=b++,f=a.item(f),w=f.getAttribute("uf-reload");if(null!=w&&"false"!=w){w=window.document.createElement("script");w.setAttribute("type","text/javascript");var k=f.getAttribute("src");null!=k&&w.setAttribute("src",k);w.innerHTML=f.innerHTML;window.document.body.appendChild(w);
window.document.body.removeChild(w)}}};null!=a&&c(a.getElementsByTagName("script"));null!=b&&c(b.getElementsByTagName("script"))};Ea.__super__=ha;Ea.prototype=O(ha.prototype,{flush:function(){this._flushedStatus||(this._flushedStatus=!0,window.console.log("["+this.status+"] "+(window.location.pathname+window.location.search)));if(!this._flushedCookies){this._flushedCookies=!0;try{for(var a=this._cookies,b=new ob(a,a.arrayKeys());b.hasNext();){var c=b.next(),d=c.name+"=",e=c.get_description();window.document.cookie=
d+e}}catch(g){throw z.lastException=g,g instanceof k&&(g=g.val),new k(r.internalServerError("Cannot set cookies on response",g,{fileName:"HttpResponse.hx",lineNumber:58,className:"js.ufront.web.context.HttpResponse",methodName:"flush"}));}}this._flushedHeaders||(this._flushedHeaders=!0,this.isRedirect()&&(this._flushedContent=!0,L.startsWith(this.get_redirectLocation(),"/")||L.startsWith(this.get_redirectLocation(),window.location.origin)?p.replace(this.get_redirectLocation()):window.document.location.href=
this.get_redirectLocation()));this._flushedContent||(this._flushedContent=!0,"text/html"==this.get_contentType()?(a=window.document.implementation.createHTMLDocument(""),a.documentElement.innerHTML=this._buff.b,window.document.title=a.title,Ea.replaceNode(window.document.head,a.head),Ea.replaceNode(window.document.body,a.body),window.scrollTo(0,0),Ea.reloadScripts(window.document)):(window.console.log('Cannot use ufront-client-mvc to render content type "'+this.get_contentType()+'". Redirecting to server for rendering this content.'),
window.document.location.reload()))},__class__:Ea});var sb=function(a){this.infos=new B;this.mappings=new B;this.parent=a};f["minject.Injector"]=sb;sb.__name__=["minject","Injector"];sb.getValueType=function(a){if("string"==typeof a)return"String";if(q.__instanceof(a,Fd))return t.getClassName(a);if(q.__instanceof(a,Gd))return t.getEnumName(a);var b;b=t["typeof"](a);switch(b[1]){case 1:b="Int";break;case 3:b="Bool";break;case 6:b=t.getClassName(b[2]);break;case 7:b=t.getEnumName(b[2]);break;default:b=
null}if(null!=b)return b;throw new k("Could not determine type name of "+n.string(a));};sb.prototype={parent:null,mappings:null,infos:null,mapRuntimeTypeOf:function(a,b){return this.mapType(sb.getValueType(a),b)},mapType:function(a,b,c){c=this.getMappingKey(a,b);var d=this.mappings;if(null!=l[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return a=this.mappings,null!=l[c]?a.getReserved(c):a.h[c];a=new ad(a,b);b=this.mappings;null!=l[c]?b.setReserved(c,a):b.h[c]=a;return a},unmapType:function(a,b){this.mappings.remove(this.getMappingKey(a,
b))},hasMappingForType:function(a,b){return null!=this.findMappingForType(a,b)},findMappingForType:function(a,b){var c=this.mappings,d=this.getMappingKey(a,b),c=null!=l[d]?c.getReserved(d):c.h[d];return null!=c&&null!=c.provider?c:null!=this.parent?this.parent.findMappingForType(a,b):null},getValueForType:function(a,b){var c=this.findMappingForType(a,b);if(null!=c)return c.getValue(this);var d=a.indexOf("<");-1<d&&(c=this.findMappingForType(m.substr(a,0,d),b));return null!=c?c.getValue(this):null},
injectInto:function(a){var b=this.getInfo(null==a?null:q.getClass(a));if(null!=b)for(var c=0,b=b.fields;c<b.length;){var d=b[c];++c;d.applyInjection(a,this)}},_construct:function(a){return this.getInfo(a).ctor.createInstance(a,this)},_instantiate:function(a){a=this._construct(a);this.injectInto(a);return a},getInstance:function(a,b){var c=t.getClassName(a),d=this.findMappingForType(c,b);if(null==d)throw new k('Error while getting mapping response: No mapping defined for class "'+c+'" '+('name "'+
b+'"'));return d.getValue(this)},createChildInjector:function(){return new sb(this)},getInfo:function(a){var b=t.getClassName(a),c=this.infos;if(null!=l[b]?c.existsReserved(b):c.h.hasOwnProperty(b))return a=this.infos,null!=l[b]?a.getReserved(b):a.h[b];a=this.createInfo(a);c=this.infos;null!=l[b]?c.setReserved(b,a):c.h[b]=a;return a},createInfo:function(a){var b=new bd(null,[]);this.addClassToInfo(a,b,[]);null==b.ctor&&(b.ctor=new Wb([]));return b},addClassToInfo:function(a,b,c){var d=P.getType(a).rtti;
if(null!=d)for(var e=0;e<d.length;){var g=d[e];++e;var f=g[0];-1<c.indexOf(f)||(c.push(f),"new"==f?b.ctor=new Wb(g.slice(1)):3==g.length?b.fields.push(new zc(f,g[1],g[2])):b.fields.push(new tb(f,g.slice(1))))}a=t.getSuperClass(a);null!=a&&this.addClassToInfo(a,b,c)},getMappingKey:function(a,b){null==b&&(b="");return""+a+"#"+b},__class__:sb};var bd=function(a,b){this.ctor=a;this.fields=b};f["minject.InjectorInfo"]=bd;bd.__name__=["minject","InjectorInfo"];bd.prototype={ctor:null,fields:null,__class__:bd};
var ad=function(a,b){this.type=a;this.name=b};f["minject.InjectorMapping"]=ad;ad.__name__=["minject","InjectorMapping"];ad.prototype={type:null,name:null,injector:null,provider:null,getValue:function(a){null!=this.injector&&(a=this.injector);if(null!=this.provider)return this.provider.getValue(a);var b=a.findMappingForType(this.type,this.name);return null!=b?b.getValue(a):null},toValue:function(a){return this.toProvider(new Ac(a))},_toClass:function(a){return this.toProvider(new Bc(a))},_toSingleton:function(a){return this.toProvider(new Cc(a))},
asSingleton:function(){return this._toSingleton(t.resolveClass(this.type))},toMapping:function(a){return this.toProvider(new Dc(a))},toProvider:function(a){this.provider=a;return this},__class__:ad};var Xb=function(){};f["minject.point.InjectionPoint"]=Xb;Xb.__name__=["minject","point","InjectionPoint"];Xb.prototype={field:null,applyInjection:null,__class__:Xb};var tb=function(a,b){this.field=a;this.args=b};f["minject.point.MethodInjectionPoint"]=tb;tb.__name__=["minject","point","MethodInjectionPoint"];
tb.__interfaces__=[Xb];tb.prototype={field:null,args:null,applyInjection:function(a,b){var c=F.field(a,this.field),d=this.gatherArgs(a,b);c.apply(a,d);return a},gatherArgs:function(a,b){for(var c=[],d=0;d<this.args.length;){var e=this.args[d++],g=this.args[d++];d++;e=b.getValueForType(e,g);c.push(e)}return c},__class__:tb};var Wb=function(a){tb.call(this,"new",a)};f["minject.point.ConstructorInjectionPoint"]=Wb;Wb.__name__=["minject","point","ConstructorInjectionPoint"];Wb.__super__=tb;Wb.prototype=
O(tb.prototype,{createInstance:function(a,b){return t.createInstance(a,this.gatherArgs(a,b))},__class__:Wb});var zc=function(a,b,c){this.field=a;this.type=b;this.name=c};f["minject.point.PropertyInjectionPoint"]=zc;zc.__name__=["minject","point","PropertyInjectionPoint"];zc.__interfaces__=[Xb];zc.prototype={field:null,type:null,name:null,applyInjection:function(a,b){var c=b.getValueForType(this.type,this.name);F.setProperty(a,this.field,c);return a},__class__:zc};var ub=function(){};f["minject.provider.DependencyProvider"]=
ub;ub.__name__=["minject","provider","DependencyProvider"];ub.prototype={getValue:null,__class__:ub};var Bc=function(a){this.type=a};f["minject.provider.ClassProvider"]=Bc;Bc.__name__=["minject","provider","ClassProvider"];Bc.__interfaces__=[ub];Bc.prototype={type:null,getValue:function(a){return a._instantiate(this.type)},__class__:Bc};var Dc=function(a){this.mapping=a};f["minject.provider.OtherMappingProvider"]=Dc;Dc.__name__=["minject","provider","OtherMappingProvider"];Dc.__interfaces__=[ub];
Dc.prototype={mapping:null,getValue:function(a){return this.mapping.getValue(a)},__class__:Dc};var Cc=function(a){this.type=a};f["minject.provider.SingletonProvider"]=Cc;Cc.__name__=["minject","provider","SingletonProvider"];Cc.__interfaces__=[ub];Cc.prototype={type:null,value:null,getValue:function(a){null==this.value&&(this.value=a._construct(this.type),a.injectInto(this.value));return this.value},__class__:Cc};var Ac=function(a){this.value=a};f["minject.provider.ValueProvider"]=Ac;Ac.__name__=
["minject","provider","ValueProvider"];Ac.__interfaces__=[ub];Ac.prototype={value:null,getValue:function(a){return this.value},__class__:Ac};var Yb=function(){};f["ufront.app.UFErrorHandler"]=Yb;Yb.__name__=["ufront","app","UFErrorHandler"];Yb.prototype={handleError:null,__class__:Yb};var Cb=function(){this.showStack=!1;this.catchErrors=!0};f["overrides.CustomErrorPageHandler"]=Cb;Cb.__name__=["overrides","CustomErrorPageHandler"];Cb.__interfaces__=[Yb];Cb.errorStackItems=function(a){return z.toString(a).split("\n")};
Cb.prototype={catchErrors:null,showStack:null,handleError:function(a,b){var c=null!=a&&null!=a.data?" ("+n.string(a.data)+")":"",d=this.showStack?" "+z.toString(z.exceptionStack()):"";b.messages.push({msg:"Handling error: "+n.string(a)+c+d,pos:{fileName:"CustomErrorPageHandler.hx",lineNumber:44,className:"overrides.CustomErrorPageHandler",methodName:"handleError"},type:M.MError});0==(b.completion&1<<G.CRequestHandlersComplete[1])&&(b.response.clear(),b.response.status=a.code,b.response.set_contentType("text/html"),
b.response.write(this.renderError(a,this.showStack)),b.completion|=1<<G.CRequestHandlersComplete[1]);this.catchErrors||a.throwSelf();return u.success()},renderErrorContent:function(a,b){null==b&&(b=!1);var c=null!=a.data?'<p class="error-data">'+n.string(a.data)+"</p>":"",d=b?'<p class="error-pos">&gt; '+a.printPos()+"</p>":"",e=Cb.errorStackItems(z.exceptionStack()),e=b&&0<e.length?'<div class="error-exception-stack"><h3>Exception Stack:</h3>\n\t\t\t\t\t<pre><code>'+e.join("\n")+"</pre></code>\n\t\t\t\t</div>":
"";return'\n\t\t\t<summary class="error-summary"><h1 class="error-message">'+a.message.split(":")[0]+'</h1></summary>\n\t\t\t<details class="error-details"> '+c+" "+d+" "+e+"</details>\n\t\t"},renderErrorPage:function(a,b){return"<!DOCTYPE html>\n<html>\n<head>\n\t<title>"+a+'</title>\n\t<link rel="stylesheet" href="/css/home.css" media="screen">\n</head>\n<body>\n\t<div class="container">\n\t\t<div id="stage" class="">\n\t\t\t<div id="panel1" class="recessed0 recessed1">\n\t\t\t\t<img id="confidantLogo" src="/images/confidantLogo.jpg" alt="Confidant Communications" />\n\t\t\t</div>\n\t\t\t<div id="panel2" style="display:block;opacity:1;top:120px;left:0;">\n\t\t\t\t<div class="content">\n\t\t\t\t\t'+
b+'\n\t\t\t\t\t<p style="text-align:center;"><a href="/">Sorry about that! Go back to the home page maybe?</a></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</body>\n</html>\n'},renderError:function(a,b){var c=this.renderErrorContent(a,b),d=a.message.split(":")[0];return this.renderErrorPage(d,c)},__class__:Cb};var p=function(){};f["pushstate.PushState"]=p;p.__name__=["pushstate","PushState"];p.init=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);null==a&&(a="");p.listeners=[];p.preventers=
[];p.uploadCache=new B;p.basePath=a;p.ignoreAnchors=c;window.document.addEventListener("DOMContentLoaded",function(a){window.document.addEventListener("click",function(a){if(0==a.button&&!a.metaKey&&!a.ctrlKey){for(var b=null,c=a.target,c=c instanceof Node?c:null;null==b&&null!=c;)b=c instanceof HTMLAnchorElement?c:null,c=c.parentNode;null==b||"pushstate"!=b.rel&&!b.classList.contains("pushstate")||(p.push(b.pathname+b.search+b.hash),a.preventDefault())}});window.document.addEventListener("submit",
function(a){var b=a.target,b=b instanceof HTMLFormElement?b:null;b.classList.contains("pushstate")&&(a.preventDefault(),p.interceptFormSubmit(b))});window.onpopstate=p.handleOnPopState;b?p.handleOnPopState(null):(p.currentPath=p.stripURL(window.document.location.pathname+window.document.location.search+window.document.location.hash),p.currentState=null,p.currentUploads=null)})};p.hasClass=function(a,b){return a.classList.contains(b)};p.interceptFormSubmit=function(a){for(var b=[],c=null,d=function(a,
c){null!=a&&""!=a&&b.push({name:a,val:c})},e=function(a,b){for(var e=0,g=b.length;e<g;){var f=e++;d(a,b[f].name)}null==c&&(c={});c[a]=b},g=0,f=a.elements.length;g<f;){var w=g++,w=a.elements.item(w);switch(w.nodeName.toUpperCase()){case "INPUT":w=w instanceof HTMLInputElement?w:null;switch(w.type){case "file":null!=w.files&&0<w.files.length&&e(w.name,w.files);break;case "checkbox":case "radio":w.checked&&d(w.name,w.value);break;case "color":case "date":case "datetime":case "datetime-local":case "email":case "hidden":case "month":case "number":case "password":case "range":case "search":case "tel":case "text":case "time":case "url":case "week":d(w.name,
w.value)}break;case "SELECT":w=w instanceof HTMLSelectElement?w:null;switch(w.type){case "select-multiple":for(var k=0,h=w.options.length;k<h;){var l=k++,l=w.options[l];l.selected&&d(w.name,l.value)}break;case "select-one":d(w.name,w.value)}break;case "TEXTAREA":w=w instanceof HTMLTextAreaElement?w:null,d(w.name,w.value)}}e=window.document.activeElement;e=e instanceof HTMLInputElement?e:null;g=window.document.activeElement;g=g instanceof HTMLButtonElement?g:null;null!=e&&"submit"==e.type?d(e.name,
e.value):null!=g&&"submit"==g.type?d(g.name,g.value):(g=a.querySelector("input[type=submit], button[type=submit]"),e=g instanceof HTMLInputElement?g:null,g=g instanceof HTMLButtonElement?g:null,null!=e?d(e.name,e.value):null!=g&&d(g.name,g.value));e=b.map(function(a){return""+a.name+"="+encodeURIComponent(a.val)}).join("&");if("POST"==a.method.toUpperCase()){g={};for(f=0;f<b.length;)w=b[f],++f,Object.prototype.hasOwnProperty.call(g,w.name)?F.field(g,w.name).push(w.val):g[w.name]=[w.val];g.__postData=
e;null!=c&&p.setUploadsForState(a.action,g,c);p.push(a.action,g,c)}else p.push(a.action+"?"+e,null)};p.setUploadsForState=function(a,b,c){var d=m.dateStr(new Date),e=Math.random();a=""+a+"-"+d+"-"+e;d=p.uploadCache;null!=l[a]?d.setReserved(a,c):d.h[a]=c;b.__postFilesCacheID=a};p.getUploadsForState=function(a){if(null==a||!1==Object.prototype.hasOwnProperty.call(a,"__postFilesCacheID"))return null;a=a.__postFilesCacheID;var b=p.uploadCache;if(!1==(null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a)))return V.trace("Upload files with cache ID "+
a+" is not available anymore",{fileName:"PushState.hx",lineNumber:214,className:"pushstate.PushState",methodName:"getUploadsForState"}),null;b=p.uploadCache;return null!=l[a]?b.getReserved(a):b.h[a]};p.handleOnPopState=function(a){var b=p.stripURL(window.document.location.pathname+window.document.location.search+window.document.location.hash),c=null!=a?a.state:null,d;if(null!=c&&null!=c.__postFilesCacheID){d=c.__postFilesCacheID;var e=p.uploadCache;d=null!=l[d]?e.getReserved(d):e.h[d]}else d=null;
if(!p.ignoreAnchors||b!=p.currentPath){if(null!=a)for(var e=0,g=p.preventers;e<g.length;){var f=g[e];++e;if(!f(b,c,d)){a.preventDefault();window.history.replaceState(p.currentState,"",p.currentPath);return}}p.currentPath=b;p.currentState=c;p.currentUploads=p.getUploadsForState(c);p.dispatch(p.currentPath,p.currentState,p.currentUploads)}};p.stripURL=function(a){m.substr(a,0,p.basePath.length)==p.basePath&&(a=m.substr(a,p.basePath.length,null));p.ignoreAnchors&&-1<a.indexOf("#")&&(a=m.substr(a,0,a.indexOf("#")));
return a};p.addEventListener=function(a,b,c){if(null==a)if(null!=b)a=function(a,c,g){b(a,c)};else if(null!=c)a=function(a,b,g){c(a)};else throw new k("No listener provided");p.listeners.push(a);return a};p.removeEventListener=function(a){m.remove(p.listeners,a)};p.clearEventListeners=function(){for(;0<p.listeners.length;)p.listeners.pop()};p.addPreventer=function(a,b,c){if(null==a)if(null!=b)a=function(a,c,g){return b(a,c)};else if(null!=c)a=function(a,b,g){return c(a)};else throw new k("No preventer provided");
p.preventers.push(a);return a};p.removePreventer=function(a){m.remove(p.preventers,a)};p.clearPreventers=function(){for(;0<p.preventers.length;)p.preventers.pop()};p.dispatch=function(a,b,c){for(var d=0,e=p.listeners;d<e.length;){var g=e[d];++d;g(a,b,c)}};p.push=function(a,b,c){var d=p.stripURL(a);null==b&&(b={});for(var e=0,g=p.preventers;e<g.length;){var f=g[e];++e;if(!f(d,b,c))return!1}p.setUploadsForState(d,b,c);window.history.pushState(b,"",a);p.currentPath=d;p.currentState=b;p.currentUploads=
c;p.dispatch(d,b,c);return!0};p.replace=function(a,b,c){var d=p.stripURL(a);null==b&&(b={});for(var e=0,g=p.preventers;e<g.length;){var f=g[e];++e;if(!f(d,b,c))return!1}p.silentReplace(a,b,c);p.dispatch(d,b,c);return!0};p.silentReplace=function(a,b,c){var d=p.stripURL(a);null==b&&(b={});p.setUploadsForState(d,b,c);window.history.replaceState(b,"",a);p.currentPath=d;p.currentState=b;p.currentUploads=c};var yd=function(a){this.target=a;this.registry=new Ia};f["tink.core.Annex"]=yd;yd.__name__=["tink",
"core","Annex"];yd.prototype={target:null,registry:null,__class__:yd};var Hd={};f["tink.core._Any.Any_Impl_"]=Hd;Hd.__name__=["tink","core","_Any","Any_Impl_"];Hd.__promote=function(a){return a};var N={};f["tink.core._Callback.Callback_Impl_"]=N;N.__name__=["tink","core","_Callback","Callback_Impl_"];N._new=function(a){return a};N.toFunction=function(a){return a};N.invoke=function(a,b){1E3>N.depth?(N.depth++,a(b),N.depth--):N.defer(function(){N.invoke(a,b)})};N.ignore=function(a){return N.fromNiladic(function(){N.invoke(a,
I.Noise)})};N.fromNiladic=function(a){return function(b){a()}};N.fromMany=function(a){return function(b){for(var c=0;c<a.length;){var d=a[c];++c;N.invoke(d,b)}}};N.defer=function(a){Db.delay(a,0)};var Eb=function(){};f["tink.core._Callback.LinkObject"]=Eb;Eb.__name__=["tink","core","_Callback","LinkObject"];Eb.prototype={dissolve:null,__class__:Eb};var eb={};f["tink.core._Callback.CallbackLink_Impl_"]=eb;eb.__name__=["tink","core","_Callback","CallbackLink_Impl_"];eb._new=function(a){return new vb(a)};
eb.cancel=function(a){null!=a&&a.dissolve()};eb.dissolve=function(a){null!=a&&a.dissolve()};eb.toCallback=function(a){return function(b){a.dissolve()}};eb.fromFunction=function(a){return new vb(a)};eb.join=function(a,b){return new Zb(a,b)};eb.fromMany=function(a){return new vb(function(){for(var b=0;b<a.length;){var c=a[b];++b;null!=c&&c.dissolve()}})};var vb=function(a){this.f=a};f["tink.core._Callback.SimpleLink"]=vb;vb.__name__=["tink","core","_Callback","SimpleLink"];vb.__interfaces__=[Eb];vb.prototype=
{f:null,dissolve:function(){null!=this.f&&this.f()},__class__:vb};var Zb=function(a,b){this.dissolved=!1;this.a=a;this.b=b};f["tink.core._Callback.LinkPair"]=Zb;Zb.__name__=["tink","core","_Callback","LinkPair"];Zb.__interfaces__=[Eb];Zb.prototype={a:null,b:null,dissolved:null,dissolve:function(){if(!this.dissolved){this.dissolved=!0;var a=this.a;null!=a&&a.dissolve();a=this.b;null!=a&&a.dissolve()}},__class__:Zb};var Ec=function(a,b){if(null==a)throw new k("callback expected but null received");
this.cb=a;this.list=b};f["tink.core._Callback.ListCell"]=Ec;Ec.__name__=["tink","core","_Callback","ListCell"];Ec.__interfaces__=[Eb];Ec.prototype={list:null,cb:null,invoke:function(a){null!=this.cb&&N.invoke(this.cb,a)},clear:function(){this.cb=this.list=null},dissolve:function(){var a=this.list;null!=a&&(this.clear(),m.remove(a,this))},__class__:Ec};var pa={};f["tink.core._Callback.CallbackList_Impl_"]=pa;pa.__name__=["tink","core","_Callback","CallbackList_Impl_"];pa.__properties__={get_length:"get_length"};
pa._new=function(){return[]};pa.get_length=function(a){return a.length};pa.add=function(a,b){var c=new Ec(b,a);a.push(c);return c};pa.invoke=function(a,b){for(var c=0,d=a.slice();c<d.length;){var e=d[c];++c;null!=e.cb&&N.invoke(e.cb,b)}};pa.clear=function(a){var b=0;for(a=a.splice(0,a.length);b<a.length;){var c=a[b];++b;c.clear()}};var A=function(a,b,c){null==a&&(a=500);this.isTinkError=!0;this.code=a;this.message=b;this.pos=c;this.exceptionStack=[];this.callStack=[]};f["tink.core.TypedError"]=A;
A.__name__=["tink","core","TypedError"];A.withData=function(a,b,c,d){return A.typed(a,b,c,d)};A.typed=function(a,b,c,d){a=new A(a,b,d);a.data=c;return a};A.ofJsError=function(a,b){return A.withData(500,a.message,a,b)};A.asError=function(a){return null!=a&&a.isTinkError?a:null};A.catchExceptions=function(a,b,c){try{return h.Success(a())}catch(d){return z.lastException=d,d instanceof k&&(d=d.val),a=A.asError(d),b=null==a?null==b?A.withData(null,"Unexpected Error",d,c):b(d):a,h.Failure(b)}};A.reporter=
function(a,b,c){return function(d){return A.withData(a,b,d,c)}};A.rethrow=function(a){throw k.wrap(a);};A.tryFinally=function(a,b){try{return a()}finally{b()}return null};A.prototype={message:null,code:null,data:null,pos:null,callStack:null,exceptionStack:null,isTinkError:null,printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var a="Error#"+this.code+": "+this.message;null!=this.pos&&(a+=" @ "+this.printPos());return a},throwSelf:function(){throw new k(this);
},__class__:A};var Id={};f["tink.core._Error.Stack_Impl_"]=Id;Id.__name__=["tink","core","_Error","Stack_Impl_"];Id.toString=function(a){return"Error stack not available. Compile with -D error_stack."};var fb=function(){};f["tink.core._Future.FutureObject"]=fb;fb.__name__=["tink","core","_Future","FutureObject"];fb.prototype={map:null,flatMap:null,handle:null,gather:null,eager:null,__class__:fb};var Pa=function(){};f["tink.core._Future.NeverFuture"]=Pa;Pa.__name__=["tink","core","_Future","NeverFuture"];
Pa.__interfaces__=[fb];Pa.prototype={map:function(a){return Pa.inst},flatMap:function(a){return Pa.inst},handle:function(a){return null},gather:function(){return Pa.inst},eager:function(){return Pa.inst},__class__:Pa};var I=f["tink.core.Noise"]={__ename__:["tink","core","Noise"],__constructs__:["Noise"]};I.Noise=["Noise",0];I.Noise.toString=s;I.Noise.__enum__=I;var $b=function(){};f["tink.core._Lazy.LazyObject"]=$b;$b.__name__=["tink","core","_Lazy","LazyObject"];$b.prototype={get:null,map:null,flatMap:null,
__class__:$b};var y=function(a){this.value=a};f["tink.core._Lazy.LazyConst"]=y;y.__name__=["tink","core","_Lazy","LazyConst"];y.__interfaces__=[$b];y.prototype={value:null,get:function(){return this.value},map:function(a){return new y(a(this.value))},flatMap:function(a){return a(this.value)},__class__:y};var x=function(a){this.value=a};f["tink.core._Future.SyncFuture"]=x;x.__name__=["tink","core","_Future","SyncFuture"];x.__interfaces__=[fb];x.prototype={value:null,map:function(a){return new x(this.value.map(a))},
flatMap:function(a){var b=this.value.map(a);return new gb(function(a){return b.get().handle(a)})},handle:function(a){N.invoke(a,this.value.get());return null},eager:function(){return this},gather:function(){return this},__class__:x};var v={};f["tink.core._Future.Future_Impl_"]=v;v.__name__=["tink","core","_Future","Future_Impl_"];v._new=function(a){return new gb(a)};v.first=function(a,b){var c=new Q,d=a.handle(Y(c,c.trigger)),e=b.handle(Y(c,c.trigger));null!=d&&c.handle(function(a){d.dissolve()});
null!=e&&c.handle(function(a){e.dissolve()});return c};v.map=function(a,b,c){null==c&&(c=!0);a=a.map(b);return c?a.gather():a};v.flatMap=function(a,b,c){null==c&&(c=!0);a=a.flatMap(b);return c?a.gather():a};v.next=function(a,b){return a.flatMap(function(a){return b(a)})};v.merge=function(a,b,c,d){null==d&&(d=!0);a=a.flatMap(function(a){return b.map(function(b){return c(a,b)})});return d?a.gather():a};v.flatten=function(a){return new Fc(a)};v.ofJsPromise=function(a){return v.async(function(b){a.then(function(a){b(h.Success(a))})["catch"](function(a){a=
h.Failure(A.withData(null,a.message,a,{fileName:"Future.hx",lineNumber:78,className:"tink.core._Future.Future_Impl_",methodName:"ofJsPromise"}));b(a)})})};v.asPromise=function(a){return a};v.ofMany=function(a,b){null==b&&(b=!0);for(var c=new x(new y([])),d=0;d<a.length;){var e=[a[d]];++d;c=c.flatMap(function(a){return function(b){var c=function(){return function(a){return b.concat([a])}}();return a[0].map(c)}}(e))}return b?c.gather():c};v.fromMany=function(a){return v.ofMany(a)};v.lazy=function(a){return new x(a)};
v.sync=function(a){return new x(new y(a))};v.async=function(a,b){null==b&&(b=!1);if(b)return new Gc(a);var c=new Q;N.invoke(a,Y(c,c.trigger));return c};v.or=function(a,b){return v.first(a,b)};v.either=function(a,b){var c=a.map(bb.Left),d=b.map(bb.Right);return v.first(c,d)};v.and=function(a,b){return v.merge(a,b,function(a,b){return new sa(a,b)})};v._tryFailingFlatMap=function(a,b){return a.flatMap(function(a){switch(a[1]){case 0:return b(a[2]);case 1:return new x(new y(h.Failure(a[2])))}}).gather()};
v._tryFlatMap=function(a,b){return a.flatMap(function(a){switch(a[1]){case 0:return b(a[2]).map(h.Success).gather();case 1:return new x(new y(h.Failure(a[2])))}}).gather()};v._tryFailingMap=function(a,b){return a.map(function(a){return da.flatMap(a,hb.withSameError(b))}).gather()};v._tryMap=function(a,b){return a.map(function(a){return da.map(a,b)}).gather()};v._flatMap=function(a,b){return a.flatMap(b).gather()};v._map=function(a,b){return a.map(b).gather()};v.trigger=function(){return new Q};var Jd=
{};f["tink.core._Future.Futuristic_Impl_"]=Jd;Jd.__name__=["tink","core","_Future","Futuristic_Impl_"];Jd.ofAny=function(a){return new x(new y(a))};var gb=function(a){this.f=a};f["tink.core._Future.SimpleFuture"]=gb;gb.__name__=["tink","core","_Future","SimpleFuture"];gb.__interfaces__=[fb];gb.prototype={f:null,gathered:null,handle:function(a){return this.f(a)},map:function(a){var b=this;return new gb(function(c){return b.f(function(b){b=a(b);N.invoke(c,b)})})},flatMap:function(a){var b=this;return v.flatten(new gb(function(c){return b.f(function(b){b=
a(b);N.invoke(c,b)})}))},gather:function(){return Q.gatherFuture(this)},eager:function(){var a=Q.gatherFuture(this);a.handle(N.fromNiladic(function(){}));return a},__class__:gb};var Fc=function(a){this.outer=a};f["tink.core._Future.NestedFuture"]=Fc;Fc.__name__=["tink","core","_Future","NestedFuture"];Fc.__interfaces__=[fb];Fc.prototype={outer:null,map:function(a){return this.outer.flatMap(function(b){return b.map(a).gather()}).gather()},flatMap:function(a){return this.outer.flatMap(function(b){return b.flatMap(a).gather()}).gather()},
gather:function(){return Q.gatherFuture(this)},eager:function(){var a=Q.gatherFuture(this);a.handle(N.fromNiladic(function(){}));return a},handle:function(a){var b=null;return b=this.outer.handle(function(c){b=c.handle(function(b){N.invoke(a,b)})})},__class__:Fc};var Q=function(){this.list=[]};f["tink.core.FutureTrigger"]=Q;Q.__name__=["tink","core","FutureTrigger"];Q.__interfaces__=[fb];Q.gatherFuture=function(a){var b=null;return new gb(function(c){null==b&&(b=new Q,a.handle(Y(b,b.trigger)),a=null);
return b.handle(c)})};Q.prototype={result:null,list:null,handle:function(a){var b=this.list;return null==b?(N.invoke(a,this.result),null):pa.add(b,a)},map:function(a){if(null==this.list)return new x(new y(a(this.result)));var b=new Q;pa.add(this.list,function(c){c=a(c);b.trigger(c)});return b},flatMap:function(a){if(null==this.list)return a(this.result);var b=new Q;pa.add(this.list,function(c){a(c).handle(Y(b,b.trigger))});return b},gather:function(){return this},eager:function(){return this},asFuture:function(){return this},
trigger:function(a){if(null==this.list)return!1;var b=this.list;this.list=null;this.result=a;pa.invoke(b,a);pa.clear(b);return!0},__class__:Q};var Gc=function(a){this.op=a;this.list=[]};f["tink.core._Future.LazyTrigger"]=Gc;Gc.__name__=["tink","core","_Future","LazyTrigger"];Gc.__super__=Q;Gc.prototype=O(Q.prototype,{op:null,eager:function(){if(null!=this.op){var a=this.op;this.op=null;N.invoke(a,Y(this,this.trigger))}return this},map:function(a){var b=this;return null==this.op?Q.prototype.map.call(this,
a):v.async(function(c){b.handle(function(b){b=a(b);c(b)})},!0)},flatMap:function(a){var b=this;return null==this.op?Q.prototype.flatMap.call(this,a):v.async(function(c){b.handle(function(b){a(b).handle(c)})},!0)},handle:function(a){this.eager();return Q.prototype.handle.call(this,a)},__class__:Gc});var zd=function(){};f["tink.core.JsPromiseTools"]=zd;zd.__name__=["tink","core","JsPromiseTools"];zd.toSurprise=function(a){return v.ofJsPromise(a)};zd.toPromise=function(a){return v.ofJsPromise(a)};var ac=
{};f["tink.core._Lazy.Lazy_Impl_"]=ac;ac.__name__=["tink","core","_Lazy","Lazy_Impl_"];ac.get=function(a){return a.get()};ac.ofFunc=function(a){return new Fb(a)};ac.map=function(a,b){return a.map(b)};ac.flatMap=function(a,b){return a.flatMap(b)};ac.ofConst=function(a){return new y(a)};var Fb=function(a){this.f=a};f["tink.core._Lazy.LazyFunc"]=Fb;Fb.__name__=["tink","core","_Lazy","LazyFunc"];Fb.__interfaces__=[$b];Fb.prototype={f:null,result:null,get:function(){null!=this.f&&(this.result=this.f(),
this.f=null);return this.result},map:function(a){var b=this;return new Fb(function(){var c=b.get();return a(c)})},flatMap:function(a){var b=this;return new Fb(function(){var c=b.get();return a(c).get()})},__class__:Fb};var Ad=function(a,b){this.name=a;this.value=b};f["tink.core.NamedWith"]=Ad;Ad.__name__=["tink","core","NamedWith"];Ad.prototype={name:null,value:null,__class__:Ad};var Qa=function(){};f["tink.core.OptionTools"]=Qa;Qa.__name__=["tink","core","OptionTools"];Qa.force=function(a,b){if(0==
a[1])return a[2];throw new k(new A(404,"Some value expected but none found",b));};Qa.or=function(a,b){return 0==a[1]?a[2]:b.get()};Qa.orNull=function(a){return 0==a[1]?a[2]:null};Qa.filter=function(a,b){return 0==a[1]?!1==b(a[2])?Da.None:a:a};Qa.satisfies=function(a,b){return 0==a[1]?b(a[2]):!1};Qa.equals=function(a,b){return 0==a[1]?a[2]==b:!1};Qa.map=function(a,b){return 0==a[1]?Da.Some(b(a[2])):Da.None};Qa.flatMap=function(a,b){return 0==a[1]?b(a[2]):Da.None};Qa.iterator=function(a){return new cd(a)};
Qa.toArray=function(a){return 0==a[1]?[a[2]]:[]};var cd=function(a){this.alive=!0;0==a[1]?this.value=a[2]:this.alive=!1};f["tink.core.OptionIter"]=cd;cd.__name__=["tink","core","OptionIter"];cd.prototype={value:null,alive:null,hasNext:function(){return this.alive},next:function(){this.alive=!1;return this.value},__class__:cd};var h=f["tink.core.Outcome"]={__ename__:["tink","core","Outcome"],__constructs__:["Success","Failure"]};h.Success=function(a){a=["Success",0,a];a.__enum__=h;a.toString=s;return a};
h.Failure=function(a){a=["Failure",1,a];a.__enum__=h;a.toString=s;return a};var da=function(){};f["tink.core.OutcomeTools"]=da;da.__name__=["tink","core","OutcomeTools"];da.sure=function(a){switch(a[1]){case 0:return a[2];case 1:a=a[2];var b=A.asError(a);if(null==b)throw new k(a);return b.throwSelf()}};da.toOption=function(a){switch(a[1]){case 0:return Da.Some(a[2]);case 1:return Da.None}};da.toOutcome=function(a,b){switch(a[1]){case 0:return h.Success(a[2]);case 1:return h.Failure(new A(404,"Some value expected but none found in "+
b.fileName+"@line "+b.lineNumber,{fileName:"Outcome.hx",lineNumber:47,className:"tink.core.OutcomeTools",methodName:"toOutcome"}))}};da.orNull=function(a){switch(a[1]){case 0:return a[2];case 1:return null}};da.orUse=function(a,b){switch(a[1]){case 0:return a[2];case 1:return b.get()}};da.orTry=function(a,b){switch(a[1]){case 0:return a;case 1:return b.get()}};da.equals=function(a,b){switch(a[1]){case 0:return a[2]==b;case 1:return!1}};da.map=function(a,b){switch(a[1]){case 0:return h.Success(b(a[2]));
case 1:return h.Failure(a[2])}};da.isSuccess=function(a){return 0==a[1]?!0:!1};da.flatMap=function(a,b){return hb.apply(b,a)};da.swap=function(a,b){switch(a[1]){case 0:return h.Success(b);case 1:return h.Failure(a[2])}};da.attempt=function(a,b){try{return h.Success(a())}catch(c){return z.lastException=c,c instanceof k&&(c=c.val),h.Failure(b(c))}};da.flatten=function(a){switch(a[1]){case 0:switch(a[2][1]){case 0:return h.Success(a[2][2]);case 1:return h.Failure(a[2][2])}break;case 1:return h.Failure(a[2])}};
var hb={};f["tink.core._Outcome.OutcomeMapper_Impl_"]=hb;hb.__name__=["tink","core","_Outcome","OutcomeMapper_Impl_"];hb._new=function(a){return{f:a}};hb.apply=function(a,b){return a.f(b)};hb.withSameError=function(a){return hb._new(function(b){switch(b[1]){case 0:return a(b[2]);case 1:return h.Failure(b[2])}})};hb.withEitherError=function(a){return hb._new(function(b){switch(b[1]){case 0:b=a(b[2]);switch(b[1]){case 0:return h.Success(b[2]);case 1:return h.Failure(bb.Right(b[2]))}break;case 1:return h.Failure(bb.Left(b[2]))}})};
var wb={};f["tink.core._Pair.Pair_Impl_"]=wb;wb.__name__=["tink","core","_Pair","Pair_Impl_"];wb.__properties__={get_b:"get_b",get_a:"get_a"};wb._new=function(a,b){return new sa(a,b)};wb.get_a=function(a){return a.a};wb.get_b=function(a){return a.b};wb.toBool=function(a){return null!=a};wb.isNil=function(a){return null==a};wb.nil=function(){return null};var sa=function(a,b){this.a=a;this.b=b};f["tink.core.MPair"]=sa;sa.__name__=["tink","core","MPair"];sa.prototype={a:null,b:null,__class__:sa};var E=
{};f["tink.core._Promise.Promise_Impl_"]=E;E.__name__=["tink","core","_Promise","Promise_Impl_"];E.eager=function(a){return a.eager()};E.map=function(a,b){return a.map(b).gather()};E.flatMap=function(a,b){return a.flatMap(b).gather()};E.tryRecover=function(a,b){return a.flatMap(function(a){switch(a[1]){case 0:return new x(new y(a));case 1:return b(a[2])}}).gather()};E.recover=function(a,b){return a.flatMap(function(a){switch(a[1]){case 0:return new x(new y(a[2]));case 1:return b(a[2])}}).gather()};
E.mapError=function(a,b){return a.map(function(a){switch(a[1]){case 0:return a;case 1:return h.Failure(b(a[2]))}}).gather()};E.handle=function(a,b){return a.handle(b)};E.noise=function(a){return E.next(a,function(a){return E.ofOutcome(h.Success(I.Noise))})};E.isSuccess=function(a){return a.map(function(a){return da.isSuccess(a)}).gather()};E.next=function(a,b,c){null==c&&(c=!0);a=a.flatMap(function(a){switch(a[1]){case 0:return b(a[2]);case 1:return new x(new y(h.Failure(a[2])))}});return c?a.gather():
a};E.swap=function(a,b){return v._tryMap(a,function(a){return b})};E.swapError=function(a,b){return E.mapError(a,function(a){return b})};E.merge=function(a,b,c,d){null==d&&(d=!0);return E.next(a,function(a){return E.next(b,function(b){return c(a,b)},!1)},d)};E.and=function(a,b){return E.merge(a,b,function(a,b){var e=new sa(a,b);return E.ofOutcome(h.Success(e))})};E.ofJsPromise=function(a){return v.ofJsPromise(a)};E.ofSpecific=function(a){return a};E.ofFuture=function(a){return a.map(h.Success).gather()};
E.ofOutcome=function(a){return new x(new y(a))};E.ofError=function(a){return E.ofOutcome(h.Failure(a))};E.ofData=function(a){return E.ofOutcome(h.Success(a))};E.lazy=function(a){return v.async(function(b){a.get().handle(b)},!0)};E.inParallel=function(a,b){return 0==a.length?new x(new y(h.Success([]))):v.async(function(b){for(var d=[],e=a.length,g=null,f=!1,w=function(a){null==g?f=!0:null!=g&&g.dissolve();b(a)},k=[],l=0,n=a.length;l<n;){var m=[l++];if(f)break;var p=m[0],m=function(a){return function(b){switch(b[1]){case 0:d[a[0]]=
b[2];0==(e-=1)&&w(h.Success(d));break;case 1:w(h.Failure(b[2]))}}}(m);k.push(a[p].handle(m))}g=eb.fromMany(k);f&&null!=g&&g.dissolve()},b)};E.inSequence=function(a){var b=null,b=function(c){return c==a.length?E.ofOutcome(h.Success([])):E.next(a[c],function(a){return E.next(b(c+1),function(b){return E.ofOutcome(h.Success([a].concat(b)))})})};return b(0)};E.lift=function(a){return a};var Hc={};f["tink.core._Promise.Next_Impl_"]=Hc;Hc.__name__=["tink","core","_Promise","Next_Impl_"];Hc.ofSafe=function(a){return function(b){return new x(new y(a(b)))}};
Hc.ofSync=function(a){return function(b){return a(b).map(h.Success).gather()}};Hc.ofSafeSync=function(a){return function(b){return E.ofOutcome(h.Success(a(b)))}};Hc._chain=function(a,b){return function(c){return E.next(a(c),b)}};var Kd={};f["tink.core._Promise.Recover_Impl_"]=Kd;Kd.__name__=["tink","core","_Promise","Recover_Impl_"];Kd.ofSync=function(a){return function(b){return new x(new y(a(b)))}};var dd={};f["tink.core._Promise.Combiner_Impl_"]=dd;dd.__name__=["tink","core","_Promise","Combiner_Impl_"];
dd.ofSafe=function(a){return function(b,c){return new x(new y(a(b,c)))}};dd.ofSync=function(a){return function(b,c){return a(b,c).map(h.Success).gather()}};dd.ofSafeSync=function(a){return function(b,c){return E.ofOutcome(h.Success(a(b,c)))}};var Gb={};f["tink.core._Ref.Ref_Impl_"]=Gb;Gb.__name__=["tink","core","_Ref","Ref_Impl_"];Gb.__properties__={set_value:"set_value",get_value:"get_value"};Gb._new=function(){return Array(1)};Gb.get_value=function(a){return a[0]};Gb.set_value=function(a,b){return a[0]=
b};Gb.toString=function(a){return"@["+n.string(a[0])+"]"};Gb.to=function(a){var b=Array(1);b[0]=a;return b};var Z={};f["tink.core._Signal.Signal_Impl_"]=Z;Z.__name__=["tink","core","_Signal","Signal_Impl_"];Z._new=function(a){return new Ra(a)};Z.map=function(a,b,c){null==c&&(c=!0);var d=new Ra(function(c){return a.handle(function(a){a=b(a);N.invoke(c,a)})});return c?Z.gather(d):d};Z.flatMap=function(a,b,c){null==c&&(c=!0);var d=new Ra(function(c){return a.handle(function(a){b(a).handle(c)})});return c?
Z.gather(d):d};Z.filter=function(a,b,c){null==c&&(c=!0);var d=new Ra(function(c){return a.handle(function(a){b(a)&&N.invoke(c,a)})});return c?Z.gather(d):d};Z.select=function(a,b,c){null==c&&(c=!0);var d=new Ra(function(c){return a.handle(function(a){a=b(a);switch(a[1]){case 0:N.invoke(c,a[2])}})});return c?Z.gather(d):d};Z.join=function(a,b,c){null==c&&(c=!0);var d=new Ra(function(c){return new Zb(a.handle(c),b.handle(c))});return c?Z.gather(d):d};Z.nextTime=function(a,b){var c=new Q,d=null,e=!1,
d=a.handle(function(a){if(null==b||b(a))c.trigger(a),null==d?e=!0:null!=d&&d.dissolve()});e&&null!=d&&d.dissolve();return c};Z.next=function(a,b){return Z.nextTime(a,b)};Z.noise=function(a){return Z.map(a,function(a){return I.Noise})};Z.gather=function(a){var b=Z.trigger();a.handle(function(a){pa.invoke(b.handlers,a)});return b};Z.generate=function(a){var b=Z.trigger();a(Y(b,b.trigger));return b};Z.trigger=function(){return new Ic};Z.ofClassical=function(a,b,c){null==c&&(c=!0);var d=new Ra(function(c){var d=
function(a){N.invoke(c,a)};a(d);return new vb(function(){b(d)})});return c?Z.gather(d):d};var bc=function(){};f["tink.core.SignalObject"]=bc;bc.__name__=["tink","core","SignalObject"];bc.prototype={handle:null,__class__:bc};var Ra=function(a){this.f=a};f["tink.core._Signal.SimpleSignal"]=Ra;Ra.__name__=["tink","core","_Signal","SimpleSignal"];Ra.__interfaces__=[bc];Ra.prototype={f:null,handle:function(a){return this.f(a)},__class__:Ra};var Ic=function(){this.handlers=[]};f["tink.core.SignalTrigger"]=
Ic;Ic.__name__=["tink","core","SignalTrigger"];Ic.__interfaces__=[bc];Ic.prototype={handlers:null,trigger:function(a){pa.invoke(this.handlers,a)},getLength:function(){return this.handlers.length},handle:function(a){return pa.add(this.handlers,a)},clear:function(){pa.clear(this.handlers)},asSignal:function(){return this},__class__:Ic};var Sd=function(){};f["ufront.MVC"]=Sd;Sd.__name__=["ufront","MVC"];var ca=f["ufront.api.ApiReturnType"]={__ename__:["ufront","api","ApiReturnType"],__constructs__:["ARTFuture",
"ARTOutcome","ARTVoid"]};ca.ARTFuture=["ARTFuture",0];ca.ARTFuture.toString=s;ca.ARTFuture.__enum__=ca;ca.ARTOutcome=["ARTOutcome",1];ca.ARTOutcome.toString=s;ca.ARTOutcome.__enum__=ca;ca.ARTVoid=["ARTVoid",2];ca.ARTVoid.toString=s;ca.ARTVoid.__enum__=ca;var Ld=function(){};f["ufront.api.RequireAsyncCallbackApi"]=Ld;Ld.__name__=["ufront","api","RequireAsyncCallbackApi"];var Bd=function(a,b){this.cnx=ib.urlConnect(a,b)};f["ufront.api.UFApiClientContext"]=Bd;Bd.__name__=["ufront","api","UFApiClientContext"];
Bd.prototype={cnx:null,__class__:Bd};var Hb=function(){};f["ufront.api.UFApiContext"]=Hb;Hb.__name__=["ufront","api","UFApiContext"];Hb.getApisInContext=function(a){var b=[],c=P.getType(a);if(null!=c.apiList)for(a=0,c=c.apiList;a<c.length;){var d=c[a];++a;d=t.resolveClass(d);null!=d&&b.push(d)}return b};Hb.prototype={injector:null,__class__:Hb};var Jc=function(a){this.cnx=a};f["ufront.api.UFCallbackApi"]=Jc;Jc.__name__=["ufront","api","UFCallbackApi"];Jc.getCallbackApi=function(a){a=P.getType(a);
return null!=a.callbackApi&&(a=a.callbackApi[0],null!=a)?t.resolveClass(a):null};Jc.prototype={className:null,cnx:null,_makeApiCall:function(a,b,c,d,e){null==this.className&&(this.className=t.getClassName(q.getClass(this)));var g=""+this.className+"."+a+"("+b.join(",")+")";a=this.cnx.resolve(this.className).resolve(a);null!=e&&a.setErrorHandler(function(a){N.invoke(e,a)});a.call(b,function(a){if(0!=(c&1<<ca.ARTVoid[1]))N.invoke(d,null);else if(0!=(c&1<<ca.ARTOutcome[1]))switch(a[1]){case 0:N.invoke(d,
a[2]);break;case 1:N.invoke(e,T.RApiFailure(g,a[2]))}else N.invoke(d,a)})},__class__:Jc};var ta=function(){this.pathToContentDir=null;this.requestMiddleware=[];this.requestHandlers=[];this.responseMiddleware=[];this.logHandlers=[];this.errorHandlers=[];this.urlFilters=[];this.messages=[];this.injector=new sb;this.injector.mapType("minject.Injector",null).toValue(this.injector)};f["ufront.app.HttpApplication"]=ta;ta.__name__=["ufront","app","HttpApplication"];ta.prototype={injector:null,requestMiddleware:null,
requestHandlers:null,responseMiddleware:null,logHandlers:null,errorHandlers:null,urlFilters:null,originalTrace:null,messages:null,modulesReady:null,currentModule:null,pathToContentDir:null,init:function(){var a=this;this.originalTrace=V.trace;V.trace=function(b,c){a.messages.push({msg:b,pos:c,type:M.MTrace})};if(null==this.modulesReady){for(var b=[],c=0,d=this.getModulesThatRequireInit();c<d.length;){var e=d[c];++c;b.push(e.init(this))}this.modulesReady=v.ofMany(b).map(function(a){for(var b=0;b<a.length;){var c=
a[b];++b;switch(c[1]){case 1:return h.Failure(c[2])}}return h.Success(I.Noise)}).gather()}return this.modulesReady},dispose:function(){for(var a=this,b=[],c=0,d=this.getModulesThatRequireInit();c<d.length;){var e=d[c];++c;b.push(e.dispose(this))}return v.ofMany(b).map(function(b){a.modulesReady=null;for(var c=0;c<b.length;){var d=b[c];++c;switch(d[1]){case 1:return d}}V.trace=a.originalTrace;return h.Success(I.Noise)}).gather()},getModulesThatRequireInit:function(){for(var a=[this.requestMiddleware,
this.requestHandlers,this.responseMiddleware,this.logHandlers,this.errorHandlers],b=[],c=0;c<a.length;){var d=a[c];++c;for(var e=0;e<d.length;){var g=d[e];++e;q.__instanceof(g,Ib)&&b.push(g)}}return b},addRequestMiddleware:function(a,b,c){null==c&&(c=!1);return this.addModule(this.requestMiddleware,a,b,c)},addRequestHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.requestHandlers,a,b,c)},addErrorHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.errorHandlers,a,b,
c)},addResponseMiddleware:function(a,b,c){null==c&&(c=!1);return this.addModule(this.responseMiddleware,a,b,!c)},addMiddleware:function(a,b,c){null==c&&(c=!1);this.addModule(this.requestMiddleware,a,b,c);this.addModule(this.responseMiddleware,a,b,!c);return this},addLogHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.logHandlers,a,b,c)},addModule:function(a,b,c,d){null!=b&&(this.injector.injectInto(b),d?a.unshift(b):a.push(b));if(null!=c)for(b=fa(c)();b.hasNext();)c=b.next(),this.injector.injectInto(c),
d?a.unshift(c):a.push(c);return this},execute:function(a){var b=this;a.setUrlFilters(this.urlFilters);var c=this.requestMiddleware.map(function(a){var b=Y(a,a.requestIn);return new sa(function(a){return b(a)},{methodName:"requestIn",lineNumber:-1,fileName:"",customParams:[],className:t.getClassName(null==a?null:q.getClass(a))})}),d=this.requestHandlers.map(function(a){var b=Y(a,a.handleRequest);return new sa(function(a){return b(a)},{methodName:"handleRequest",lineNumber:-1,fileName:"",customParams:[],
className:t.getClassName(null==a?null:q.getClass(a))})}),e=this.responseMiddleware.map(function(a){var b=Y(a,a.responseOut);return new sa(function(a){return b(a)},{methodName:"requestOut",lineNumber:-1,fileName:"",customParams:[],className:t.getClassName(null==a?null:q.getClass(a))})}),g=this.logHandlers.map(function(a){var c=Y(a,a.log),d=b.messages;return new sa(function(a){return c(a,d)},{methodName:"log",lineNumber:-1,fileName:"",customParams:["httpContext","appMessages"],className:t.getClassName(null==
a?null:q.getClass(a))})});a.getRequestUri();var f=v._tryFailingFlatMap(this.init(),function(f){return v._tryFailingFlatMap(b.executeModules(c,a,G.CRequestMiddlewareComplete),function(c){return v._tryFailingFlatMap(b.executeModules(d,a,G.CRequestHandlersComplete),function(c){return v._tryFailingFlatMap(b.executeModules(e,a,G.CResponseMiddlewareComplete),function(c){return v._tryFailingFlatMap(b.executeModules(g,a,G.CLogHandlersComplete),function(c){return v._tryMap(b.clearMessages(),function(c){return b.flush(a)})})})})})});
f.handle(N.fromNiladic(function(){a.getRequestUri()}));return f},logModule:function(a,b){},executeModules:function(a,b,c){var d=this,e=new Q;n.string(c);var g=null,g=function(){var f=a.shift();if(null!=c&&0!=(b.completion&1<<c[1]))n.string(c),e.trigger(h.Success(I.Noise));else if(null==f)n.string(c),null!=c&&(b.completion|=1<<c[1]),e.trigger(h.Success(I.Noise));else{var w=f.a;d.currentModule=f.b;var l;try{l=w(b)}catch(m){z.lastException=m,m instanceof k&&(m=m.val),b.messages.push({msg:"Caught error "+
n.string(m)+" while executing module "+d.currentModule.className+"."+d.currentModule.methodName+" in HttpApplication.executeModules()",pos:{fileName:"HttpApplication.hx",lineNumber:422,className:"ufront.app.HttpApplication",methodName:"executeModules"},type:M.MLog}),l=new x(new y(h.Failure(r.wrap(m,null,d.currentModule))))}l.handle(function(a){switch(a[1]){case 0:g();break;case 1:d.handleError(a[2],b,e)}})}};g();return e},handleError:function(a,b,c){var d=this;if(0==(b.completion&1<<G.CErrorHandlersTriggered[1])){n.string(a);
b.completion|=1<<G.CErrorHandlersTriggered[1];var e=this.errorHandlers.map(function(b){var c={methodName:"handleError",lineNumber:-1,fileName:"",customParams:[a.toString()],className:t.getClassName(null==b?null:q.getClass(b))},d=Y(b,b.handleError);return new sa(function(b){return d(a,b)},c)}),g=this.responseMiddleware.map(function(a){var b=Y(a,a.responseOut);return new sa(function(a){return b(a)},{methodName:"requestOut",lineNumber:-1,fileName:"",customParams:[],className:t.getClassName(null==a?null:
q.getClass(a))})}),f=this.logHandlers.map(function(a){var b=Y(a,a.log),c=d.messages;return new sa(function(a){return b(a,c)},{methodName:"log",lineNumber:-1,fileName:"",customParams:["httpContext","appMessages"],className:t.getClassName(null==a?null:q.getClass(a))})});v._tryFailingFlatMap(v._tryFailingFlatMap(this.executeModules(e,b,G.CErrorHandlersComplete),function(a){b.completion|=1<<G.CRequestHandlersComplete[1];return u.success()}),function(a){return v._tryFailingFlatMap(d.executeModules(g,b,
G.CResponseMiddlewareComplete),function(a){return v._tryFailingFlatMap(d.executeModules(f,b,G.CLogHandlersComplete),function(a){return v._tryMap(d.clearMessages(),function(a){return d.flush(b)})})})}).handle(N.fromNiladic(function(){n.string(a);c.trigger(h.Failure(a))}))}else throw new k(""+("You had an error after your error handler had already run.  Last active module: "+this.currentModule.className+"."+this.currentModule.methodName)+" \nError: "+n.string(a)+" \nError Data: "+n.string(a.data));
},clearMessages:function(){for(var a=0,b=this.messages.length;a<b;)a++,this.messages.pop();return u.success()},flush:function(a){0==(a.completion&1<<G.CFlushComplete[1])&&(a.response.flush(),a.completion|=1<<G.CFlushComplete[1]);return I.Noise},executeRequest:function(){var a=null!=this.pathToContentDir?xb.createContext(null,null,this.injector,null,null,this.urlFilters,this.pathToContentDir):xb.createContext(null,null,this.injector,null,null,this.urlFilters);return this.execute(a)},useModNekoCache:function(){},
addUrlFilter:function(a){r.throwIfNull(a,"filter",{fileName:"HttpApplication.hx",lineNumber:619,className:"ufront.app.HttpApplication",methodName:"addUrlFilter"});this.urlFilters.push(a)},clearUrlFilters:function(){this.urlFilters=[]},setContentDirectory:function(a){this.pathToContentDir=a},__class__:ta};var Ba=function(a){ta.call(this);this.configuration=Cd.get();for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;var e=F.field(a,d);this.configuration[d]=e}this.mvcHandler=new cc(this.configuration.indexController);
for(a=fa(this.configuration.controllers)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b)._toClass(b);for(a=fa(this.configuration.apis)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b).asSingleton(),b=Ma.getAsyncApi(b),null!=b&&this.injector.mapRuntimeTypeOf(b).asSingleton();null!=this.configuration.remotingPath&&(a=jb.urlConnect(this.configuration.remotingPath),b=ib.urlConnect(this.configuration.remotingPath),this.injector.mapType("haxe.remoting.Connection",null,null).toValue(a),
this.injector.mapType("haxe.remoting.AsyncConnection",null,null).toValue(b));this.addModule(this.requestMiddleware,null,this.configuration.requestMiddleware,!1);this.addModule(this.requestHandlers,null,[this.mvcHandler],!1);this.addModule(this.responseMiddleware,null,this.configuration.responseMiddleware,!0);this.addModule(this.errorHandlers,null,this.configuration.errorHandlers,!1);this.configuration.disableBrowserTrace||(a=new Ua,this.addModule(this.logHandlers,a,null,!1));a=this.configuration.basePath;
L.endsWith(a,"/")&&(a=m.substr(a,0,a.length-1));L.startsWith(a,"/")&&(a=m.substr(a,1,null));0<a.length&&ta.prototype.addUrlFilter.call(this,new dc(a));!0!=this.configuration.urlRewrite&&ta.prototype.addUrlFilter.call(this,new ec);null!=this.configuration.sessionImplementation&&(this.injector.mapType("ufront.web.session.UFHttpSession",null,null)._toClass(this.configuration.sessionImplementation),this.injector.mapRuntimeTypeOf(this.configuration.sessionImplementation)._toClass(this.configuration.sessionImplementation));
null!=this.configuration.authImplementation&&(this.injector.mapType("ufront.auth.UFAuthHandler",null,null)._toClass(this.configuration.authImplementation),this.injector.mapRuntimeTypeOf(this.configuration.authImplementation)._toClass(this.configuration.authImplementation));null!=this.configuration.defaultLayout&&this.injector.mapType("String","defaultLayout",null).toValue(this.configuration.defaultLayout);if(null!=this.configuration.viewEngine){this.injector.mapType("String","viewPath",null).toValue(this.configuration.viewPath);
this.injector.mapType("ufront.view.UFViewEngine",null,null)._toSingleton(this.configuration.viewEngine);this.injector.mapRuntimeTypeOf(this.configuration.viewEngine).toValue(this.injector.getValueForType("ufront.view.UFViewEngine",null));try{this.viewEngine=this.injector.getValueForType("ufront.view.UFViewEngine",null);a=0;for(var g=this.configuration.templatingEngines;a<g.length;){var f=g[a];++a;this.viewEngine.engines.push(f)}}catch(h){z.lastException=h,h instanceof k&&(h=h.val),V.trace("Failed to load view engine "+
t.getClassName(this.configuration.viewEngine)+": "+n.string(h),{fileName:"ClientJsApplication.hx",lineNumber:161,className:"ufront.app.ClientJsApplication",methodName:"new"})}}if(null!=this.configuration.clientActions)for(g=fa(this.configuration.clientActions)();g.hasNext();)f=g.next(),this.registerAction(f);Ba._currentApps.push(this)};f["ufront.app.ClientJsApplication"]=Ba;Ba.__name__=["ufront","app","ClientJsApplication"];Ba.ufExecuteAction=Od.ufExecuteAction=function(a,b){for(var c=0,d=Ba._currentApps;c<
d.length;){var e=d[c];++c;e.executeAction(a,b)}};Ba.ufExecuteSerializedAction=Od.ufExecuteSerializedAction=function(a,b){var c=null==b?null:ba.run(b);Ba.ufExecuteAction(a,c)};Ba.__super__=ta;Ba.prototype=O(ta.prototype,{configuration:null,mvcHandler:null,viewEngine:null,currentContext:null,listen:function(){var a=this;p.init(null,!1);p.addEventListener(null,function(b,c){a.executeRequest()});return this},executeRequest:function(){this.loadCurrentContext();return this.execute(this.get_currentContext())},
dispose:function(){m.remove(Ba._currentApps,this);return ta.prototype.dispose.call(this)},registerAction:function(a){this.injector.mapRuntimeTypeOf(a).asSingleton();return this},executeAction:function(a,b){if(this.injector.hasMappingForType(a,null))this.injector.getValueForType(a).execute(this.get_currentContext(),b);else throw new k("UFClientAction "+a+" was not registered with the ClientJsApplication.");},get_currentContext:function(){null==this.currentContext&&this.loadCurrentContext();return this.currentContext},
loadCurrentContext:function(){this.currentContext=xb.createContext(null,null,this.injector,null,null,this.urlFilters)},__class__:Ba,__properties__:{get_currentContext:"get_currentContext"}});var Ib=function(){};f["ufront.app.UFInitRequired"]=Ib;Ib.__name__=["ufront","app","UFInitRequired"];Ib.prototype={init:null,dispose:null,__class__:Ib};var kb=function(){};f["ufront.app.UFLogHandler"]=kb;kb.__name__=["ufront","app","UFLogHandler"];kb.prototype={log:null,__class__:kb};var Kc=function(){};f["ufront.app.UFResponseMiddleware"]=
Kc;Kc.__name__=["ufront","app","UFResponseMiddleware"];Kc.prototype={responseOut:null,__class__:Kc};var fc=function(){};f["ufront.app.UFRequestMiddleware"]=fc;fc.__name__=["ufront","app","UFRequestMiddleware"];fc.prototype={requestIn:null,__class__:fc};var gc=function(){};f["ufront.app.UFMiddleware"]=gc;gc.__name__=["ufront","app","UFMiddleware"];gc.__interfaces__=[Kc,fc];var hc=function(){};f["ufront.app.UFRequestHandler"]=hc;hc.__name__=["ufront","app","UFRequestHandler"];hc.prototype={handleRequest:null,
toString:null,__class__:hc};var ed=function(a){this.appTemplatingEngines=new ka;this.firstRun=!0;ta.call(this);this.configuration=Dd.get();for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;var e=F.field(a,d);this.configuration[d]=e}this.mvcHandler=new cc(this.configuration.indexController);this.remotingHandler=new Lc;if(null!=this.configuration.remotingApi)for(a=this.remotingHandler,b=this.configuration.remotingApi,a.apiContexts.push(b),b=fa(Hb.getApisInContext(b))();b.hasNext();)c=b.next(),a.apis.push(c);
for(a=fa(this.configuration.controllers)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b)._toClass(b);this.addModule(this.requestMiddleware,null,this.configuration.requestMiddleware,!1);this.addModule(this.requestHandlers,null,[this.remotingHandler,this.mvcHandler],!1);this.addModule(this.responseMiddleware,null,this.configuration.responseMiddleware,!0);this.addModule(this.errorHandlers,null,this.configuration.errorHandlers,!1);this.configuration.disableServerTrace||(a=new Va,this.addModule(this.logHandlers,
a,null,!1));this.configuration.disableBrowserTrace||(a=new Ua,this.addModule(this.logHandlers,a,null,!1),a=new Jb,this.addModule(this.logHandlers,a,null,!1));null!=this.configuration.logFile&&(a=new Wa(this.configuration.logFile),this.addModule(this.logHandlers,a,null,!1));a=this.configuration.basePath;L.endsWith(a,"/")&&(a=m.substr(a,0,a.length-1));L.startsWith(a,"/")&&(a=m.substr(a,1,null));0<a.length&&ta.prototype.addUrlFilter.call(this,new dc(a));!0!=this.configuration.urlRewrite&&ta.prototype.addUrlFilter.call(this,
new ec);null!=this.configuration.sessionImplementation&&(this.injector.mapType("ufront.web.session.UFHttpSession",null,null)._toClass(this.configuration.sessionImplementation),this.injector.mapRuntimeTypeOf(this.configuration.sessionImplementation)._toClass(this.configuration.sessionImplementation));null!=this.configuration.authImplementation&&(this.injector.mapType("ufront.auth.UFAuthHandler",null,null)._toClass(this.configuration.authImplementation),this.injector.mapRuntimeTypeOf(this.configuration.authImplementation)._toClass(this.configuration.authImplementation));
null!=this.configuration.viewEngine&&(this.injector.mapType("String","viewPath",null).toValue(this.configuration.viewPath),this.injector.mapType("ufront.view.UFViewEngine",null,null)._toSingleton(this.configuration.viewEngine));null!=this.configuration.contentDirectory&&this.setContentDirectory(this.configuration.contentDirectory);null!=this.configuration.defaultLayout&&this.injector.mapType("String","defaultLayout",null).toValue(this.configuration.defaultLayout);a=0;for(b=this.configuration.templatingEngines;a<
b.length;)c=b[a],++a,this.addTemplatingEngine(c)};f["ufront.app.UfrontApplication"]=ed;ed.__name__=["ufront","app","UfrontApplication"];ed.__super__=ta;ed.prototype=O(ta.prototype,{configuration:null,mvcHandler:null,remotingHandler:null,viewEngine:null,execute:function(a){r.throwIfNull(a,"httpContext",{fileName:"UfrontApplication.hx",lineNumber:173,className:"ufront.app.UfrontApplication",methodName:"execute"});this.firstRun&&this.initOnFirstExecute(a);for(var b=fa(this.configuration.apis)();b.hasNext();){var c=
b.next();a.injector.mapRuntimeTypeOf(c)._toSingleton(c);c=Ma.getAsyncApi(c);null!=c&&a.injector.mapRuntimeTypeOf(c)._toSingleton(c)}return ta.prototype.execute.call(this,a)},firstRun:null,initOnFirstExecute:function(a){this.firstRun=!1;this.injector.mapType("String","scriptDirectory",null).toValue(a.request.get_scriptDirectory());this.injector.mapType("String","contentDirectory",null).toValue(a.get_contentDirectory());if(null!=this.configuration.viewEngine)try{this.viewEngine=this.injector.getValueForType("ufront.view.UFViewEngine",
null);for(var b=this.appTemplatingEngines.h;null!=b;){var c=b.item,b=b.next;this.viewEngine.engines.push(c)}}catch(d){z.lastException=d,d instanceof k&&(d=d.val),b="Failed to load view engine "+t.getClassName(this.configuration.viewEngine)+": ",a.messages.push({msg:b+n.string(d),pos:{fileName:"UfrontApplication.hx",lineNumber:206,className:"ufront.app.UfrontApplication",methodName:"initOnFirstExecute"},type:M.MWarning})}},loadApiContext:function(a){var b=this.remotingHandler;b.apiContexts.push(a);
for(a=fa(Hb.getApisInContext(a))();a.hasNext();){var c=a.next();b.apis.push(c)}return this},appTemplatingEngines:null,addTemplatingEngine:function(a){this.appTemplatingEngines.add(a);null!=this.viewEngine&&this.viewEngine.engines.push(a);return this},__class__:ed});var Cd=function(){};f["ufront.app.DefaultUfrontClientConfiguration"]=Cd;Cd.__name__=["ufront","app","DefaultUfrontClientConfiguration"];Cd.get=function(){return{indexController:yb,urlRewrite:!0,basePath:"/",remotingPath:"/",disableBrowserTrace:!1,
controllers:ja.get("null,true,ufront.web.Controller"),apis:ja.get("null,true,ufront.api.UFApi"),clientActions:ja.get("null,true,ufront.web.client.UFClientAction"),viewEngine:ic,templatingEngines:na.all,viewPath:"/view/",defaultLayout:null,sessionImplementation:jc,requestMiddleware:[new Mc],responseMiddleware:[],errorHandlers:[new zb],authImplementation:kc}};var Dd=function(){};f["ufront.app.DefaultUfrontConfiguration"]=Dd;Dd.__name__=["ufront","app","DefaultUfrontConfiguration"];Dd.get=function(){var a=
new Kb,b=new lc;return{indexController:yb,remotingApi:null,urlRewrite:!0,basePath:"/",contentDirectory:"../uf-content",logFile:null,disableBrowserTrace:!1,disableServerTrace:!1,controllers:ja.get("null,true,ufront.web.Controller"),apis:ja.get("null,true,ufront.api.UFApi"),viewEngine:mc,templatingEngines:na.all,viewPath:"view/",defaultLayout:null,sessionImplementation:za,requestMiddleware:[b,a],responseMiddleware:[a,b],errorHandlers:[new zb],authImplementation:Nc}};var yb=function(){};f["ufront.app.DefaultUfrontController"]=
yb;yb.__name__=["ufront","app","DefaultUfrontController"];yb.__super__=ab;yb.prototype=O(ab.prototype,{showMessage:function(){var a={fileName:"UfrontConfiguration.hx",lineNumber:279,className:"ufront.app.DefaultUfrontController",methodName:"showMessage"};null!=this.context?this.context.messages.push({msg:"Your Ufront App is almost ready.",pos:a,type:M.MTrace}):V.trace("Your Ufront App is almost ready.",a);return'<!DOCTYPE html>\n<html>\n<head>\n\t<title>New Ufront App</title>\n\t<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />\n</head>\n<body style="padding-top: 30px;">\n\t<div class="container">\n\t\t<div class="jumbotron">\n\t\t\t<h1>Almost done!</h1>\n\t\t\t<p>Your new Ufront App is almost ready to go. You will need to add some routes and let ufront know about them:</p>\n\t\t\t<pre><code>\n\tapp = new UfrontApplication({\n\t\tindexController: MySiteController,\n\t});\n\tapp.executeRequest();\n\t\t\t</code></pre>\n\t\t\t<p>See the Getting Started tutorial for more information.</p>\n\t\t</div>\n\t</div>\n</body>\n</html>\n'},
execute:function(){this.context.actionContext.get_uriParts();this.context.request.get_params();this.context.request.get_httpMethod();this.context.actionContext.controller=this;this.context.actionContext.action="execute";try{this.context.actionContext.action="showMessage";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,0);var a=P.getFields(yb).showMessage.wrapResult[0],b=this.wrapResult(this.showMessage(),a);this.setContextActionResultWhenFinished(b);return b}catch(c){return z.lastException=
c,c instanceof k&&(c=c.val),u.asSurpriseError(c,"Uncaught error while executing "+n.string(this.context.actionContext.controller)+"."+this.context.actionContext.action+"()",{fileName:"UfrontConfiguration.hx",lineNumber:276,className:"ufront.app.DefaultUfrontController",methodName:"execute"})}},__class__:yb});var Fa=f["ufront.auth.AuthError"]={__ename__:["ufront","auth","AuthError"],__constructs__:["ANotLoggedIn","ALoginFailed","ANotLoggedInAs","ANoPermission"]};Fa.ANotLoggedIn=["ANotLoggedIn",0];
Fa.ANotLoggedIn.toString=s;Fa.ANotLoggedIn.__enum__=Fa;Fa.ALoginFailed=function(a){a=["ALoginFailed",1,a];a.__enum__=Fa;a.toString=s;return a};Fa.ANotLoggedInAs=function(a){a=["ANotLoggedInAs",2,a];a.__enum__=Fa;a.toString=s;return a};Fa.ANoPermission=function(a){a=["ANoPermission",3,a];a.__enum__=Fa;a.toString=s;return a};var nc=function(){};f["ufront.auth.UFAuthHandler"]=nc;nc.__name__=["ufront","auth","UFAuthHandler"];nc.prototype={get_currentUser:null,isLoggedIn:null,requireLogin:null,isLoggedInAs:null,
requireLoginAs:null,hasPermission:null,hasPermissions:null,requirePermission:null,requirePermissions:null,toString:null,__class__:nc,__properties__:{get_currentUser:"get_currentUser"}};var kc=function(){};f["ufront.auth.NobodyAuthHandler"]=kc;kc.__name__=["ufront","auth","NobodyAuthHandler"];kc.__interfaces__=[nc];kc.prototype={isLoggedIn:function(){return!1},requireLogin:function(){throw new k(r.authError(Fa.ANotLoggedIn,{fileName:"NobodyAuthHandler.hx",lineNumber:20,className:"ufront.auth.NobodyAuthHandler",
methodName:"requireLogin"}));},isLoggedInAs:function(a){return!1},requireLoginAs:function(a){throw new k(r.authError(Fa.ANotLoggedInAs(a),{fileName:"NobodyAuthHandler.hx",lineNumber:24,className:"ufront.auth.NobodyAuthHandler",methodName:"requireLoginAs"}));},hasPermission:function(a){return!1},hasPermissions:function(a){return!1},requirePermission:function(a){throw new k(r.authError(Fa.ANoPermission(a),{fileName:"NobodyAuthHandler.hx",lineNumber:30,className:"ufront.auth.NobodyAuthHandler",methodName:"requirePermission"}));
},requirePermissions:function(a){for(a=fa(a)();a.hasNext();)throw a=a.next(),new k(r.authError(Fa.ANoPermission(a),{fileName:"NobodyAuthHandler.hx",lineNumber:32,className:"ufront.auth.NobodyAuthHandler",methodName:"requirePermissions"}));},toString:function(){return"NobodyAuthHandler"},get_currentUser:function(){return null},__class__:kc,__properties__:{get_currentUser:"get_currentUser"}};var fd=function(){};f["ufront.auth.UFAuthAdapter"]=fd;fd.__name__=["ufront","auth","UFAuthAdapter"];fd.prototype=
{authenticate:null,__class__:fd};var gd=function(){};f["ufront.auth.UFAuthAdapterSync"]=gd;gd.__name__=["ufront","auth","UFAuthAdapterSync"];gd.prototype={authenticateSync:null,__class__:gd};var Oc=function(){};f["ufront.auth.UFAuthUser"]=Oc;Oc.__name__=["ufront","auth","UFAuthUser"];Oc.prototype={get_userID:null,can:null,userID:null,__class__:Oc,__properties__:{get_userID:"get_userID"}};var Nc=function(){};f["ufront.auth.YesBossAuthHandler"]=Nc;Nc.__name__=["ufront","auth","YesBossAuthHandler"];
Nc.__interfaces__=[nc];Nc.prototype={isLoggedIn:function(){return!0},requireLogin:function(){},isLoggedInAs:function(a){return!0},requireLoginAs:function(a){},hasPermission:function(a){return!0},hasPermissions:function(a){return!0},requirePermission:function(a){},requirePermissions:function(a){},toString:function(){return"YesBossAuthHandler"},get_currentUser:function(){return new Pc},__class__:Nc,__properties__:{get_currentUser:"get_currentUser"}};var Pc=function(){};f["ufront.auth.BossUser"]=Pc;
Pc.__name__=["ufront","auth","BossUser"];Pc.__interfaces__=[Oc];Pc.prototype={userID:null,can:function(a,b){return!0},get_userID:function(){return"The Boss"},__class__:Pc,__properties__:{get_userID:"get_userID"}};var Qc=function(){};f["ufront.cache.UFCacheConnectionSync"]=Qc;Qc.__name__=["ufront","cache","UFCacheConnectionSync"];Qc.prototype={getNamespaceSync:null,__class__:Qc};var Rc=function(){};f["ufront.cache.UFCacheConnection"]=Rc;Rc.__name__=["ufront","cache","UFCacheConnection"];Rc.prototype=
{getNamespace:null,__class__:Rc};var hd=function(){this.caches=new B};f["ufront.cache.MemoryCacheConnection"]=hd;hd.__name__=["ufront","cache","MemoryCacheConnection"];hd.__interfaces__=[Qc,Rc];hd.prototype={caches:null,getNamespaceSync:function(a){var b=this.caches;if(null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.caches,null!=l[a]?b.getReserved(a):b.h[a];var b=this.caches,c=new Sc;null!=l[a]?b.setReserved(a,c):b.h[a]=c;return c},getNamespace:function(a){return this.getNamespaceSync(a)},
__class__:hd};var Tc=function(){};f["ufront.cache.UFCacheSync"]=Tc;Tc.__name__=["ufront","cache","UFCacheSync"];Tc.prototype={getSync:null,setSync:null,getOrSetSync:null,removeSync:null,clearSync:null,__class__:Tc};var Uc=function(){};f["ufront.cache.UFCache"]=Uc;Uc.__name__=["ufront","cache","UFCache"];Uc.prototype={get:null,set:null,getOrSet:null,remove:null,clear:null,__class__:Uc};var Sc=function(){this.map=new B};f["ufront.cache.MemoryCache"]=Sc;Sc.__name__=["ufront","cache","MemoryCache"];Sc.__interfaces__=
[Tc,Uc];Sc.prototype={map:null,getSync:function(a){var b=this.map;return(null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?(b=this.map,h.Success(null!=l[a]?b.getReserved(a):b.h[a])):h.Failure(Xa.ENotInCache)},setSync:function(a,b){var c=this.map;null!=l[a]?c.setReserved(a,b):c.h[a]=b;return h.Success(b)},getOrSetSync:function(a,b){var c=this.map;if(null!=l[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return c=this.map,h.Success(null!=l[a]?c.getReserved(a):c.h[a]);var c=this.map,d=b();null!=l[a]?
c.setReserved(a,d):c.h[a]=d;return h.Success(d)},removeSync:function(a){this.map.remove(a);return h.Success(I.Noise)},clearSync:function(){this.map=new B;return h.Success(I.Noise)},get:function(a){return new x(new y(this.getSync(a)))},set:function(a,b){var c=this;return b.map(function(b){var e=c.map;null!=l[a]?e.setReserved(a,b):e.h[a]=b;return h.Success(b)}).gather()},getOrSet:function(a,b){var c=this,d=this.map;return(null!=l[a]?d.existsReserved(a):d.h.hasOwnProperty(a))?(d=this.map,new x(new y(h.Success(null!=
l[a]?d.getReserved(a):d.h[a])))):b().map(function(b){var d=c.map;null!=l[a]?d.setReserved(a,b):d.h[a]=b;return h.Success(b)}).gather()},clear:function(){return new x(new y(this.clearSync()))},remove:function(a){return new x(new y(this.removeSync(a)))},__class__:Sc};var Ga=function(){};f["ufront.cache.RequestCacheMiddleware"]=Ga;Ga.__name__=["ufront","cache","RequestCacheMiddleware"];Ga.__interfaces__=[gc];Ga.hasCacheMeta=function(a){return Object.prototype.hasOwnProperty.call(a,Ga.metaName)};Ga.prototype=
{cacheConnection:null,cache:null,requestIn:function(a){null==this.cache&&(this.cache=this.cacheConnection.getNamespace("ufront.middleware.RequestCache"));if("get"==a.request.get_httpMethod().toLowerCase()){var b=a.request.get_uri();return this.cache.get(b).map(function(c){if(0==c[1]){c=c[2];a.messages.push({msg:"Loading "+b+" from cache",pos:{fileName:"RequestCacheMiddleware.hx",lineNumber:74,className:"ufront.cache.RequestCacheMiddleware",methodName:"requestIn"},type:M.MTrace});a.response.clearContent();
a.response.set_contentType(c.get_contentType());a.response.set_redirectLocation(c.get_redirectLocation());a.response.charset=c.charset;a.response.status=null!=c.status?c.status:200;for(var d=c.getCookies(),d=new ob(d,d.arrayKeys());d.hasNext();){var e=d.next();a.response.setCookie(e)}d=c.getHeaders();for(e=d.keys();e.hasNext();){var g=e.next();a.response.setHeader(g,d.get(g))}a.response.write(c.getBuffer());a.completion|=1<<G.CRequestHandlersComplete[1]}return h.Success(I.Noise)}).gather()}return u.success()},
responseOut:function(a){null==this.cache&&(this.cache=this.cacheConnection.getNamespace("ufront.middleware.RequestCache"));if("get"==a.request.get_httpMethod().toLowerCase()&&null!=a.actionContext&&null!=a.actionContext.controller&&null!=a.actionContext.action&&-1<Ga.contentTypesToCache.indexOf(a.response.get_contentType())){var b=a.actionContext.controller,c=null==b?null:q.getClass(b),b=P.getType(c),c=F.field(P.getFields(c),a.actionContext.action);if(Ga.hasCacheMeta(b)||Ga.hasCacheMeta(c)){var d=
a.request.get_uri(),b=this.cache,c=new x(new y(a.response));return v._map(b.set(d,c),function(b){1==b[1]&&a.messages.push({msg:"Failed to save cache for "+d+": "+n.string(b[2]),pos:{fileName:"RequestCacheMiddleware.hx",lineNumber:121,className:"ufront.cache.RequestCacheMiddleware",methodName:"responseOut"},type:M.MError});return h.Success(I.Noise)})}}return u.success()},invalidate:function(){return this.cache.clear()},__class__:Ga};var Xa=f["ufront.cache.CacheError"]={__ename__:["ufront","cache",
"CacheError"],__constructs__:["ENotInCache","EUnableToConnect","ECacheNotReadable","ECacheNotWriteable"]};Xa.ENotInCache=["ENotInCache",0];Xa.ENotInCache.toString=s;Xa.ENotInCache.__enum__=Xa;Xa.EUnableToConnect=function(a){a=["EUnableToConnect",1,a];a.__enum__=Xa;a.toString=s;return a};Xa.ECacheNotReadable=function(a){a=["ECacheNotReadable",2,a];a.__enum__=Xa;a.toString=s;return a};Xa.ECacheNotWriteable=function(a){a=["ECacheNotWriteable",3,a];a.__enum__=Xa;a.toString=s;return a};var Lb={};f["ufront.core._AcceptEither.AcceptEither_Impl_"]=
Lb;Lb.__name__=["ufront","core","_AcceptEither","AcceptEither_Impl_"];Lb.__properties__={get_type:"get_type",get_value:"get_value"};Lb._new=function(a){return a};Lb.get_value=function(a){switch(a[1]){case 0:return a[2];case 1:return a[2]}};Lb.get_type=function(a){return a};Lb.fromA=function(a){return bb.Left(a)};Lb.fromB=function(a){return bb.Right(a)};var Md=function(){};f["ufront.core.FutureTools"]=Md;Md.__name__=["ufront","core","FutureTools"];Md.asFuture=function(a){return new x(new y(a))};var u=
function(){};f["ufront.core.SurpriseTools"]=u;u.__name__=["ufront","core","SurpriseTools"];u.success=function(){null==u.s&&(u.s=new x(new y(h.Success(I.Noise))));return u.s};u.asSurprise=function(a){return new x(new y(a))};u.asGoodSurprise=function(a){return new x(new y(h.Success(a)))};u.asBadSurprise=function(a){return new x(new y(h.Failure(a)))};u.asSurpriseError=function(a,b,c){null==b&&(b="Failure: "+n.string(a));return new x(new y(h.Failure(r.wrap(a,b,c))))};u.asSurpriseTypedError=function(a,
b,c){null==b&&(b="Failure: "+n.string(a));return new x(new y(h.Failure(r.wrap(a,b,c))))};u.tryCatchSurprise=function(a,b,c){try{return u.asGoodSurprise(a())}catch(d){return z.lastException=d,d instanceof k&&(d=d.val),u.asSurpriseError(d,b,c)}};u.changeSuccessTo=function(a,b){return a.map(function(a){switch(a[1]){case 0:return h.Success(b);case 1:return h.Failure(a[2])}}).gather()};u.changeSuccessToNoise=function(a){return u.changeSuccessTo(a,I.Noise)};u.changeFailureTo=function(a,b){return a.map(function(a){switch(a[1]){case 0:return h.Success(a[2]);
case 1:return h.Failure(b)}}).gather()};u.changeFailureToError=function(a,b,c){return a.map(function(a){switch(a[1]){case 0:return h.Success(a[2]);case 1:return a=a[2],null==b&&(b="Failure: "+n.string(a)),h.Failure(r.wrap(a,b,c))}}).gather()};u.useFallback=function(a,b){return a.map(function(a){switch(a[1]){case 0:return a[2];case 1:return b}}).gather()};var id=function(){};f["ufront.core.CallbackTools"]=id;id.__name__=["ufront","core","CallbackTools"];id.asVoidSurprise=function(a,b){var c=new Q;
a(function(a){null!=a?(a=A.withData(500,""+n.string(a),b,{fileName:"AsyncTools.hx",lineNumber:216,className:"ufront.core.CallbackTools",methodName:"asVoidSurprise"}),c.trigger(h.Failure(a))):c.trigger(h.Success(I.Noise))});return c};id.asSurprise=function(a,b){var c=new Q;a(function(a,e){if(null!=a){var g=A.withData(500,""+n.string(a),b,{fileName:"AsyncTools.hx",lineNumber:241,className:"ufront.core.CallbackTools",methodName:"asSurprise"});c.trigger(h.Failure(g))}else c.trigger(h.Success(e))});return c};
id.asSurprisePair=function(a,b){var c=new Q;a(function(a,e,g){null!=a?(a=A.withData(500,""+n.string(a),b,{fileName:"AsyncTools.hx",lineNumber:266,className:"ufront.core.CallbackTools",methodName:"asSurprisePair"}),c.trigger(h.Failure(a))):(a=new sa(e,g),c.trigger(h.Success(a)))});return c};var lb={};f["ufront.core._CaseInsensitiveMultiValueMap.CaseInsensitiveMultiValueMap_Impl_"]=lb;lb.__name__=["ufront","core","_CaseInsensitiveMultiValueMap","CaseInsensitiveMultiValueMap_Impl_"];lb._new=function(){return new B};
lb.exists=function(a,b){var c=b.toLowerCase();return null!=l[c]?a.existsReserved(c):a.h.hasOwnProperty(c)};lb.getAll=function(a,b){return C.getAll(a,b.toLowerCase())};lb.get=function(a,b){return C.get(a,b.toLowerCase())};lb.set=function(a,b,c){C.set(a,b.toLowerCase(),c)};lb.add=function(a,b,c){C.add(a,b.toLowerCase(),c)};lb.remove=function(a,b){return a.remove(b.toLowerCase())};lb.clone=function(a){return C.clone(a)};var oc={};f["ufront.core._ClassRef.ClassRef_Impl_"]=oc;oc.__name__=["ufront","core",
"_ClassRef","ClassRef_Impl_"];oc._new=function(a){return a};oc.toString=function(a){return a};oc.toClass=function(a){return t.resolveClass(a)};oc.fromClass=function(a){return t.getClassName(a)};oc.fromClassName=function(a){return a};var jd={};f["ufront.core._Futuristic.Futuristic_Impl_"]=jd;jd.__name__=["ufront","core","_Futuristic","Futuristic_Impl_"];jd._new=function(a){return a};jd.fromSync=function(a){return new x(new y(a))};jd.asFuture=function(a){return a};var Nd=function(){};f["ufront.core.InjectionTools"]=
Nd;Nd.__name__=["ufront","core","InjectionTools"];Nd.listMappings=function(a,b,c){return["Injector mappings not available unless compiled with -debug."]};var C={};f["ufront.core._MultiValueMap.MultiValueMap_Impl_"]=C;C.__name__=["ufront","core","_MultiValueMap","MultiValueMap_Impl_"];C._new=function(){return new B};C.keys=function(a){return a.keys()};C.exists=function(a,b){return null!=l[b]?a.existsReserved(b):a.h.hasOwnProperty(b)};C.iterator=function(a){return m.iter(C.allValues(a))};C.allValues=
function(a){var b=[];for(a=new ob(a,a.arrayKeys());a.hasNext();)for(var c=a.next(),d=0;d<c.length;){var e=c[d];++d;b.push(e)}return b};C.get=function(a,b){if(null!=l[b]?a.existsReserved(b):a.h.hasOwnProperty(b)){var c=null!=l[b]?a.getReserved(b):a.h[b];return c[c.length-1]}return null};C.getAll=function(a,b){return(null!=l[b]?a.existsReserved(b):a.h.hasOwnProperty(b))?null!=l[b]?a.getReserved(b):a.h[b]:[]};C.set=function(a,b,c){null!=c&&(L.endsWith(b,"[]")&&(b=m.substr(b,0,b.length-2)),c=[c],null!=
l[b]?a.setReserved(b,c):a.h[b]=c)};C.add=function(a,b,c){null!=c&&(null!=b?L.endsWith(b,"[]")&&(b=m.substr(b,0,b.length-2)):b="",(null!=l[b]?a.existsReserved(b):a.h.hasOwnProperty(b))?(null!=l[b]?a.getReserved(b):a.h[b]).push(c):(c=[c],null!=l[b]?a.setReserved(b,c):a.h[b]=c))};C.remove=function(a,b){return a.remove(b)};C.clone=function(a){for(var b=new B,c=a.keys();c.hasNext();)for(var d=c.next(),e=0,g=null!=l[d]?a.getReserved(d):a.h[d];e<g.length;){var f=g[e];++e;C.add(b,d,f)}return b};C.toString=
function(a){var b;b="[";for(var c=a.keys();c.hasNext();){var d=c.next();b+=n.string("\n\t"+d+" = [");b+=n.string(C.getAll(a,d).join(", "));b+="]"}1<b.length&&(b+="\n");return b+"]"};C.stripArrayFromName=function(a,b){return L.endsWith(b,"[]")?m.substr(b,0,b.length-2):b};C.toMapOfArrays=function(a){return a};C.fromMapOfArrays=function(a){return a};C.toStringMap=function(a){for(var b=new B,c=a.keys();c.hasNext();){var d=c.next(),e=C.get(a,d);null!=l[d]?b.setReserved(d,e):b.h[d]=e}return b};C.toMap=
function(a){return C.toStringMap(a)};C.fromStringMap=function(a){var b=new B;if(null!=a)for(var c=a.keys();c.hasNext();){var d=c.next();C.set(b,d,null!=l[d]?a.getReserved(d):a.h[d])}return b};C.fromMap=function(a){return C.fromStringMap(a)};C.combine=function(a){for(var b=new B,c=0;c<a.length;){var d=a[c];++c;for(var e=d.keys();e.hasNext();)for(var g=e.next(),f=0,k=C.getAll(d,g);f<k.length;){var h=k[f];++f;C.add(b,g,h)}}return b};var $c=function(){this.length=0;this.__keys=[];this.__hash=new B};f["ufront.core.OrderedStringMap"]=
$c;$c.__name__=["ufront","core","OrderedStringMap"];$c.prototype={length:null,set:function(a,b){var c=this.__hash;(null!=l[a]?c.existsReserved(a):c.h.hasOwnProperty(a))||(this.__keys.push(a),this.length++);c=this.__hash;null!=l[a]?c.setReserved(a,b):c.h[a]=b},setAt:function(a,b,c){this.remove(b);this.__keys.splice(a,0,b);a=this.__hash;null!=l[b]?a.setReserved(b,c):a.h[b]=c;this.length++},get:function(a){var b=this.__hash;return null!=l[a]?b.getReserved(a):b.h[a]},getAt:function(a){var b=this.__hash;
a=this.__keys[a];return null!=l[a]?b.getReserved(a):b.h[a]},indexOf:function(a){var b=this.__hash;if(null!=l[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))return-1;for(var b=0,c=this.__keys.length;b<c;){var d=b++;if(this.__keys[d]==a)return d}throw new k(r.internalServerError(""+a+" exists in hash but not in array",null,{fileName:"OrderedStringMap.hx",lineNumber:51,className:"ufront.core.OrderedStringMap",methodName:"indexOf"}));},exists:function(a){var b=this.__hash;return null!=l[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)},remove:function(a){var b=this.__hash,b=null!=l[a]?b.getReserved(a):b.h[a];if(null==b)return null;this.__hash.remove(a);m.remove(this.__keys,a);this.length--;return b},removeAt:function(a){a=this.__keys[a];if(null==a)return null;var b=this.__hash,b=null!=l[a]?b.getReserved(a):b.h[a];this.__hash.remove(a);m.remove(this.__keys,a);this.length--;return b},keyAt:function(a){return this.__keys[a]},keys:function(){return m.iter(this.__keys)},iterator:function(){return m.iter(this.array())},
clear:function(){this.__hash=new B;this.__keys=[];this.length=0},array:function(){for(var a=[],b=0,c=this.__keys;b<c.length;){var d=c[b];++b;var e=this.__hash;a.push(null!=l[d]?e.getReserved(d):e.h[d])}return a},toString:function(){var a;a="{";for(var b=this.keys();b.hasNext();){var c=b.next();a+=null==c?"null":""+c;a+=" => ";a+=n.string(n.string(this.get(c)));b.hasNext()&&(a+=", ")}return a+"}"},__keys:null,__hash:null,__class__:$c};var Aa=function(){};f["ufront.core.Uuid"]=Aa;Aa.__name__=["ufront",
"core","Uuid"];Aa.random=function(a){return Math.floor(Math.random()*a)};Aa.srandom=function(){return"0123456789ABCDEF".charAt(Math.floor(16*Math.random()))};Aa.create=function(){for(var a=[],b=0;8>b;){var c=b++;a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()))}a[8]="-";for(b=9;13>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[13]="-";a[14]="4";for(b=15;18>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[18]="-";a[19]=""+"89AB".charAt(Math.floor(4*
Math.random()));for(b=20;23>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[23]="-";for(b=24;36>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));return a.join("")};Aa.isValid=function(a){return(new qa("[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}","")).match(a)};var Ua=function(){};f["ufront.log.BrowserConsoleLogger"]=Ua;Ua.__name__=["ufront","log","BrowserConsoleLogger"];Ua.__interfaces__=[kb];Ua.formatMessage=function(a){var b;
switch(a.type[1]){case 0:b="log";break;case 1:b="info";break;case 2:b="warn";break;case 3:b="error"}var c=null!=a.pos&&null!=a.pos.customParams?", "+a.pos.customParams.join(", "):"";a=""+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+"): "+n.string(a.msg)+c;return"console."+b+'(decodeURIComponent("'+encodeURIComponent(a)+'"))'};Ua.printMessage=function(a){var b=window.console,c;switch(a.type[1]){case 0:c=Y(b,b.log);break;case 1:c=Y(b,b.info);break;case 2:c=Y(b,b.warn);break;case 3:c=Y(b,
b.error)}var d=[""+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+")",a.msg];if(null!=a.pos&&null!=a.pos.customParams){var e=0;for(a=a.pos.customParams;e<a.length;){var g=a[e];++e;d.push(g)}}c.apply(b,d)};Ua.prototype={log:function(a,b){for(var c=0,d=a.messages;c<d.length;){var e=d[c];++c;Ua.printMessage(e)}for(c=0;c<b.length;)d=b[c],++c,Ua.printMessage(d);return u.success()},__class__:Ua};var Wa=function(a){this.path=a};f["ufront.log.FileLogger"]=Wa;Wa.__name__=["ufront","log","FileLogger"];
Wa.__interfaces__=[Ib,kb];Wa.format=function(a){var b=n.string(a.msg).replace(Wa.REMOVENL.r,"\\n"),c=m.substr(a.type[0],1,null);a=a.pos;return"["+c+"] "+a.className+"."+a.methodName+"("+a.lineNumber+"): "+b};Wa.prototype={path:null,init:function(a){return u.success()},dispose:function(a){this.path=null;return u.success()},log:function(a,b){a.get_contentDirectory();var c=a.request,d=a.response,e=c.get_clientIP();try{null!=(null!=a.session?a.session.get_id():null)&&(e+=" "+(null!=a.session?a.session.get_id():
null)),null!=(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null)&&(e+=" "+(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null))}catch(g){z.lastException=g}c=""+n.string(new Date)+" ["+c.get_httpMethod()+"] ["+c.get_uri()+"] from ["+e+"], response: ["+d.status+" "+d.get_contentType()+"]\n";d=0;for(e=a.messages;d<e.length;){var f=e[d];++d;c+="\t"+Wa.format(f)+"\n"}if(null!=b)for(d=0;d<b.length;)e=b[d],++d,c+="\t"+Wa.format(e)+
"\n";return u.asBadSurprise(r.notImplemented({fileName:"FileLogger.hx",lineNumber:92,className:"ufront.log.FileLogger",methodName:"log"}))},__class__:Wa};var M=f["ufront.log.MessageType"]={__ename__:["ufront","log","MessageType"],__constructs__:["MTrace","MLog","MWarning","MError"]};M.MTrace=["MTrace",0];M.MTrace.toString=s;M.MTrace.__enum__=M;M.MLog=["MLog",1];M.MLog.toString=s;M.MLog.__enum__=M;M.MWarning=["MWarning",2];M.MWarning.toString=s;M.MWarning.__enum__=M;M.MError=["MError",3];M.MError.toString=
s;M.MError.__enum__=M;var kd=function(a,b){this.messages=a;this.onMessage=b};f["ufront.log.MessageList"]=kd;kd.__name__=["ufront","log","MessageList"];kd.prototype={messages:null,onMessage:null,push:function(a){null!=this.messages&&this.messages.push(a);if(null!=this.onMessage)this.onMessage(a)},__class__:kd};var ld=function(){};f["ufront.log.OriginalTraceLogger"]=ld;ld.__name__=["ufront","log","OriginalTraceLogger"];ld.__interfaces__=[Ib,kb];ld.prototype={originalTrace:null,init:function(a){this.originalTrace=
a.originalTrace;return u.success()},dispose:function(a){return u.success()},log:function(a,b){for(var c=0,d=a.messages;c<d.length;){var e=d[c];++c;this.originalTrace(e.msg,e.pos)}return u.success()},__class__:ld};var Jb=function(){};f["ufront.log.RemotingLogger"]=Jb;Jb.__name__=["ufront","log","RemotingLogger"];Jb.__interfaces__=[kb];Jb.formatMessage=function(a){a.msg=""+n.string(a.msg);if(null!=a.pos.customParams){for(var b=[],c=0,d=a.pos.customParams;c<d.length;){var e=d[c];++c;b.push(""+n.string(e))}a.pos.customParams=
b}return"hxt"+aa.run(a)};Jb.prototype={log:function(a,b){var c=a.request.get_clientHeaders();if((null!=l["x-ufront-remoting"]?c.existsReserved("x-ufront-remoting"):c.h.hasOwnProperty("x-ufront-remoting"))&&"application/x-haxe-remoting"==a.response.get_contentType()){for(var c=[],d=0,e=a.messages;d<e.length;){var g=e[d];++d;c.push(Jb.formatMessage(g))}0<c.length&&a.response.write("\n"+c.join("\n"))}return u.success()},__class__:Jb};var Va=function(){};f["ufront.log.ServerConsoleLogger"]=Va;Va.__name__=
["ufront","log","ServerConsoleLogger"];Va.__interfaces__=[kb];Va.formatMsg=function(a){var b=null!=a.pos&&null!=a.pos.customParams?", "+a.pos.customParams.join(", "):"";return""+m.substr(a.type[0],1,null)+": "+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+"): "+n.string(a.msg)+b};Va.writeLog=function(a,b){console.log(a)};Va.prototype={log:function(a,b){var c=[],d=a.request.get_clientIP();try{null!=(null!=a.session?a.session.get_id():null)&&(d+=" "+(null!=a.session?a.session.get_id():null)),
null!=(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null)&&(d+=" "+(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null))}catch(e){z.lastException=e}d="["+a.request.get_httpMethod()+" "+a.request.get_uri()+"] from ["+d+"], response: ["+a.response.status+" "+a.response.get_contentType()+"]";c.push(d);for(var d=0,g=a.messages;d<g.length;){var f=g[d];++d;c.push(Va.formatMsg(f))}if(null!=b)for(d=0;d<b.length;)g=b[d],++d,c.push(Va.formatMsg(g));
Va.writeLog(c.join("\n  "));return u.success()},__class__:Va};var ib=function(a,b){pb.call(this,a,b)};f["ufront.remoting.HttpAsyncConnection"]=ib;ib.__name__=["ufront","remoting","HttpAsyncConnection"];ib.urlConnect=function(a,b){null==b&&(b=Na.defaultErrorHandler);return new ib({url:a,error:b},[])};ib.__super__=pb;ib.prototype=O(pb.prototype,{resolve:function(a){var b=new ib({url:this.__data.url,error:this.__data.error},this.__path.slice());b.__path.push(a);return b},call:function(a,b){var c=this,
d=new Vc(this.__data.url,!0);d.setHeader("X-Haxe-Remoting","1");d.setHeader("X-Ufront-Remoting","1");var e=new Ja(Ka.RDClientToServer);e.serialize(this.__path);e.serialize(a);d.setParam("__x",e.toString());var g=this.__path.join(".")+"("+a.join(",")+")",f,k=function(a){if(500==f)Na.processResponse(d.responseData(),b,c.__data.error,g);else if(404==f){a=c.__data.error;var e=d.responseData();a(T.RApiNotFound(g,e))}else a=c.__data.error,e=d.responseData(),a(T.RHttpError(g,f,e))};d.handle(function(a){f=
a},function(a){Na.processResponse(a,b,c.__data.error,g)},k);d.attachUploads(e.uploads).handle(function(a){switch(a[1]){case 0:d.send();break;case 1:a=a[2],f=0,k("Failed to read attachments: "+n.string(a))}})},__class__:ib});var jb=function(a,b){qb.call(this,a,b)};f["ufront.remoting.HttpConnection"]=jb;jb.__name__=["ufront","remoting","HttpConnection"];jb.urlConnect=function(a){return new jb(a,[])};jb.__super__=qb;jb.prototype=O(qb.prototype,{call:function(a){var b=new Vc(this.__url,!1,jb.TIMEOUT),
c=new Ja(Ka.RDClientToServer);c.serialize(this.__path);c.serialize(a);var d=this.__path.join(".")+"("+a.join(",")+")",e,g,f,h=function(a){throw k.wrap(a);},l=function(a){f=a};b.handle(function(a){e=null},function(a){g=a;Na.processResponse(g,l,h,d)},function(a){500==e?Na.processResponse(b.responseData(),l,h,d):(a=b.responseData(),h(T.RHttpError(d,e,a)))});b.setHeader("X-Haxe-Remoting","1");b.setHeader("X-Ufront-Remoting","1");b.setParam("__x",c.toString());b.attachUploads(c.uploads);b.send();return f},
__class__:jb});var Vc=function(a,b,c){this.h=new XMLHttpRequest;this.files=[];this.params=[];this.h.open("POST",a,b);this.async=b};f["ufront.remoting.HttpWithUploads"]=Vc;Vc.__name__=["ufront","remoting","HttpWithUploads"];Vc.prototype={h:null,files:null,params:null,async:null,setHeader:function(a,b){this.h.setRequestHeader(a,b)},setParam:function(a,b){this.params.push({name:a,val:b})},attachUploads:function(a){for(var b=a.keys();b.hasNext();)for(var c=b.next(),d=0,e=C.getAll(a,c);d<e.length;){var g=
e[d];++d;var f=g instanceof Mb?g:null;null!=f&&this.files.push({postName:c,file:f.file,fileName:g.originalFileName})}return u.success()},send:function(){if(0<this.files.length){for(var a=new FormData,b=0,c=this.params;b<c.length;){var d=c[b];++b;a.append(d.name,d.val)}b=0;for(c=this.files;b<c.length;)d=c[b],++b,a.append(d.postName,d.file,d.fileName)}else{a=[];b=0;for(c=this.params;b<c.length;){d=c[b];++b;var e=encodeURIComponent(d.name)+"=";a.push(e+encodeURIComponent(d.val))}a=L.replace(a.join("&"),
"%20","+");this.h.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}this.h.send(a)},responseData:function(){return this.h.responseText},handle:function(a,b,c){var d=this;this.h.onload=function(e){a(d.h.status);200==d.h.status?b(d.h.responseText):c(d.h.responseText)}},__class__:Vc};var T=f["ufront.remoting.RemotingError"]={__ename__:["ufront","remoting","RemotingError"],__constructs__:"RHttpError RApiNotFound RServerSideException RClientCallbackException RUnserializeFailed RNoRemotingResult RApiFailure RUnknownException".split(" ")};
T.RHttpError=function(a,b,c){a=["RHttpError",0,a,b,c];a.__enum__=T;a.toString=s;return a};T.RApiNotFound=function(a,b){var c=["RApiNotFound",1,a,b];c.__enum__=T;c.toString=s;return c};T.RServerSideException=function(a,b,c){a=["RServerSideException",2,a,b,c];a.__enum__=T;a.toString=s;return a};T.RClientCallbackException=function(a,b){var c=["RClientCallbackException",3,a,b];c.__enum__=T;c.toString=s;return c};T.RUnserializeFailed=function(a,b,c){a=["RUnserializeFailed",4,a,b,c];a.__enum__=T;a.toString=
s;return a};T.RNoRemotingResult=function(a,b){var c=["RNoRemotingResult",5,a,b];c.__enum__=T;c.toString=s;return c};T.RApiFailure=function(a,b){var c=["RApiFailure",6,a,b];c.__enum__=T;c.toString=s;return c};T.RUnknownException=function(a){a=["RUnknownException",7,a];a.__enum__=T;a.toString=s;return a};var Lc=function(){this.apiContexts=new ka;this.apis=new ka};f["ufront.remoting.RemotingHandler"]=Lc;Lc.__name__=["ufront","remoting","RemotingHandler"];Lc.__interfaces__=[hc];Lc.prototype={apiContexts:null,
apis:null,context:null,loadApi:function(a){this.apis.push(a)},loadApis:function(a){for(a=fa(a)();a.hasNext();){var b=a.next();this.apis.push(b)}},loadApiContext:function(a){this.apiContexts.push(a);for(a=fa(Hb.getApisInContext(a))();a.hasNext();){var b=a.next();this.apis.push(b)}},handleRequest:function(a){var b=new Q,c=a.request.get_clientHeaders();if(null!=l["x-haxe-remoting"]?c.existsReserved("x-haxe-remoting"):c.h.hasOwnProperty("x-haxe-remoting")){var d=a.response,e;d.setOk();var g=c=null;try{this.initializeContext(a.injector);
var f=a.request.get_params();if(null!=l.__x?!f.existsReserved("__x"):!f.h.hasOwnProperty("__x"))throw new k("Remoting call did not have parameter `__x` which describes which API call to make.  Aborting");var w=C.get(f,"__x"),m=new Ya(w,a.request.get_files());try{for(var c=m.unserialize(),g=m.unserialize(),f=0,p=g.length;f<p;){var r=f++,v=g[r],q=v instanceof Za?v:null;null!=q&&null!=q.attachedUpload&&(g[r]=q.attachedUpload)}}catch(t){throw z.lastException=t,t instanceof k&&(t=t.val),new k("Unable to deserialize remoting call: "+
n.string(t)+". Remoting call string: "+w);}e=this.executeApiCall(c,g,this.context,a.actionContext).map(function(a){var b=new Ja(Ka.RDServerToClient);b.serialize(a);return"hxr"+b.toString()}).gather()}catch(s){z.lastException=s;s instanceof k&&(s=s.val);var u=s;e=["Invalid path","No such object","Can't access","No such method"];null!=c&&null!=g&&"string"==typeof s&&Ca.exists(e,function(a){return L.startsWith(u,a)})?(e=new x(new y("Unable to access "+c.join(".")+" - API Not Found ("+u+"). See "+n.string(this.context.objects))),
d.setNotFound()):(d.setInternalError(),e=new x(new y(this.remotingError(s,a))))}e.handle(function(c){d.set_contentType("application/x-haxe-remoting");d.clearContent();d.write(c);a.completion|=1<<G.CRequestHandlersComplete[1];b.trigger(h.Success(I.Noise))})}else b.trigger(h.Success(I.Noise));return b},initializeContext:function(a){this.context=new Zc;for(var b=this.apiContexts.h;null!=b;)for(var c=b.item,b=b.next,c=a._instantiate(c),d=0,e=F.fields(c);d<e.length;){var f=e[d];++d;var k=F.field(c,f);
F.isObject(k)&&this.context.addObject(f,k,!1)}for(b=this.apis.h;null!=b;)c=b.item,b=b.next,d=c,c=t.getClassName(d),d=a._instantiate(d),this.context.addObject(c,d,!1)},executeApiCall:function(a,b,c,d){var e=c.objects,f=a[0];if(!1==(null!=l[f]?e.existsReserved(f):e.h.hasOwnProperty(f)))throw new k("Invalid path "+a.join("."));d.handler=this;d.action=a[a.length-1];e=c.objects;f=a[0];d.controller=(null!=l[f]?e.getReserved(f):e.h[f]).obj;d.args=b;var h;try{var w=d.controller,m=P.getFields(null==w?null:
q.getClass(w));h=F.field(m,d.action).returnType[0]}catch(n){z.lastException=n,h=0}d=h;a=c.call(a,b);return 0!=(d&1<<ca.ARTFuture[1])?a:0!=(d&1<<ca.ARTVoid[1])?new x(new y(null)):new x(new y(a))},remotingError:function(a,b){b.messages.push({msg:a,pos:{fileName:"RemotingHandler.hx",lineNumber:209,className:"ufront.remoting.RemotingHandler",methodName:"remotingError"},type:M.MError});var c=b.request.get_clientHeaders();if(null!=l["x-ufront-remoting"]?c.existsReserved("x-ufront-remoting"):c.h.hasOwnProperty("x-ufront-remoting"))return c=
new Ja(Ka.RDServerToClient),c.serializeException(a),"hxe"+c.toString();c=new Ja(Ka.RDServerToClient);c.serializeException(a);return"hxr"+c.toString()},toString:function(){return"ufront.remoting.RemotingHandler"},__class__:Lc};var Ja=function(a){aa.call(this);this.direction=a;this.uploads=new B};f["ufront.remoting.RemotingSerializer"]=Ja;Ja.__name__=["ufront","remoting","RemotingSerializer"];Ja.run=function(a,b){var c=new Ja(b);c.serialize(a);return c.toString()};Ja.__super__=aa;Ja.prototype=O(aa.prototype,
{uploads:null,direction:null,__class__:Ja});var Ka=f["ufront.remoting.RemotingDirection"]={__ename__:["ufront","remoting","RemotingDirection"],__constructs__:["RDClientToServer","RDServerToClient"]};Ka.RDClientToServer=["RDClientToServer",0];Ka.RDClientToServer.toString=s;Ka.RDClientToServer.__enum__=Ka;Ka.RDServerToClient=["RDServerToClient",1];Ka.RDServerToClient.toString=s;Ka.RDServerToClient.__enum__=Ka;var Ya=function(a,b){ba.call(this,a);this.uploads=null!=b?b:new B};f["ufront.remoting.RemotingUnserializer"]=
Ya;Ya.__name__=["ufront","remoting","RemotingUnserializer"];Ya.__super__=ba;Ya.prototype=O(ba.prototype,{uploads:null,__class__:Ya});var Na=function(){};f["ufront.remoting.RemotingUtil"]=Na;Na.__name__=["ufront","remoting","RemotingUtil"];Na.processResponse=function(a,b,c,d){var e=null,f=null,h=!1,l=[];c=Na.wrapErrorHandler(c);if("hx"!=m.substr(a,0,2))c(T.RNoRemotingResult(d,a));else for(var p=0,r=a.split("\n");p<r.length;){var q=r[p];++p;if(""!=q)switch(m.substr(q,0,3)){case "hxe":q=new Ya(m.substr(q,
3,null));try{e=q.unserialize()}catch(v){z.lastException=v,v instanceof k&&(v=v.val),e=l.push(T.RServerSideException(d,v,f))}break;case "hxr":h=new Ya(m.substr(q,3,null));try{e=h.unserialize()}catch(t){z.lastException=t,t instanceof k&&(t=t.val),e=l.push(T.RUnserializeFailed(d,m.substr(q,3,null),""+n.string(t)))}h=!0;break;case "hxs":var s=new Ya(m.substr(q,3,null));try{f=s.unserialize()}catch(x){z.lastException=x,x instanceof k&&(x=x.val),f=l.push(T.RUnserializeFailed(d,m.substr(q,3,null),""+n.string(x)))}break;
case "hxt":var s=new Ya(m.substr(q,3,null)),u;try{u=s.unserialize()}catch(y){z.lastException=y,y instanceof k&&(y=y.val),u=l.push(T.RUnserializeFailed(d,m.substr(q,3,null),""+n.string(y)))}q=null!=u.pos&&null!=u.pos.customParams?" "+u.pos.customParams.join(" "):"";q="[R]"+u.pos.className+"."+u.pos.methodName+"("+u.pos.lineNumber+"): "+n.string(u.msg)+q;s=window.console;switch(u.type[1]){case 0:s.log(q);break;case 1:s.info(q);break;case 2:s.warn(q);break;case 3:s.error(q)}break;default:l.push(T.RUnserializeFailed(d,
q,"Invalid line in response"))}}if(0==l.length)if(h)try{b(e)}catch(A){z.lastException=A,A instanceof k&&(A=A.val),c(T.RClientCallbackException(d,A))}else c(T.RNoRemotingResult(d,a));else for(a=0;a<l.length;)b=l[a],++a,c(b)};Na.wrapErrorHandler=function(a){return function(b){q.__instanceof(b,T)?a(b):a(T.RUnknownException(b))}};Na.defaultErrorHandler=function(a){switch(a[1]){case 0:var b=a[4];V.trace("Error during remoting call "+a[2]+": The HTTP Request returned status ["+a[3]+"].",{fileName:"RemotingUtil.hx",
lineNumber:125,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});V.trace("Returned data: "+b,{fileName:"RemotingUtil.hx",lineNumber:126,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 1:b=a[3];V.trace("Error during remoting call "+a[2]+": API or Method is not found or not available in the remoting context.",{fileName:"RemotingUtil.hx",lineNumber:128,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});V.trace("Error message: "+
b,{fileName:"RemotingUtil.hx",lineNumber:129,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 2:b=a[4];V.trace("Error during remoting call "+a[2]+': The server threw an error "'+n.string(a[3])+'".',{fileName:"RemotingUtil.hx",lineNumber:131,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});V.trace(b,{fileName:"RemotingUtil.hx",lineNumber:132,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 3:V.trace("Error during remoting call "+
a[2]+': The client throw an error "'+n.string(a[3])+'" during the remoting callback.',{fileName:"RemotingUtil.hx",lineNumber:134,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});V.trace('Compiling with "-debug" will prevent this error being caught, so you can use your browser\'s debugger to collect more information.',{fileName:"RemotingUtil.hx",lineNumber:135,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 4:b=a[4];V.trace("Error during remoting call "+
a[2]+': Failed to unserialize this line in the response: "'+b+'"',{fileName:"RemotingUtil.hx",lineNumber:137,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});V.trace('The line that failed: "'+b+'"',{fileName:"RemotingUtil.hx",lineNumber:138,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 5:b=a[3];V.trace("Error during remoting call "+a[2]+": No remoting result in data.",{fileName:"RemotingUtil.hx",lineNumber:140,className:"ufront.remoting.RemotingUtil",
methodName:"defaultErrorHandler"});V.trace("Returned data: "+b,{fileName:"RemotingUtil.hx",lineNumber:141,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 6:V.trace("The remoting call "+a[2]+" functioned correctly, but the API returned a failure: "+a[3],{fileName:"RemotingUtil.hx",lineNumber:143,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 7:V.trace("Unknown error encountered during remoting call: "+n.string(a[2]),{fileName:"RemotingUtil.hx",
lineNumber:145,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"})}};var md=function(a){null==a&&(a="/");this.setQueryString("");this.setPostString("");this.setQuery(new B);this.setPost(new B);this.setFiles(new B);this.setCookies(new B);this.setHostName("localhost");this.setClientIP("127.0.0.1");this.setUri(a);a=new B;this.setClientHeaders(a);this.setUserAgent(oa.fromString("Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:43.0) Gecko/20100101 Firefox/43.0"));this.setHttpMethod("GET");
this.setScriptDirectory("/var/www/");this.setAuthorization(null);this.setIsMultipart(!1)};f["ufront.test.MockHttpRequest"]=md;md.__name__=["ufront","test","MockHttpRequest"];md.__super__=db;md.prototype=O(db.prototype,{setParams:function(a){this.params=a;return this},get_queryString:function(){return this.queryString},setQueryString:function(a){this.queryString=a;return this},get_postString:function(){return this.postString},setPostString:function(a){this.postString=a;return this},get_query:function(){return this.query},
setQuery:function(a){this.query=a;return this},get_post:function(){return this.post},setPost:function(a){this.post=a;return this},get_files:function(){return this.files},setFiles:function(a){this.files=a;return this},get_cookies:function(){return this.cookies},setCookies:function(a){this.cookies=a;return this},get_hostName:function(){return this.hostName},setHostName:function(a){this.hostName=a;return this},get_clientIP:function(){return this.clientIP},setClientIP:function(a){this.clientIP=a;return this},
get_uri:function(){return this.uri},setUri:function(a){this.uri=a;return this},get_clientHeaders:function(){return this.clientHeaders},setClientHeaders:function(a){this.clientHeaders=a;return this},get_userAgent:function(){return this.userAgent},setUserAgent:function(a){this.userAgent=a;return this},get_httpMethod:function(){return this.httpMethod},setHttpMethod:function(a){this.httpMethod=a;return this},get_scriptDirectory:function(){return this.scriptDirectory},setScriptDirectory:function(a){this.scriptDirectory=
a;return this},get_authorization:function(){return this.authorization},setAuthorization:function(a){this.authorization=a;return this},setIsMultipart:function(a){a?C.set(this.get_clientHeaders(),"content-type","multipart/form-data; charset=UTF-8"):C.set(this.get_clientHeaders(),"content-type","application/x-www-form-urlencoded; charset=UTF-8");return this},parseMultipart:function(a,b,c){throw new k(r.wrap("parseMultipart is not supported in MockHttpRequest",null,{fileName:"MockHttpRequest.hx",lineNumber:158,
className:"ufront.test.MockHttpRequest",methodName:"parseMultipart"}));},__class__:md});var Td=function(){};f["ufront.test.TestUtils"]=Td;Td.__name__=["ufront","test","TestUtils"];var Ud=function(){};f["ufront.test.NaturalLanguageTests"]=Ud;Ud.__name__=["ufront","test","NaturalLanguageTests"];var Sa=function(a){null==a&&(a=Sa.cacheEnabledByDefault);a&&(this.cache=new B);this.engines=[]};f["ufront.view.UFViewEngine"]=Sa;Sa.__name__=["ufront","view","UFViewEngine"];Sa.prototype={engines:null,cache:null,
getTemplate:function(a,b){var c=this,d;null!=this.cache?(d=this.cache,d=null!=l[a]?d.existsReserved(a):d.h.hasOwnProperty(a)):d=!1;if(d&&(d=this.cache,d=null!=l[a]?d.getReserved(a):d.h[a],null==b||b.type==d.a))return new x(new y(h.Success(d.b)));var e=new Q,f=R.extension(a),m=null;if(null!=b&&""!=f)m=a,this.getTemplateString(m).handle(function(b){switch(b[1]){case 0:switch(b[2][1]){case 0:e.trigger(h.Success(b[2][2]));break;case 1:b=h.Failure(new A(null,"Template "+a+" not found",{fileName:"UFViewEngine.hx",
lineNumber:115,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})),e.trigger(b)}break;case 1:e.trigger(h.Failure(b[2]))}});else if(null!=b&&""==f){var w=b.extensions.slice(),p=null,p=function(){if(0<w.length){var d=w.shift();m=R.withExtension(a,d);c.getTemplateString(m).handle(function(a){switch(a[1]){case 0:switch(a[2][1]){case 0:e.trigger(h.Success(a[2][2]));break;case 1:p()}break;case 1:e.trigger(h.Failure(a[2]))}})}else d=h.Failure(new A(null,"No template found for "+a+" with extensions "+
n.string(b.extensions),{fileName:"UFViewEngine.hx",lineNumber:131,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})),e.trigger(d)};p()}else if(null==b&&""!=f){var q=this.engines.slice(),r=null,r=function(){if(0<q.length){var d=q.shift();Ca.has(d.extensions,f)?(m=R.normalize(a),c.getTemplateString(m).handle(function(c){switch(c[1]){case 0:switch(c[2][1]){case 0:c=c[2][2];b=d;e.trigger(h.Success(c));break;case 1:c=h.Failure(new A(null,"Template "+a+" not found",{fileName:"UFViewEngine.hx",
lineNumber:147,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})),e.trigger(c)}break;case 1:e.trigger(h.Failure(c[2]))}})):r()}else{var k=h.Failure(new A(null,"No templating engine found for "+a+" (None support extension "+f+")",{fileName:"UFViewEngine.hx",lineNumber:151,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}));e.trigger(k)}};r()}else if(null==b&&""==f){var s=this.engines.slice(),t=null,u=[],B=[],C=null,D=null,D=function(){if(0==u.length&&0==s.length){var d=h.Failure(new A(null,
"No template found for "+a+" with extensions "+n.string(B),{fileName:"UFViewEngine.hx",lineNumber:165,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}));e.trigger(d)}else 0==u.length&&(t=s.shift(),u=t.extensions.slice()),C=u.shift(),B.push(C),m=R.withExtension(a,C),c.getTemplateString(m).handle(function(a){switch(a[1]){case 0:switch(a[2][1]){case 0:a=a[2][2];b=t;e.trigger(h.Success(a));break;case 1:D()}break;case 1:e.trigger(h.Failure(a[2]))}})};D()}return v._tryFailingMap(e,function(d){try{var e=
b.factory(d);if(null!=c.cache){var f=c.cache,g=new sa(b.type,e);null!=l[a]?f.setReserved(a,g):f.h[a]=g}return h.Success(e)}catch(w){return z.lastException=w,w instanceof k&&(w=w.val),h.Failure(A.withData(null,"Failed to parse template "+m+" using "+b.type,w,{fileName:"UFViewEngine.hx",lineNumber:205,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}))}})},getTemplateString:function(a){return new x(new y(h.Failure(new A(null,"Attempting to fetch template "+a+" with UFViewEngine.  This is an abstract class, you must use one of the ViewEngine implementations.",
{fileName:"UFViewEngine.hx",lineNumber:226,className:"ufront.view.UFViewEngine",methodName:"getTemplateString"}))))},addTemplatingEngine:function(a){this.engines.push(a)},__class__:Sa};var mc=function(a){Sa.call(this,a)};f["ufront.view.FileViewEngine"]=mc;mc.__name__=["ufront","view","FileViewEngine"];mc.__super__=Sa;mc.prototype=O(Sa.prototype,{scriptDir:null,path:null,isPathAbsolute:null,get_isPathAbsolute:function(){return L.startsWith(this.path,"/")},viewDirectory:null,get_viewDirectory:function(){return this.get_isPathAbsolute()?
R.addTrailingSlash(this.path):R.addTrailingSlash(this.scriptDir)+R.addTrailingSlash(this.path)},getTemplateString:function(a){this.get_viewDirectory();return u.asSurpriseError("No implementation for non-sys platforms in FileViewEngine.getTemplateString().",null,{fileName:"FileViewEngine.hx",lineNumber:76,className:"ufront.view.FileViewEngine",methodName:"getTemplateString"})},__class__:mc,__properties__:{get_viewDirectory:"get_viewDirectory",get_isPathAbsolute:"get_isPathAbsolute"}});var ic=function(a){Sa.call(this,
a)};f["ufront.view.HttpViewEngine"]=ic;ic.__name__=["ufront","view","HttpViewEngine"];ic.__super__=Sa;ic.prototype=O(Sa.prototype,{viewPath:null,getTemplateString:function(a){L.startsWith(a,"/")&&(a=m.substr(a,1,null));var b=R.addTrailingSlash(this.viewPath)+a;try{var c=new Q,d=new Ub(b),e=-1;d.onStatus=function(a){e=a};d.onData=function(a){c.trigger(h.Success(Da.Some(a)))};d.onError=function(a){404==e?c.trigger(h.Success(Da.None)):(a=h.Failure(A.withData(e,"Failed to load template "+b,a,{fileName:"HttpViewEngine.hx",
lineNumber:54,className:"ufront.view.HttpViewEngine",methodName:"getTemplateString"})),c.trigger(a))};d.request();return c}catch(f){return z.lastException=f,f instanceof k&&(f=f.val),new x(new y(h.Failure(A.withData(null,"Failed to load template "+b,f,{fileName:"HttpViewEngine.hx",lineNumber:59,className:"ufront.view.HttpViewEngine",methodName:"getTemplateString"}))))}},__class__:ic});var D={};f["ufront.view._TemplateData.TemplateData_Impl_"]=D;D.__name__=["ufront","view","_TemplateData","TemplateData_Impl_"];
D._new=function(a){return null!=a?a:{}};D.toObject=function(a){return a};D.toMap=function(a){for(var b=new B,c=0,d=F.fields(a);c<d.length;){var e=d[c];++c;var f=F.field(a,e);null!=l[e]?b.setReserved(e,f):b.h[e]=f}return b};D.toStringMap=function(a){return D.toMap(a)};D.get=function(a,b){return F.field(a,b)};D.exists=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};D.set=function(a,b,c){a[b]=c;return null!=a?a:{}};D.array_set=function(a,b,c){return a[b]=c};D.setMap=function(a,b){for(var c=
b.keys();c.hasNext();){var d=c.next();D.set(a,d,null!=l[d]?b.getReserved(d):b.h[d])}return null!=a?a:{}};D.setObject=function(a,b){var c=t["typeof"](b);switch(c[1]){case 4:for(var d=0,c=F.fields(b);d<c.length;){var e=c[d];++d;D.set(a,e,F.field(b,e))}break;case 6:for(d=0,c=t.getInstanceFields(c[2]);d<c.length;)e=c[d],++d,D.set(a,e,F.getProperty(b,e))}return null!=a?a:{}};D.fromMap=function(a){var b={},b=null!=b?b:{};D.setMap(b,a);return b};D.fromStringMap=function(a){return D.fromMap(a)};D.fromMany=
function(a){var b={},b=null!=b?b:{};for(a=fa(a)();a.hasNext();){var c=a.next();null!=c&&(q.__instanceof(c,B)?D.setMap(b,c):D.setObject(b,c))}return b};D.fromObject=function(a){var b={};return D.setObject(null!=b?b:{},a)};var H={};f["ufront.view._TemplateHelper.TemplateHelper_Impl_"]=H;H.__name__=["ufront","view","_TemplateHelper","TemplateHelper_Impl_"];H._new=function(a,b){if(7<a)throw new k("TemplateHelpers can have a maximum of 7 arguments");return{numArgs:a,fn:b}};H.from0=function(a){return H._new(0,
a)};H.from1=function(a){return H._new(1,a)};H.from2=function(a){return H._new(2,a)};H.from3=function(a){return H._new(3,a)};H.from4=function(a){return H._new(4,a)};H.from5=function(a){return H._new(5,a)};H.from6=function(a){return H._new(6,a)};H.from7=function(a){return H._new(7,a)};H.getFn=function(a){switch(a.numArgs){case 0:return function(){return H.call0(a)};case 1:return function(b){return H.call1(a,b)};case 2:return function(b,c){return H.call2(a,b,c)};case 3:return function(b,c,d){return H.call3(a,
b,c,d)};case 4:return function(b,c,d,e){return H.call4(a,b,c,d,e)};case 5:return function(b,c,d,e,f){return H.call5(a,b,c,d,e,f)};case 6:return function(b,c,d,e,f,h){return H.call6(a,b,c,d,e,f,h)};case 7:return function(b,c,d,e,f,h,k){return H.call7(a,b,c,d,e,f,h,k)};default:throw new k("TemplateHelpers can have a maximum of 7 arguments");}};H.call0=function(a){return a.fn.apply({},[])};H.call1=function(a,b){return a.fn.apply({},[b])};H.call2=function(a,b,c){return a.fn.apply({},[b,c])};H.call3=function(a,
b,c,d){return a.fn.apply({},[b,c,d])};H.call4=function(a,b,c,d,e){return a.fn.apply({},[b,c,d,e])};H.call5=function(a,b,c,d,e,f){return a.fn.apply({},[b,c,d,e,f])};H.call6=function(a,b,c,d,e,f,h){return a.fn.apply({},[b,c,d,e,f,h])};H.call7=function(a,b,c,d,e,f,h,k){return a.fn.apply({},[b,c,d,e,f,h,k])};var na=function(){};f["ufront.view.TemplatingEngines"]=na;na.__name__=["ufront","view","TemplatingEngines"];na.__properties__={get_haxe:"get_haxe"};na.get_haxe=function(){return{factory:function(a){var b=
new X(a);return function(a,d){var e={};if(null!=d)for(var f=d.keys();f.hasNext();){var h=f.next(),k=na.padHelperFnForHaxeTplMacro(null!=l[h]?d.getReserved(h):d.h[h]);e[h]=k}return b.execute(a,e)}},type:"haxe.Template",extensions:["html","tpl"]}};na.padHelperFnForHaxeTplMacro=function(a){switch(a.numArgs){case 0:return function(b){return H.getFn(a)()};case 1:return function(b,c){return H.getFn(a)(c)};case 2:return function(b,c,d){return H.getFn(a)(c,d)};case 3:return function(b,c,d,e){return H.getFn(a)(c,
d,e)};case 4:return function(b,c,d,e,f){return H.getFn(a)(c,d,e,f)};case 5:return function(b,c,d,e,f,h){return H.getFn(a)(c,d,e,f,h)};case 6:return function(b,c,d,e,f,h,k){return H.getFn(a)(c,d,e,f,h,k)};case 7:return function(b,c,d,e,f,h,k,l){return H.getFn(a)(c,d,e,f,h,k,l)};default:throw new k("TemplateHelper supports a maximum of 7 arguments");}};var Wc={};f["ufront.view._UFTemplate.UFTemplate_Impl_"]=Wc;Wc.__name__=["ufront","view","_UFTemplate","UFTemplate_Impl_"];Wc._new=function(a){return a};
Wc.fromSimpleCallback=function(a){return Wc._new(function(b,c){var d={};if(null!=c)for(var e=c.keys();e.hasNext();){var f=e.next();D.set(d,f,H.getFn(null!=l[f]?c.getReserved(f):c.h[f]))}D.setObject(d,b);return a(d)})};Wc.execute=function(a,b,c){return a(b,c)};var zb=function(){this.showStack=!1;this.catchErrors=!0};f["ufront.web.ErrorPageHandler"]=zb;zb.__name__=["ufront","web","ErrorPageHandler"];zb.__interfaces__=[Yb];zb.errorStackItems=function(a){return z.toString(a).split("\n")};zb.prototype=
{catchErrors:null,showStack:null,handleError:function(a,b){var c=null!=a&&null!=a.data?" ("+n.string(a.data)+")":"",d=this.showStack?" "+z.toString(z.exceptionStack()):"";b.messages.push({msg:"Handling error: "+n.string(a)+c+d,pos:{fileName:"ErrorPageHandler.hx",lineNumber:44,className:"ufront.web.ErrorPageHandler",methodName:"handleError"},type:M.MError});0==(b.completion&1<<G.CRequestHandlersComplete[1])&&(b.response.clear(),b.response.status=a.code,b.response.set_contentType("text/html"),b.response.write(this.renderError(a,
this.showStack)),b.completion|=1<<G.CRequestHandlersComplete[1]);this.catchErrors||a.throwSelf();return u.success()},renderErrorContent:function(a,b){null==b&&(b=!1);var c=null!=a.data?'<p class="error-data">'+n.string(a.data)+"</p>":"",d=b?'<p class="error-pos">&gt; '+a.printPos()+"</p>":"",e=zb.errorStackItems(z.exceptionStack()),e=b&&0<e.length?'<div class="error-exception-stack"><h3>Exception Stack:</h3>\n\t\t\t\t\t<pre><code>'+e.join("\n")+"</pre></code>\n\t\t\t\t</div>":"";return'\n\t\t\t<summary class="error-summary"><h1 class="error-message">'+
a.message+'</h1></summary>\n\t\t\t<details class="error-details"> '+c+" "+d+" "+e+"</details>\n\t\t"},renderErrorPage:function(a,b){return"<!DOCTYPE html>\n<html>\n<head>\n\t<title>"+a+'</title>\n\t<style>\n\t\tbody {\n\t\t\tfont-family: sans-serif;\n\t\t}\n\t\t.container {\n\t\t\tmax-width: 800px;\n\t\t\tmargin: 30px auto;\n\t\t}\n\t\t.jumbotron {\n\t\t\tpadding: 30px;\n\t\t\tborder-radius: 30px;\n\t\t\tbackground-color: rgb(230,230,230);\n\t\t}\n\t\tp[frown] {\n\t\t\ttext-align: center;\n\t\t}\n\t\tp[frown] span { \n\t\t\ttransform: rotate(90deg);\n\t\t\tdisplay: inline-block;\n\t\t\tcolor: #bbb;\n\t\t\tfont-size: 3em;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div class="container">\n\t\t<div class="jumbotron">\n\t\t\t<p frown><span>:(</span></p>\n\t\t\t'+
b+"\n\t\t</div>\n\t</div>\n</body>\n</html>\n"},renderError:function(a,b){var c=this.renderErrorContent(a,b);return this.renderErrorPage(a.message,c)},__class__:zb};var ma=function(a,b,c,d,e,f,h){null==h&&(h=!1);null==f&&(f=!1);this.name=a;this.value=b;this.expires=c;this.domain=d;this.path=e;this.secure=f;this.httpOnly=h};f["ufront.web.HttpCookie"]=ma;ma.__name__=["ufront","web","HttpCookie"];ma.addPair=function(a,b,c,d){null==d&&(d=!1);if(d||null!=c)a.b+="; ",a.b+=null==b?"null":""+b,null!=c&&(a.b+=
"=",a.b+=null==c?"null":""+c)};ma.prototype={domain:null,expires:null,name:null,path:null,secure:null,httpOnly:null,value:null,expireNow:function(){this.expires=new Date(0)},toString:function(){return""+this.name+": "+this.get_description()},get_description:function(){var a=new Ta;a.b+=n.string(this.value);if(null!=this.expires){null==ma.tzOffset&&(ma.tzOffset=m.strDate("1970-01-01 00:00:00").getTime());var b=this.expires.getTime()+ma.tzOffset,c=new Date(b),d=function(a){for(a=""+a;2>a.length;)a=
"0"+a;return a},b=ma.dayNames[c.getDay()],e=d(c.getDate()),f=ma.monthNames[c.getMonth()],h=c.getFullYear(),k=d(c.getHours()),l=d(c.getMinutes()),c=d(c.getSeconds());ma.addPair(a,"expires",""+b+", "+e+"-"+f+"-"+h+" "+k+":"+l+":"+c+" GMT")}ma.addPair(a,"domain",this.domain);ma.addPair(a,"path",this.path);this.secure&&ma.addPair(a,"secure",null,!0);return a.b},__class__:ma,__properties__:{get_description:"get_description"}};var r=function(){};f["ufront.web.HttpError"]=r;r.__name__=["ufront","web","HttpError"];
r.wrap=function(a,b,c){null==b&&(b="Internal Server Error");return q.__instanceof(a,A)?a:A.withData(500,b,a,c)};r.badRequest=function(a,b){var c="Bad Request";null!=a&&(c+=": "+a);return new A(400,c,b)};r.internalServerError=function(a,b,c){null==a&&(a="Internal Server Error");return A.withData(500,a,b,c)};r.methodNotAllowed=function(a){return new A(405,"Method Not Allowed",a)};r.pageNotFound=function(a){return new A(404,"Page Not Found",a)};r.unauthorized=function(a,b){null==a&&(a="Unauthorized Access");
return new A(401,a,b)};r.unprocessableEntity=function(a){return new A(422,"Unprocessable Entity",a)};r.authError=function(a,b){var c;switch(a[1]){case 0:c="Not Logged In";break;case 1:c="Login Failed: "+a[2];break;case 2:c="Not Logged In As "+n.string(a[2]);break;case 3:c="Permission "+n.string(a[2])+" denied"}return A.typed(401,c,a,b)};r.remotingError=function(a,b){switch(a[1]){case 0:var c=a[3];return A.typed(c,"HTTP "+c+" Error during "+a[2],a,b);case 1:return A.typed(404,"Remoting API "+a[2]+
" not found: "+a[3],a,b);case 2:var c=a[2],d=a[3],d=d instanceof A?d:null;return null!=d?A.typed(d.code,d.message,a,b):A.typed(500,"Internal Server Error while executing "+c,a,b);case 3:return A.typed(500,"Error during callback after "+a[2]+": "+n.string(a[3]),a,b);case 4:return A.typed(422,"Remoting serialization failed for call "+a[2]+": could not process "+a[3],a,b);case 5:return A.typed(500,"Error with response for "+a[2]+": no remoting response found",a,b);case 6:return c=a[3],d=a[2],q.__instanceof(c,
A)?A.typed(c.code,c.message,a,c.pos):A.typed(500,"Call to "+d+" failed: "+n.string(c),a,b);case 7:return A.typed(500,"Unknown exception during remoting call",a,b)}};r.notImplemented=function(a){return new A(500,"Internal Server Error: "+(a.className+"."+a.methodName)+" is not implemented on this platform",a)};r.abstractMethod=function(a){return new A(500,"Internal Server Error: "+(a.className+"."+a.methodName)+" is an abstract method and should be overridden by a subclass",a)};r.throwIfNull=function(a,
b,c){null==b&&(b="argument");if(null==a)throw new k(new A(500,""+b+" should not be null",c));};r.fakePosition=function(a,b,c){return{methodName:b,lineNumber:-1,fileName:"",customParams:c,className:t.getClassName(null==a?null:q.getClass(a))}};var cc=function(a){this.indexController=a};f["ufront.web.MVCHandler"]=cc;cc.__name__=["ufront","web","MVCHandler"];cc.__interfaces__=[hc];cc.prototype={indexController:null,handleRequest:function(a){var b=this;return v._tryFailingFlatMap(this.processRequest(a),
function(c){return b.executeResult(a)})},processRequest:function(a){a.actionContext.handler=this;var b=a.injector._instantiate(this.indexController);return v._tryMap(b.execute(),function(b){a.actionContext.actionResult=b;return I.Noise})},executeResult:function(a){try{return a.actionContext.actionResult.executeResult(a.actionContext)}catch(b){return z.lastException=b,b instanceof k&&(b=b.val),a=a.actionContext,t.getClassName(null==a?null:q.getClass(a)),new x(new y(h.Failure(r.wrap(b,null,{fileName:"MVCHandler.hx",
lineNumber:70,className:"ufront.web.MVCHandler",methodName:"executeResult"}))))}},toString:function(){return"ufront.web.MVCHandler"},__class__:cc};var oa=function(a,b,c,d,e){this.browser=a;this.version=b;this.majorVersion=c;this.minorVersion=d;this.platform=e};f["ufront.web.UserAgent"]=oa;oa.__name__=["ufront","web","UserAgent"];oa.fromString=function(a){var b=new oa("unknown","",0,0,"unknown"),c=oa.searchString(oa.dataBrowser,a);null!=c&&(b.browser=c.app,c=oa.extractVersion(c.versionString,a),null!=
c&&(b.version=c.version,b.majorVersion=c.majorVersion,b.minorVersion=c.minorVersion));a=oa.searchString(oa.dataOS,a);null!=a&&(b.platform=a.app);return b};oa.extractVersion=function(a,b){var c=b.indexOf(a);if(0>c)return null;var d=new qa("(\\d+)\\.(\\d+)[^ ();]*","");return d.match(m.substr(b,c+a.length+1,null))?{version:d.matched(0),majorVersion:n.parseInt(d.matched(1)),minorVersion:n.parseInt(d.matched(2))}:null};oa.searchString=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(0<=b.indexOf(d.subString))return{app:d.identity,
versionString:null==d.versionSearch?d.identity:d.versionSearch}}return null};oa.prototype={browser:null,version:null,majorVersion:null,minorVersion:null,platform:null,toString:function(){return""+this.browser+" v."+this.majorVersion+"."+this.minorVersion+" ("+this.version+") on "+this.platform},__class__:oa};var nd=function(a){r.throwIfNull(a,"httpContext",{fileName:"ActionContext.hx",lineNumber:80,className:"ufront.web.context.ActionContext",methodName:"new"});this.httpContext=a};f["ufront.web.context.ActionContext"]=
nd;nd.__name__=["ufront","web","context","ActionContext"];nd.prototype={httpContext:null,handler:null,controller:null,action:null,args:null,actionResult:null,uriParts:null,get_uriParts:function(){null==this.uriParts&&(this.uriParts=this.httpContext.getRequestUri().split("/"),0<this.uriParts.length&&""==this.uriParts[0]&&this.uriParts.shift(),0<this.uriParts.length&&""==this.uriParts[this.uriParts.length-1]&&this.uriParts.pop());return this.uriParts},toString:function(){return"ActionContext("+n.string(this.controller)+
", "+this.action+", "+n.string(this.args)+")"},__class__:nd,__properties__:{get_uriParts:"get_uriParts"}};var xb=function(a,b,c,d,e,f,h){null==h&&(h="uf-content");r.throwIfNull(b,null,{fileName:"HttpContext.hx",lineNumber:214,className:"ufront.web.context.HttpContext",methodName:"new"});r.throwIfNull(a,null,{fileName:"HttpContext.hx",lineNumber:215,className:"ufront.web.context.HttpContext",methodName:"new"});this.request=a;this.response=b;this.urlFilters=null!=f?f:[];this._relativeContentDir=h;this.actionContext=
new nd(this);this.messages=[];this.completion=0;this.injector=null!=c?c.createChildInjector():new sb;this.injector.mapType("ufront.web.context.HttpContext",null,null).toValue(this);this.injector.mapType("ufront.web.context.HttpRequest",null,null).toValue(a);this.injector.mapType("ufront.web.context.HttpResponse",null,null).toValue(b);this.injector.mapType("ufront.web.context.ActionContext",null,null).toValue(this.actionContext);this.injector.mapType("ufront.log.MessageList",null,null).toValue(new kd(this.messages));
this.injector.mapType("minject.Injector",null,null).toValue(this.injector);null!=d&&(this.session=d);if(null==this.session)try{this.session=this.injector.getValueForType("ufront.web.session.UFHttpSession",null)}catch(l){z.lastException=l,l instanceof k&&(l=l.val),a="Failed to load UFHttpSession: "+n.string(l)+". Using VoidSession instead."+z.toString(z.exceptionStack()),this.messages.push({msg:a,pos:{fileName:"HttpContext.hx",lineNumber:236,className:"ufront.web.context.HttpContext",methodName:"new"},
type:M.MLog})}null==this.session&&(this.session=new jc);this.injector.mapType("ufront.web.session.UFHttpSession",null,null).toValue(this.session);this.injector.mapRuntimeTypeOf(this.session).toValue(this.session);null!=e&&(this.auth=e);if(null==this.auth)try{this.auth=this.injector.getValueForType("ufront.auth.UFAuthHandler",null)}catch(m){z.lastException=m,m instanceof k&&(m=m.val),e="Failed to load UFAuthHandler: "+n.string(m)+". Using NobodyAuthHandler instead."+z.toString(z.exceptionStack()),
this.messages.push({msg:e,pos:{fileName:"HttpContext.hx",lineNumber:244,className:"ufront.web.context.HttpContext",methodName:"new"},type:M.MLog})}null==this.auth&&(this.auth=new kc);this.injector.mapType("ufront.auth.UFAuthHandler",null,null).toValue(this.auth);this.injector.mapRuntimeTypeOf(this.auth).toValue(this.auth)};f["ufront.web.context.HttpContext"]=xb;xb.__name__=["ufront","web","context","HttpContext"];xb.createContext=function(a,b,c,d,e,f,h){null==h&&(h="uf-content");null==a&&(a=db.create());
null==b&&(b=ha.create());return new xb(a,b,c,d,e,f,h)};xb.prototype={injector:null,request:null,response:null,session:null,sessionID:null,auth:null,currentUser:null,currentUserID:null,actionContext:null,completion:null,urlFilters:null,messages:null,contentDirectory:null,_requestUri:null,_relativeContentDir:null,_contentDir:null,getRequestUri:function(){if(null==this._requestUri){for(var a=Ha.parse(this.request.get_uri()),b=0,c=this.urlFilters;b<c.length;){var d=c[b];++b;d.filterIn(a)}this._requestUri=
a.toString()}return this._requestUri},generateUri:function(a,b){null==b&&(b=!1);for(var c=mb.parse(a,b),d=this.urlFilters.length-1;0<=d;)this.urlFilters[d--].filterOut(c);return c.toString()},setUrlFilters:function(a){this.urlFilters=null!=a?a:[];this._requestUri=null},commitSession:function(){return null!=this.session?this.session.commit():new x(new y(h.Success(I.Noise)))},ufTrace:function(a,b){this.messages.push({msg:a,pos:b,type:M.MTrace})},ufLog:function(a,b){this.messages.push({msg:a,pos:b,type:M.MLog})},
ufWarn:function(a,b){this.messages.push({msg:a,pos:b,type:M.MWarning})},ufError:function(a,b){this.messages.push({msg:a,pos:b,type:M.MError})},toString:function(){return"HttpContext"},get_sessionID:function(){return null!=this.session?this.session.get_id():null},get_currentUser:function(){return null!=this.auth?this.auth.get_currentUser():null},get_currentUserID:function(){return null!=this.auth&&null!=this.auth.get_currentUser()?this.auth.get_currentUser().get_userID():null},get_contentDirectory:function(){null==
this._contentDir&&(null!=this.request.get_scriptDirectory()?this._contentDir=R.addTrailingSlash(this.request.get_scriptDirectory())+R.addTrailingSlash(this._relativeContentDir):this._contentDir=R.addTrailingSlash(this._relativeContentDir));return this._contentDir},__class__:xb,__properties__:{get_contentDirectory:"get_contentDirectory",get_currentUserID:"get_currentUserID",get_currentUser:"get_currentUser",get_sessionID:"get_sessionID"}};var G=f["ufront.web.context.RequestCompletion"]={__ename__:["ufront",
"web","context","RequestCompletion"],__constructs__:"CRequestMiddlewareComplete CRequestHandlersComplete CResponseMiddlewareComplete CLogHandlersComplete CFlushComplete CErrorHandlersTriggered CErrorHandlersComplete".split(" ")};G.CRequestMiddlewareComplete=["CRequestMiddlewareComplete",0];G.CRequestMiddlewareComplete.toString=s;G.CRequestMiddlewareComplete.__enum__=G;G.CRequestHandlersComplete=["CRequestHandlersComplete",1];G.CRequestHandlersComplete.toString=s;G.CRequestHandlersComplete.__enum__=
G;G.CResponseMiddlewareComplete=["CResponseMiddlewareComplete",2];G.CResponseMiddlewareComplete.toString=s;G.CResponseMiddlewareComplete.__enum__=G;G.CLogHandlersComplete=["CLogHandlersComplete",3];G.CLogHandlersComplete.toString=s;G.CLogHandlersComplete.__enum__=G;G.CFlushComplete=["CFlushComplete",4];G.CFlushComplete.toString=s;G.CFlushComplete.__enum__=G;G.CErrorHandlersTriggered=["CErrorHandlersTriggered",5];G.CErrorHandlersTriggered.toString=s;G.CErrorHandlersTriggered.__enum__=G;G.CErrorHandlersComplete=
["CErrorHandlersComplete",6];G.CErrorHandlersComplete.toString=s;G.CErrorHandlersComplete.__enum__=G;var U=function(){};f["ufront.web.result.ActionResult"]=U;U.__name__=["ufront","web","result","ActionResult"];U.transformUri=function(a,b){return L.startsWith(b,"~/")?a.httpContext.generateUri(m.substr(b,2,null)):b};U.wrap=function(a){if(null==a)return new Tb;var b=a instanceof U?a:null;null==b&&(b=new $a(n.string(a)));return b};U.prototype={executeResult:function(a){return u.success()},__class__:U};
var pc=function(){};f["ufront.web.result.WrappedResult"]=pc;pc.__name__=["ufront","web","result","WrappedResult"];pc.prototype={originalResult:null,__class__:pc};var ua=function(a){this.originalResult=a;this.scripts=[]};f["ufront.web.result.CallJavascriptResult"]=ua;ua.__name__=["ufront","web","result","CallJavascriptResult"];ua.__interfaces__=[pc];ua.addInlineJsToResult=function(a,b){return(new ua(a)).addInlineJs(b)};ua.addJsScriptToResult=function(a,b){return(new ua(a)).addJsScript(b)};ua.executeScripts=
function(a,b){var c=window.document.createElement("div");c.innerHTML=b.join("");for(var d=0,e=c.children.length;d<e;){var f=d++,f=c.children[f],h=window.document.createElement("script");h.setAttribute("type","text/javascript");var k=f.getAttribute("src");null!=k&&h.setAttribute("src",k);h.innerHTML=f.innerHTML;window.document.body.appendChild(h);window.document.body.removeChild(h)}};ua.insertScriptsBeforeBodyTag=function(a,b){var c=b.join(""),d=a.lastIndexOf("</body>");return a=-1==d?a+c:a.substring(0,
d)+c+m.substr(a,d,null)};ua.__super__=U;ua.prototype=O(U.prototype,{originalResult:null,scripts:null,addInlineJs:function(a){this.scripts.push('<script type="text/javascript">'+a+"\x3c/script>");return this},addJsScript:function(a){this.scripts.push('<script type="text/javascript" src="'+a+'">\x3c/script>');return this},executeResult:function(a){var b=this;return v._tryMap(this.originalResult.executeResult(a),function(c){c=a.httpContext.response;"text/html"==c.get_contentType()&&0<b.scripts.length&&
ua.executeScripts(c,b.scripts);return I.Noise})},__class__:ua});var ga=function(a,b,c){ua.call(this,a);this.action=b;this.actionData=c};f["ufront.web.result.AddClientActionResult"]=ga;ga.__name__=["ufront","web","result","AddClientActionResult"];ga.__interfaces__=[pc];ga.addClientAction=function(a,b,c){return new ga(a,b,c)};ga.__super__=ua;ga.prototype=O(ua.prototype,{action:null,actionData:null,executeResult:function(a){var b=this;return v._tryMap(this.originalResult.executeResult(a),function(a){Ba.ufExecuteAction(b.action,
b.actionData);return I.Noise})},__class__:ga});var va=function(a,b){this.contentType=a;this.fileDownloadName=b;null==a&&this.setContentTypeByFilename()};f["ufront.web.result.FileResult"]=va;va.__name__=["ufront","web","result","FileResult"];va.__super__=U;va.prototype=O(U.prototype,{contentType:null,fileDownloadName:null,setContentTypeByFilename:function(a){null==a&&(a=this.fileDownloadName);if(null!=a){a=R.extension(a);var b=va.extMap;if(null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=va.extMap,
this.contentType=null!=l[a]?b.getReserved(a):b.h[a]}},executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"FileResult.hx",lineNumber:79,className:"ufront.web.result.FileResult",methodName:"executeResult"});null!=this.contentType&&a.httpContext.response.set_contentType(this.contentType);null!=this.fileDownloadName&&a.httpContext.response.setHeader("content-disposition","attachment; filename="+this.fileDownloadName);return u.success()},__class__:va});var od=function(a,b,c){va.call(this,
b,c);this.bytes=a};f["ufront.web.result.BytesResult"]=od;od.__name__=["ufront","web","result","BytesResult"];od.__super__=va;od.prototype=O(va.prototype,{bytes:null,executeResult:function(a){va.prototype.executeResult.call(this,a);a.httpContext.response.writeBytes(this.bytes,0,this.bytes.length);return u.success()},__class__:od});var $a=function(a,b){this.content=null!=a?a:"";this.contentType=b};f["ufront.web.result.ContentResult"]=$a;$a.__name__=["ufront","web","result","ContentResult"];$a.create=
function(a){return new $a(a,null)};$a.replaceVirtualLinks=function(a,b){var c=new qa("(')(~/[^'\\s]*)'","gi"),d=new qa('(")(~/[^"\\s]*)"',"gi"),e=function(b){var c=b.matched(1);b=b.matched(2);b=U.transformUri(a,b);return c+b+c};b=c.map(b,e);return b=d.map(b,e)};$a.__super__=U;$a.prototype=O(U.prototype,{content:null,contentType:null,executeResult:function(a){null!=this.contentType&&a.httpContext.response.set_contentType(this.contentType);"text/html"==a.httpContext.response.get_contentType()&&(this.content=
$a.replaceVirtualLinks(a,this.content));a.httpContext.response.write(this.content);return u.success()},__class__:$a});var pd=function(a){this.filePath=a};f["ufront.web.result.DirectFilePathResult"]=pd;pd.__name__=["ufront","web","result","DirectFilePathResult"];pd.__super__=U;pd.prototype=O(U.prototype,{filePath:null,executeResult:function(a){r.throwIfNull(a,null,{fileName:"DirectFilePathResult.hx",lineNumber:35,className:"ufront.web.result.DirectFilePathResult",methodName:"executeResult"});throw new k(r.notImplemented({fileName:"DirectFilePathResult.hx",
lineNumber:52,className:"ufront.web.result.DirectFilePathResult",methodName:"executeResult"}));},__class__:pd});var Tb=function(a){null==a&&(a=!1);this.preventFlush=a};f["ufront.web.result.EmptyResult"]=Tb;Tb.__name__=["ufront","web","result","EmptyResult"];Tb.__super__=U;Tb.prototype=O(U.prototype,{preventFlush:null,executeResult:function(a){this.preventFlush&&a.httpContext.response.preventFlush();return u.success()},__class__:Tb});var qd=function(a,b,c){va.call(this,b,c);this.fileName=a};f["ufront.web.result.FilePathResult"]=
qd;qd.__name__=["ufront","web","result","FilePathResult"];qd.__super__=va;qd.prototype=O(va.prototype,{fileName:null,executeResult:function(a){va.prototype.executeResult.call(this,a);throw new k(r.notImplemented({fileName:"FilePathResult.hx",lineNumber:45,className:"ufront.web.result.FilePathResult",methodName:"executeResult"}));},__class__:qd});var qc=function(a,b){this.message=a;this.failureMessage=null!=b?b:a};f["ufront.web.result.HttpAuthResult"]=qc;qc.__name__=["ufront","web","result","HttpAuthResult"];
qc.requireAuth=function(a,b,c,d,e,f){a=a.request.get_authorization();if(null!=a&&a.user==b&&a.pass==c)return f();b=new qc(d,e);return new x(new y(h.Success(b)))};qc.__super__=U;qc.prototype=O(U.prototype,{message:null,failureMessage:null,executeResult:function(a){a.httpContext.response.requireAuthentication(this.message);a.httpContext.response.write(this.failureMessage);return u.success()},__class__:qc});var rc=function(a){r.throwIfNull(a,"content",{fileName:"JsonResult.hx",lineNumber:26,className:"ufront.web.result.JsonResult",
methodName:"new"});this.content=a};f["ufront.web.result.JsonResult"]=rc;rc.__name__=["ufront","web","result","JsonResult"];rc.create=function(a){return new rc(a)};rc.__super__=U;rc.prototype=O(U.prototype,{content:null,executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"JsonResult.hx",lineNumber:31,className:"ufront.web.result.JsonResult",methodName:"executeResult"});var b=JSON.stringify(this.content);a.httpContext.response.write(b);a.httpContext.response.set_contentType("application/json");
return u.success()},__class__:rc});var J=function(a,b,c){null==a&&(a={},a=D.setObject(null!=a?a:{},{}));this.data=a;this.helpers=new B;this.partials=new B;this.templateSource=null!=b?$.TFromEngine(b,c):$.TUnknown;this.layoutSource=$.TUnknown;this.finalOutput=this.finalOutputTrigger=new Q};f["ufront.web.result.ViewResult"]=J;J.__name__=["ufront","web","result","ViewResult"];J.create=function(a){var b={};return new J(D.setObject(null!=b?b:{},a))};J.getCombinedMap=function(a){for(var b=new B,c=0;c<a.length;){var d=
a[c];++c;for(var e=d.keys();e.hasNext();){var f=e.next(),h=null!=l[f]?d.getReserved(f):d.h[f];null!=l[f]?b.setReserved(f,h):b.h[f]=h}}return b};J.getViewFolder=function(a){var b=a.controller,b=null==b?null:q.getClass(b),b=P.getType(b).viewFolder;null!=b&&0<b.length?(a=""+n.string(b[0]),a=R.removeTrailingSlashes(a)):(a=a.controller,a=t.getClassName(null==a?null:q.getClass(a)).split(".").pop(),a=a.charAt(0).toLowerCase()+m.substr(a,1,null),L.endsWith(a,"Controller")&&(a=m.substr(a,0,a.length-10)));
return a};J.inferViewPathFromContext=function(a){var b=a.controller,b=null==b?null:q.getClass(b),b=P.getFields(b),b=F.field(b,a.action);if(null!=b&&null!=b.template&&0<b.template.length)a=""+n.string(b.template[0]);else{a=a.action;var b=L.startsWith(a,"do"),c=2<a.length&&a.charAt(2)==a.charAt(2).toUpperCase();b&&c&&(a=m.substr(a,2,null));a=a.charAt(0).toLowerCase()+m.substr(a,1,null)}return $.TFromEngine(a,null)};J.inferLayoutFromContext=function(a){var b=null,c=a.controller,d=null==c?null:q.getClass(c),
c=P.getType(d),d=P.getFields(d),d=F.field(d,a.action);if(null!=d&&null!=d.layout&&0<d.layout.length)b=""+n.string(d.layout[0]);else if(null!=c.layout&&0<c.layout.length)b=""+n.string(c.layout[0]);else try{b=a.httpContext.injector.getValueForType("String","defaultLayout"),null!=b&&!1==L.startsWith(b,"/")&&(b="/"+b)}catch(e){z.lastException=e}return null!=b?$.TFromEngine(b,null):$.TNone};J.addViewFolderToPath=function(a,b){if(1==a[1]){var c=a[3],d=a[2],d=L.startsWith(d,"/")?m.substr(d,1,null):""+b+
"/"+d;return $.TFromEngine(d,c)}return a};J.loadTemplateFromSource=function(a,b){switch(a[1]){case 0:var c=a[3],d=a[2];try{return new x(new y(h.Success(c.factory(d))))}catch(e){return z.lastException=e,new x(new y(J.error("Failed to parse template.",""+('Templating Engine: "'+c.type+'"')+"\n"+('String template: "'+d+'"'),{fileName:"ViewResult.hx",lineNumber:630,className:"ufront.web.result.ViewResult",methodName:"loadTemplateFromSource"})))}case 1:return b.getTemplate(a[2],a[3]);case 2:case 3:return new x(new y(h.Success(null)))}};
J.loadPartialTemplates=function(a,b){for(var c=J.getCombinedMap(a),d=new B,e=new B,f=[],k=c.keys();k.hasNext();){var m=[k.next()],p=[null!=l[m[0]]?c.getReserved(m[0]):c.h[m[0]]],q=J.loadTemplateFromSource(p[0],b);q.handle(function(a,b){return function(c){switch(c[1]){case 0:c=c[2];null!=c?null!=l[b[0]]?d.setReserved(b[0],c):d.h[b[0]]=c:(c=r.internalServerError("Partial "+b[0]+" must be either TFromString or TFromEngine, was "+n.string(a[0]),null,{fileName:"ViewResult.hx",lineNumber:647,className:"ufront.web.result.ViewResult",
methodName:"loadPartialTemplates"}),null!=l[b[0]]?e.setReserved(b[0],c):e.h[b[0]]=c);break;case 1:c=c[2],null!=l[b[0]]?e.setReserved(b[0],c):e.h[b[0]]=c}}}(p,m));f.push(q)}return v.ofMany(f).map(function(a){switch(Ca.count(e)){case 0:return h.Success(d);case 1:a=[];for(var b=e.arrayKeys(),b=new ob(e,b);b.hasNext();){var c=b.next();a.push(c)}return h.Failure(a[0]);default:a=[];for(b=e.keys();b.hasNext();)c=b.next(),a.push(c);return J.error("Partials "+n.string(a)+" failed to load: "+e.toString(),e,
{fileName:"ViewResult.hx",lineNumber:661,className:"ufront.web.result.ViewResult",methodName:"loadPartialTemplates"})}}).gather()};J.addHelpersForPartials=function(a,b,c){for(var d=a.keys();d.hasNext();){var e=[d.next()],f=function(a,d){return function(e){var f={};D.setObject(f,b);D.setObject(f,e);D.set(f,"__current__",e);return da.sure(J.executeTemplate("Partial["+d[0]+"]",h.Success(a[0]),f,c))}}([null!=l[e[0]]?a.getReserved(e[0]):a.h[e[0]]],e),f=H.from1(f);null!=l[e[0]]?c.setReserved(e[0],f):c.h[e[0]]=
f}};J.executeTemplate=function(a,b,c,d){switch(b[1]){case 0:b=b[2];try{return h.Success(b(c,d))}catch(e){return z.lastException=e,e instanceof k&&(e=e.val),J.error("Unable to execute "+a+" template: "+n.string(e),e,{fileName:"ViewResult.hx",lineNumber:693,className:"ufront.web.result.ViewResult",methodName:"executeTemplate"})}case 1:return c=b[2],J.error("Unable to load "+a+" template: "+n.string(c),c,{fileName:"ViewResult.hx",lineNumber:696,className:"ufront.web.result.ViewResult",methodName:"executeTemplate"})}};
J.error=function(a,b,c){return h.Failure(r.internalServerError(a,b,c))};J.__super__=U;J.prototype=O(U.prototype,{data:null,helpers:null,partials:null,viewFolder:null,templateSource:null,layoutSource:null,finalOutput:null,finalOutputTrigger:null,withLayout:function(a,b){this.layoutSource=$.TFromEngine(a,b);return this},withoutLayout:function(){this.layoutSource=$.TNone;return this},usingTemplateString:function(a,b,c){null==c&&(c=na.get_haxe());null!=a&&(this.templateSource=$.TFromString(a,c));null!=
b&&(this.layoutSource=$.TFromString(b,c));return this},setVar:function(a,b){D.array_set(this.data,a,b);return this},setVars:function(a,b){null!=a&&D.setMap(this.data,a);null!=b&&D.setObject(this.data,b);return this},addHelper:function(a,b){var c=this.helpers;null!=l[a]?c.setReserved(a,b):c.h[a]=b;return this},addHelpers:function(a){for(var b=a.keys();b.hasNext();){var c=b.next();this.addHelper(c,null!=l[c]?a.getReserved(c):a.h[c])}return this},addPartial:function(a,b,c){b=$.TFromEngine(b,c);c=this.partials;
null!=l[a]?c.setReserved(a,b):c.h[a]=b;return this},addPartialString:function(a,b,c){b=$.TFromString(b,c);c=this.partials;null!=l[a]?c.setReserved(a,b):c.h[a]=b;return this},addPartials:function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();this.addPartial(d,null!=l[d]?a.getReserved(d):a.h[d],b)}return this},addPartialStrings:function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();this.addPartialString(d,null!=l[d]?a.getReserved(d):a.h[d],b)}return this},executeResult:function(a){var b=
this;3==this.layoutSource[1]&&(this.layoutSource=J.inferLayoutFromContext(a));3==this.templateSource[1]&&(this.templateSource=J.inferViewPathFromContext(a));null==this.viewFolder&&(this.viewFolder=J.getViewFolder(a));var c;try{c=a.httpContext.injector.getValueForType("ufront.view.UFViewEngine",null)}catch(d){return z.lastException=d,d instanceof k&&(d=d.val),u.asSurpriseError(d,"Failed to find a UFViewEngine in ViewResult.executeResult(), please make sure that one is made available in your application's injector",
{fileName:"ViewResult.hx",lineNumber:456,className:"ufront.web.result.ViewResult",methodName:"executeResult"})}var e={},f=a.controller,f=f instanceof ab?f:null;null!=f&&D.set(e,"baseUri",f.baseUri);return v._tryMap(this.renderResult(c,e),function(c){c=$a.replaceVirtualLinks(a,c);b.writeResponse(c,a);b.finalOutputTrigger.trigger(c);return I.Noise})},renderResult:function(a,b){var c=this;if(3==this.layoutSource[1])return u.asSurpriseError(null,"No layout template source was set on the ViewResult",{fileName:"ViewResult.hx",
lineNumber:491,className:"ufront.web.result.ViewResult",methodName:"renderResult"});if(3==this.templateSource[1])return u.asSurpriseError(null,"No view template source was set on the ViewResult",{fileName:"ViewResult.hx",lineNumber:493,className:"ufront.web.result.ViewResult",methodName:"renderResult"});if(null==b){var d={};b=D.setObject(null!=d?d:{},{})}null!=this.viewFolder&&(this.templateSource=J.addViewFolderToPath(this.templateSource,this.viewFolder),this.layoutSource=J.addViewFolderToPath(this.layoutSource,
this.viewFolder));var d=J.loadTemplateFromSource(this.templateSource,a),e=J.loadTemplateFromSource(this.layoutSource,a),f=J.loadPartialTemplates([J.globalPartials,this.partials],a),l=v.ofMany([d,e,f]);return function(a){return l.map(function(b){return a(b[0],b[1],b[2])}).gather()}(function(a,d,e){try{var f=D.fromMany([b,J.globalValues,c.data]),g=J.getCombinedMap([J.globalHelpers,c.helpers]);J.addHelpersForPartials(da.sure(e),f,g);var l=da.sure(J.executeTemplate("view",a,f,g));if(0==d[1]&&null==d[2])return h.Success(l);
var m=da.sure(J.executeTemplate("layout",d,D.set(f,"viewContent",l),g));return h.Success(m)}catch(n){z.lastException=n;n instanceof k&&(n=n.val);if(q.__instanceof(n,A))return h.Failure(n);throw n;}})},writeResponse:function(a,b){b.httpContext.response.set_contentType("text/html");b.httpContext.response.write(a)},__class__:J});var W=function(a,b,c){J.call(this,a,b,c);W.startLoadingAnimations()};f["ufront.web.result.PartialViewResult"]=W;W.__name__=["ufront","web","result","PartialViewResult"];W.create=
function(a){var b={};return new W(D.setObject(null!=b?b:{},a))};W.getAttr=function(a,b){if(null!=a){var c=a.attributes.getNamedItem(b);if(null!=c)return c.value}return null};W.startLoadingAnimations=function(){for(var a=window.document.querySelectorAll("[data-uf-partial]"),b=0,c=a.length;b<c;){var d=b++,d=a.item(d);(d instanceof HTMLElement?d:null).classList.add("uf-partial-outgoing")}};W.__super__=J;W.prototype=O(J.prototype,{writeResponse:function(a,b){var c=b.httpContext.response;c.set_contentType("text/html");
var d=window.document.implementation.createHTMLDocument("");d.documentElement.innerHTML=a;if(W.getAttr(window.document.body,"data-uf-layout")==W.getAttr(d.body,"data-uf-layout")){window.document.title=d.title;for(var e=window.document.querySelectorAll("[data-uf-partial]"),f=0,h=e.length;f<h;){var k=f++,k=e.item(k),k=k instanceof HTMLElement?k:null,l=W.getAttr(k,"data-uf-partial"),l=[d.querySelector("[data-uf-partial="+l+"]")],m=n.parseInt(W.getAttr(k,"data-uf-transition-timeout"));null==m&&(m=W.transitionTimeout);
l[0].classList.add("uf-partial-incoming");Ea.replaceNode(k,l[0],m);window.setTimeout(function(a){return function(){a[0].classList.remove("uf-partial-incoming")}}(l),1)}window.scrollTo(0,0);Ea.reloadScripts(window.document);c.preventFlushContent()}else J.prototype.writeResponse.call(this,a,b)},__class__:W});var Ab=function(a,b){null==b&&(b=!1);r.throwIfNull(a,"url",{fileName:"RedirectResult.hx",lineNumber:38,className:"ufront.web.result.RedirectResult",methodName:"new"});this.url=a;this.permanentRedirect=
b};f["ufront.web.result.RedirectResult"]=Ab;Ab.__name__=["ufront","web","result","RedirectResult"];Ab.create=function(a){return new Ab(a,!1)};Ab.createPermanent=function(a){return new Ab(a,!0)};Ab.__super__=U;Ab.prototype=O(U.prototype,{url:null,permanentRedirect:null,executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"RedirectResult.hx",lineNumber:44,className:"ufront.web.result.RedirectResult",methodName:"executeResult"});a.httpContext.response.clearContent();a.httpContext.response.clearHeaders();
var b=U.transformUri(a,this.url);this.permanentRedirect?a.httpContext.response.permanentRedirect(b):a.httpContext.response.redirect(b);return u.success()},__class__:Ab});var wa=f["ufront.web.result.ResultWrapRequired"]={__ename__:["ufront","web","result","ResultWrapRequired"],__constructs__:["WRFuture","WROutcome","WRResultOrError"]};wa.WRFuture=["WRFuture",0];wa.WRFuture.toString=s;wa.WRFuture.__enum__=wa;wa.WROutcome=["WROutcome",1];wa.WROutcome.toString=s;wa.WROutcome.__enum__=wa;wa.WRResultOrError=
["WRResultOrError",2];wa.WRResultOrError.toString=s;wa.WRResultOrError.__enum__=wa;var $=f["ufront.web.result.TemplateSource"]={__ename__:["ufront","web","result","TemplateSource"],__constructs__:["TFromString","TFromEngine","TNone","TUnknown"]};$.TFromString=function(a,b){var c=["TFromString",0,a,b];c.__enum__=$;c.toString=s;return c};$.TFromEngine=function(a,b){var c=["TFromEngine",1,a,b];c.__enum__=$;c.toString=s;return c};$.TNone=["TNone",2];$.TNone.toString=s;$.TNone.__enum__=$;$.TUnknown=["TUnknown",
3];$.TUnknown.toString=s;$.TUnknown.__enum__=$;var Bb=function(){};f["ufront.web.session.UFHttpSession"]=Bb;Bb.__name__=["ufront","web","session","UFHttpSession"];Bb.prototype={get_id:null,id:null,init:null,clear:null,get:null,set:null,exists:null,remove:null,isActive:null,isReady:null,close:null,setExpiry:null,commit:null,triggerCommit:null,regenerateID:null,__class__:Bb,__properties__:{get_id:"get_id"}};var La=function(){this.expiryFlag=this.regenerateFlag=this.closeFlag=this.commitFlag=this.started=
!1;this.oldSessionID=this.sessionID=this.sessionData=null};f["ufront.web.session.CacheSession"]=La;La.__name__=["ufront","web","session","CacheSession"];La.__interfaces__=[Bb];La.isValidID=function(a){return null!=a?Aa.isValid(a):!1};La.prototype={started:null,commitFlag:null,closeFlag:null,regenerateFlag:null,expiryFlag:null,sessionID:null,oldSessionID:null,sessionData:null,cache:null,context:null,sessionName:null,expiry:null,savePath:null,injectConfig:function(a,b){this.context=a;this.sessionName=
a.injector.hasMappingForType("String","sessionName")?a.injector.getValueForType("String","sessionName"):La.defaultSessionName;this.expiry=a.injector.hasMappingForType("Int","sessionExpiry")?a.injector.getValueForType("Int","sessionExpiry"):La.defaultExpiry;this.savePath=a.injector.hasMappingForType("String","sessionSavePath")?a.injector.getValueForType("String","sessionSavePath"):La.defaultSavePath;if(null==b)throw new k(r.internalServerError("No UFCacheConnection was injected into CacheSession",
null,{fileName:"CacheSession.hx",lineNumber:166,className:"ufront.web.session.CacheSession",methodName:"injectConfig"}));this.cache=b.getNamespace(this.savePath)},setExpiry:function(a){this.expiry=a},init:function(){var a=this,b=function(){a.regenerateID();a.sessionData=new B;a.started=!0;return h.Success(I.Noise)};if(this.started)return new x(new y(h.Success(I.Noise)));this.get_id();var c;null!=this.sessionID?(c=this.sessionID,c=!(null!=c&&Aa.isValid(c))):c=!0;return c?u.asSurprise(b()):this.cache.get(this.sessionID).map(function(c){switch(c[1]){case 0:var e=
c[2];a.sessionData=e instanceof B?e:null;if(null!=a.sessionData)return a.started=!0,h.Success(I.Noise);c=a.context;e="Failed to unserialize session "+a.sessionID+" (Was "+n.string(t["typeof"](e))+", expected StringMap), starting a fresh session instead.";c.messages.push({msg:e,pos:{fileName:"CacheSession.hx",lineNumber:214,className:"ufront.web.session.CacheSession",methodName:"init"},type:M.MWarning});return b();case 1:switch(c[2][1]){case 0:return a.context.messages.push({msg:"Client requested session "+
a.sessionID+", but it did not exist in the cache. Starting a fresh session instead.",pos:{fileName:"CacheSession.hx",lineNumber:218,className:"ufront.web.session.CacheSession",methodName:"init"},type:M.MWarning}),b();case 2:return a.context.messages.push({msg:"Failed to read cache for session "+a.sessionID+": "+c[2][2]+". Starting a fresh session instead.",pos:{fileName:"CacheSession.hx",lineNumber:221,className:"ufront.web.session.CacheSession",methodName:"init"},type:M.MWarning}),b();default:return h.Failure(A.withData(null,
"Failed to initialize session",c[2],{fileName:"CacheSession.hx",lineNumber:224,className:"ufront.web.session.CacheSession",methodName:"init"}))}}}).gather()},commit:function(){var a=this,b=this.sessionID,c=null==this.sessionID||this.regenerateFlag?this.findNewSessionID():new x(new y(h.Success(this.sessionID)));return v._tryFailingFlatMap(v._tryMap(v._tryFailingFlatMap(v._tryFailingFlatMap(v._tryMap(c,function(b){a.sessionID=b;return I.Noise}),function(c){return a.regenerateFlag?(a.commitFlag=!0,null!=
b?u.changeFailureToError(a.cache.remove(b),null,{fileName:"CacheSession.hx",lineNumber:255,className:"ufront.web.session.CacheSession",methodName:"commit"}):u.success()):new x(new y(h.Success(I.Noise)))}),function(b){if(a.commitFlag&&null!=a.sessionData){b=a.cache;var c=a.sessionID,f=new x(new y(a.sessionData));return u.changeFailureToError(u.changeSuccessTo(b.set(c,f),I.Noise),null,{fileName:"CacheSession.hx",lineNumber:262,className:"ufront.web.session.CacheSession",methodName:"commit"})}return new x(new y(h.Success(I.Noise)))}),
function(b){a.expiryFlag&&!a.closeFlag&&a.setCookie(a.sessionID,a.expiry);return I.Noise}),function(b){return a.closeFlag?(a.setCookie("",-1),u.changeFailureToError(a.cache.remove(a.sessionID),null,{fileName:"CacheSession.hx",lineNumber:275,className:"ufront.web.session.CacheSession",methodName:"commit"})):new x(new y(h.Success(I.Noise)))})},findNewSessionID:function(){var a=this,b=Aa.create();return this.cache.get(b).flatMap(function(c){switch(c[1]){case 0:return a.findNewSessionID();case 1:if(0==
c[2][1]){a.setCookie(b,a.expiry);c=a.cache;var d=new x(new y(new B));return c.set(b,d).map(function(a){switch(a[1]){case 0:return h.Success(b);case 1:return h.Failure(A.withData(null,"Failed to reserve session ID "+b,a[2],{fileName:"CacheSession.hx",lineNumber:294,className:"ufront.web.session.CacheSession",methodName:"findNewSessionID"}))}}).gather()}return new x(new y(h.Failure(A.withData(null,"Failed to find new session ID, cache error",c[2],{fileName:"CacheSession.hx",lineNumber:297,className:"ufront.web.session.CacheSession",
methodName:"findNewSessionID"}))))}}).gather()},setCookie:function(a,b){var c;0>=b?c=null:(c=(new Date).getTime()+1E3*b,c=new Date(c));c=new ma(this.sessionName,a,c,null,"/",!1);0>b&&c.expireNow();this.context.response.setCookie(c)},get:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:320,className:"ufront.web.session.CacheSession",methodName:"get"},{fileName:"CacheSession.hx",lineNumber:428,
className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=this.sessionData;return null!=l[a]?b.getReserved(a):b.h[a]}return null},set:function(a,b){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:332,className:"ufront.web.session.CacheSession",methodName:"set"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));
if(null!=this.sessionData){var c=this.sessionData;null!=l[a]?c.setReserved(a,b):c.h[a]=b;this.commitFlag=!0}},exists:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:345,className:"ufront.web.session.CacheSession",methodName:"exists"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=this.sessionData;
return null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a)}return!1},remove:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:355,className:"ufront.web.session.CacheSession",methodName:"remove"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.remove(a),this.commitFlag=!0)},clear:function(){null==
this.sessionData||!this.started&&null==this.get_id()||(this.sessionData=new B,this.commitFlag=!0)},triggerCommit:function(){this.commitFlag=!0},regenerateID:function(){this.regenerateFlag=!0},isActive:function(){return this.started?!0:null!=this.get_id()},isReady:function(){return this.started},get_id:function(){null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_cookies(),this.sessionName));null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_params(),this.sessionName));
return this.sessionID},close:function(){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:411,className:"ufront.web.session.CacheSession",methodName:"close"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));this.sessionData=null;this.closeFlag=!0},toString:function(){return null!=this.sessionData?this.sessionData.toString():"{}"},generateSessionID:function(){return Aa.create()},
checkStarted:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",a,{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));},__class__:La,__properties__:{get_id:"get_id"}};var za=function(){this.expiryFlag=this.regenerateFlag=this.closeFlag=this.commitFlag=this.started=!1;this.sessionID=this.sessionData=null};f["ufront.web.session.FileSession"]=za;za.__name__=["ufront","web",
"session","FileSession"];za.__interfaces__=[Bb];za.testValidId=function(a){return null!=a?Aa.isValid(a):!1};za.notImplemented=function(a){return u.asSurpriseError("FileSession is not implemented on this platform",null,a)};za.prototype={started:null,commitFlag:null,closeFlag:null,regenerateFlag:null,expiryFlag:null,sessionID:null,sessionData:null,context:null,injectConfig:function(a){this.sessionName=a.injector.hasMappingForType("String","sessionName")?a.injector.getValueForType("String","sessionName"):
za.defaultSessionName;this.expiry=a.injector.hasMappingForType("Int","sessionExpiry")?a.injector.getValueForType("Int","sessionExpiry"):za.defaultExpiry;this.savePath=a.injector.hasMappingForType("String","sessionSavePath")?a.injector.getValueForType("String","sessionSavePath"):za.defaultSavePath;this.savePath=R.addTrailingSlash(this.savePath);L.startsWith(this.savePath,"/")||(this.savePath=a.get_contentDirectory()+this.savePath)},sessionName:null,expiry:null,savePath:null,setExpiry:function(a){this.expiry=
a},init:function(){var a=this;if(this.started)return u.success();this.get_id();this.sessionData=new B;return v._tryMap(v._tryMap(v._tryFailingFlatMap(this.doCreateSessionDirectory(),Y(this,this.doReadSessionFile)),Y(this,this.doUnserializeSessionData)),function(b){a.started=!0;return I.Noise})},doCreateSessionDirectory:function(){R.removeTrailingSlashes(this.savePath);return u.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:219,className:"ufront.web.session.FileSession",
methodName:"doCreateSessionDirectory"})},doReadSessionFile:function(a){a=this.sessionID;if(null!=a&&Aa.isValid(a))return u.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:239,className:"ufront.web.session.FileSession",methodName:"doReadSessionFile"});this.context.messages.push({msg:"Session ID "+this.sessionID+" was invalid, resetting session.",pos:{fileName:"FileSession.hx",lineNumber:243,className:"ufront.web.session.FileSession",methodName:"doReadSessionFile"},
type:M.MWarning});this.sessionID=null;return u.asGoodSurprise(null)},doUnserializeSessionData:function(a){if(null!=a)try{this.sessionData=q.__cast(ba.run(a),B)}catch(b){z.lastException=b,b instanceof k&&(b=b.val),this.context.messages.push({msg:"Failed to unserialize session data: "+n.string(b),pos:{fileName:"FileSession.hx",lineNumber:256,className:"ufront.web.session.FileSession",methodName:"doUnserializeSessionData"},type:M.MWarning})}return I.Noise},setCookie:function(a,b){var c;0>=b?c=null:(c=
(new Date).getTime()+1E3*b,c=new Date(c));c=new ma(this.sessionName,a,c,null,"/",!1);0>b&&c.expireNow();this.context.response.setCookie(c)},commit:function(){null==this.sessionID&&null!=this.sessionData&&this.regenerateID();return v._tryFailingFlatMap(v._tryFailingFlatMap(v._tryFailingFlatMap(this.doRegenerateID(),Y(this,this.doSaveSessionContent)),Y(this,this.doSetExpiry)),Y(this,this.doCloseSession))},doRegenerateID:function(){return this.regenerateFlag?u.asSurpriseError("FileSession is not implemented on this platform",
null,{fileName:"FileSession.hx",lineNumber:334,className:"ufront.web.session.FileSession",methodName:"doRegenerateID"}):u.success()},doSaveSessionContent:function(a){if(this.commitFlag&&null!=this.sessionData){try{aa.run(this.sessionData)}catch(b){return z.lastException=b,b instanceof k&&(b=b.val),b.asSurpriseError("Failed to serialize session content")}return u.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:358,className:"ufront.web.session.FileSession",
methodName:"doSaveSessionContent"})}return u.success()},doSetExpiry:function(a){this.expiryFlag&&this.setCookie(this.sessionID,this.expiry);return u.success()},doCloseSession:function(a){return this.closeFlag?(this.setCookie("",-1),u.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:383,className:"ufront.web.session.FileSession",methodName:"doCloseSession"})):u.success()},get:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",
null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=this.sessionData;return null!=l[a]?b.getReserved(a):b.h[a]}return null},set:function(a,b){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));if(null!=this.sessionData){var c=
this.sessionData;null!=l[a]?c.setReserved(a,b):c.h[a]=b;this.commitFlag=!0}},exists:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=this.sessionData;return null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a)}return!1},remove:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",
null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.remove(a),this.commitFlag=!0)},clear:function(){null==this.sessionData||!this.started&&null==this.get_id()||(this.sessionData=new B,this.commitFlag=!0)},triggerCommit:function(){this.commitFlag=!0},regenerateID:function(){this.regenerateFlag=!0},isActive:function(){return this.started?!0:null!=this.get_id()},isReady:function(){return this.started},
get_id:function(){null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_cookies(),this.sessionName));null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_params(),this.sessionName));return this.sessionID},close:function(){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));this.sessionData=null;
this.closeFlag=!0},toString:function(){return null!=this.sessionData?this.sessionData.toString():"{}"},getSessionFilePath:function(a){return""+this.savePath+a+".sess"},generateSessionID:function(){return Aa.create()},checkStarted:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));},__class__:za,__properties__:{get_id:"get_id"}};
var Kb=function(){};f["ufront.web.session.InlineSessionMiddleware"]=Kb;Kb.__name__=["ufront","web","session","InlineSessionMiddleware"];Kb.__interfaces__=[gc];Kb.prototype={requestIn:function(a){return Kb.alwaysStart||null!=a.session.get_id()&&""!=a.session.get_id()?a.session.init():u.success()},responseOut:function(a){return null!=a.session&&a.session.isReady()?a.session.commit():u.success()},__class__:Kb};var rd=function(){this.map=new B;this.id=Aa.create()};f["ufront.web.session.TestSession"]=
rd;rd.__name__=["ufront","web","session","TestSession"];rd.__interfaces__=[Bb];rd.prototype={id:null,map:null,setExpiry:function(a){},init:function(){return new x(new y(h.Success(I.Noise)))},commit:function(){return new x(new y(h.Success(I.Noise)))},triggerCommit:function(){},isActive:function(){return!0},isReady:function(){return!0},get:function(a){var b=this.map;return null!=l[a]?b.getReserved(a):b.h[a]},set:function(a,b){var c=this.map;null!=l[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){var b=
this.map;return null!=l[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},remove:function(a){this.map.remove(a)},clear:function(){for(var a=this.map.keys();a.hasNext();){var b=a.next();this.map.remove(b)}},regenerateID:function(){},close:function(){},get_id:function(){return this.id},__class__:rd,__properties__:{get_id:"get_id"}};var jc=function(){};f["ufront.web.session.VoidSession"]=jc;jc.__name__=["ufront","web","session","VoidSession"];jc.__interfaces__=[Bb];jc.prototype={id:null,setExpiry:function(a){},
init:function(){return new x(new y(h.Success(I.Noise)))},commit:function(){return new x(new y(h.Success(I.Noise)))},triggerCommit:function(){},isActive:function(){return!1},isReady:function(){return!1},get:function(a){return null},set:function(a,b){},exists:function(a){return!1},remove:function(a){},clear:function(){},regenerateID:function(){},close:function(){},get_id:function(){return null},__class__:jc,__properties__:{get_id:"get_id"}};var Za=function(a,b,c,d){this.postName=a;this.originalFileName=
R.withoutDirectory(b);this.size=c;this.contentType=d};f["ufront.web.upload.BaseUpload"]=Za;Za.__name__=["ufront","web","upload","BaseUpload"];Za.prototype={postName:null,originalFileName:null,size:null,contentType:null,attachedUpload:null,hxSerialize:function(a){var b=a instanceof Ja?a:null,c;c=null!=b?0==b.direction[1]?!0:!1:!1;a.serialize(c);if(c){if(!1==q.__instanceof(this,Nb))throw new k("BaseUpload can only be serialized if the sub-class matches the UFFileUpload interface");c=this.postName+"_"+
Aa.create();C.add(b.uploads,c,this);a.serialize(c)}a.serialize(this.postName);a.serialize(this.originalFileName);a.serialize(this.size);a.serialize(this.contentType)},hxUnserialize:function(a){var b=a.unserialize(),c=a instanceof Ya?a:null;if(b){if(null==c)throw new k("Unable to Unserialize upload. It was serialized with RemotingSerializer, it must be unserialized with RemotingUnserializer");var b=a.unserialize(),d=c.uploads;if(null!=l[b]?d.existsReserved(b):d.h.hasOwnProperty(b))this.attachedUpload=
C.get(c.uploads,b);else throw new k("Unable to find upload attached as "+b);}this.postName=a.unserialize();this.originalFileName=a.unserialize();this.size=a.unserialize();this.contentType=a.unserialize()},__class__:Za};var Nb=function(){};f["ufront.web.upload.UFFileUpload"]=Nb;Nb.__name__=["ufront","web","upload","UFFileUpload"];Nb.prototype={postName:null,originalFileName:null,size:null,contentType:null,getBytes:null,getString:null,writeToFile:null,process:null,__class__:Nb};var Mb=function(a,b){Za.call(this,
a,b.name,b.size,b.type);this.file=b};f["ufront.web.upload.BrowserFileUpload"]=Mb;Mb.__name__=["ufront","web","upload","BrowserFileUpload"];Mb.__interfaces__=[Nb];Mb.__super__=Za;Mb.prototype=O(Za.prototype,{file:null,getBytes:function(){if(null!=this.attachedUpload)return this.attachedUpload.getBytes();var a=new Q,b=new FileReader;b.onload=function(){var c=xa.ofString(b.result);a.trigger(h.Success(c))};b.onabort=function(b){b=h.Failure(r.internalServerError("Error during BrowserFileUpload.getBytes(), readAsBinaryString() was aborted",
null,{fileName:"BrowserFileUpload.hx",lineNumber:45,className:"ufront.web.upload.BrowserFileUpload",methodName:"getBytes"}));a.trigger(b)};b.onerror=function(b){b=h.Failure(r.wrap(b,"Error during BrowserFileUpload.getBytes(), readAsBinaryString() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:46,className:"ufront.web.upload.BrowserFileUpload",methodName:"getBytes"}));a.trigger(b)};b.readAsBinaryString(this.file);return a},getString:function(a){null==a&&(a="UTF-8");if(null!=this.attachedUpload)return this.attachedUpload.getString(a);
var b=new Q,c=new FileReader;c.onload=function(){b.trigger(h.Success(c.result))};c.onabort=function(a){a=h.Failure(r.internalServerError("Error during BrowserFileUpload.getString(), readAsText() was aborted",null,{fileName:"BrowserFileUpload.hx",lineNumber:69,className:"ufront.web.upload.BrowserFileUpload",methodName:"getString"}));b.trigger(a)};c.onerror=function(a){a=h.Failure(r.wrap(a,"Error during BrowserFileUpload.getString(), readAsText() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:70,
className:"ufront.web.upload.BrowserFileUpload",methodName:"getString"}));b.trigger(a)};c.readAsText(this.file,a);return b},writeToFile:function(a){if(null!=this.attachedUpload)return this.attachedUpload.writeToFile(a);throw new k(r.notImplemented({fileName:"BrowserFileUpload.hx",lineNumber:85,className:"ufront.web.upload.BrowserFileUpload",methodName:"writeToFile"}));},process:function(a,b){var c=this;if(null!=this.attachedUpload)return this.attachedUpload.process(a,b);null==b&&(b=16384);var d=new Q,
e=0,f=null,f=function(){var l=!1,m,n=c.file.slice(e,e+b),p=new FileReader;p.onload=function(){var b=xa.ofString(p.result);0==b.length&&(l=!0);try{m=a(b,e,b.length)}catch(c){z.lastException=c,c instanceof k&&(c=c.val),m=new x(new y(h.Failure(r.wrap(c,"Error during TmpFileUpload.process",{fileName:"BrowserFileUpload.hx",lineNumber:125,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"}))))}};p.onabort=function(a){m=new x(new y(h.Failure(r.internalServerError("Error during BrowserFileUpload.process(), readAsBinaryString() was aborted",
null,{fileName:"BrowserFileUpload.hx",lineNumber:128,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"}))))};p.onerror=function(a){m=new x(new y(h.Failure(r.wrap(a,"Error during BrowserFileUpload.process(), readAsBinaryString() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:129,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"}))))};p.readAsBinaryString(n);m.handle(function(a){switch(a[1]){case 0:!1==l?(e+=b,f()):d.trigger(h.Success(I.Noise));break;
case 1:d.trigger(h.Failure(a[2]))}})};f();return d},__class__:Mb});var Mc=function(){};f["ufront.web.upload.BrowserFileUploadMiddleware"]=Mc;Mc.__name__=["ufront","web","upload","BrowserFileUploadMiddleware"];Mc.__interfaces__=[fc];Mc.prototype={requestIn:function(a){if(a.request.isMultipart())for(var b=p.currentUploads,c=0,d=F.fields(b);c<d.length;){var e=d[c];++c;for(var f=F.field(b,e),h=0,k=f.length;h<k;){var l=h++,l=new Mb(e,f[l]);C.add(a.request.get_files(),e,l)}}return u.success()},__class__:Mc};
var sc=function(a,b,c,d,e){Za.call(this,b,R.withoutDirectory(c),d,e);this.tmpFileName=a};f["ufront.web.upload.TmpFileUpload"]=sc;sc.__name__=["ufront","web","upload","TmpFileUpload"];sc.__interfaces__=[Nb];sc.__super__=Za;sc.prototype=O(Za.prototype,{tmpFileName:null,getBytes:function(){if(null!=this.attachedUpload)return this.attachedUpload.getBytes();throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:51,className:"ufront.web.upload.TmpFileUpload",methodName:"getBytes"}));},getString:function(a){null==
a&&(a="UTF-8");if(null!=this.attachedUpload)return this.attachedUpload.getString(a);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:69,className:"ufront.web.upload.TmpFileUpload",methodName:"getString"}));},writeToFile:function(a){if(null!=this.attachedUpload)return this.attachedUpload.writeToFile(a);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:89,className:"ufront.web.upload.TmpFileUpload",methodName:"writeToFile"}));},process:function(a,b){if(null!=this.attachedUpload)return this.attachedUpload.process(a,
b);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:154,className:"ufront.web.upload.TmpFileUpload",methodName:"process"}));},deleteTemporaryFile:function(){throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:171,className:"ufront.web.upload.TmpFileUpload",methodName:"deleteTemporaryFile"}));},__class__:sc});var lc=function(){};f["ufront.web.upload.TmpFileUploadMiddleware"]=lc;lc.__name__=["ufront","web","upload","TmpFileUploadMiddleware"];lc.__interfaces__=[gc];
lc.prototype={requestIn:function(a){if("post"==a.request.get_httpMethod().toLowerCase()&&a.request.isMultipart())throw new k(r.notImplemented({fileName:"TmpFileUploadMiddleware.hx",lineNumber:108,className:"ufront.web.upload.TmpFileUploadMiddleware",methodName:"requestIn"}));return u.success()},responseOut:function(a){if("post"==a.request.get_httpMethod().toLowerCase()&&a.request.isMultipart())for(var b=fa(C)(a.request.get_files());b.hasNext();){var c=b.next(),c=c instanceof sc?c:null;null!=c&&(c=
c.deleteTemporaryFile(),1==c[1]&&a.messages.push({msg:c[2],pos:{fileName:"TmpFileUploadMiddleware.hx",lineNumber:125,className:"ufront.web.upload.TmpFileUploadMiddleware",methodName:"responseOut"},type:M.MError}))}return u.success()},__class__:lc};var Ha=function(){this.segments=[];this.query=[];this.fragment=null};f["ufront.web.url.PartialUrl"]=Ha;Ha.__name__=["ufront","web","url","PartialUrl"];Ha.parse=function(a){var b=new Ha;Ha.feed(b,a);return b};Ha.feed=function(a,b){var c=b.split("#");1<c.length&&
(a.fragment=c[1]);c=c[0].split("?");if(1<c.length)for(var d=c[1].split("&"),e=0;e<d.length;){var f=d[e];++e;f=f.split("=");a.query.push({name:f[0],value:f[1],encoded:!0})}c=c[0].split("/");""==c[0]&&c.shift();1==c.length&&""==c[0]&&c.pop();a.segments=c};Ha.prototype={segments:null,query:null,fragment:null,queryString:function(){for(var a=[],b=0,c=this.query;b<c.length;){var d=c[b];++b;var e;e=d.encoded?d.value:encodeURIComponent(d.value);a.push(d.name+"="+e)}return a.join("&")},toString:function(){var a=
"/"+this.segments.join("/"),b=this.queryString();0<b.length&&(a+="?"+b);null!=this.fragment&&(a+="#"+this.fragment);return a},__class__:Ha};var mb=function(a){null==a&&(a=!1);Ha.call(this);this.isPhysical=a};f["ufront.web.url.VirtualUrl"]=mb;mb.__name__=["ufront","web","url","VirtualUrl"];mb.parse=function(a,b){null==b&&(b=!1);var c=new mb(b);mb.feed(c,a);return c};mb.feed=function(a,b){Ha.feed(a,b);"~"==a.segments[0]&&(a.segments.shift(),1==a.segments.length&&""==a.segments[0]&&a.segments.pop(),
a.isPhysical=!0)};mb.__super__=Ha;mb.prototype=O(Ha.prototype,{isPhysical:null,__class__:mb});var Ob=function(){};f["ufront.web.url.filter.UFUrlFilter"]=Ob;Ob.__name__=["ufront","web","url","filter","UFUrlFilter"];Ob.prototype={filterIn:null,filterOut:null,__class__:Ob};var dc=function(a){L.startsWith(a,"/")&&(a=m.substr(a,1,a.length));L.endsWith(a,"/")&&(a=m.substr(a,0,a.length-1));this.directory=a;this.segments=""!=a?a.split("/"):[]};f["ufront.web.url.filter.DirectoryUrlFilter"]=dc;dc.__name__=
["ufront","web","url","filter","DirectoryUrlFilter"];dc.__interfaces__=[Ob];dc.prototype={directory:null,segments:null,filterIn:function(a){for(var b=0;0<a.segments.length&&a.segments[0]==this.segments[b++];)a.segments.shift()},filterOut:function(a){a.segments=this.segments.concat(a.segments)},__class__:dc};var ec=function(a,b){null==b&&(b=!0);if(null==a)throw new k(r.internalServerError("Target not implemented, always pass a value for frontScript.",null,{fileName:"PathInfoUrlFilter.hx",lineNumber:31,
className:"ufront.web.url.filter.PathInfoUrlFilter",methodName:"new"}));this.frontScript=a;this.useCleanRoot=b};f["ufront.web.url.filter.PathInfoUrlFilter"]=ec;ec.__name__=["ufront","web","url","filter","PathInfoUrlFilter"];ec.__interfaces__=[Ob];ec.prototype={frontScript:null,useCleanRoot:null,filterIn:function(a){a.segments[0]==this.frontScript&&a.segments.shift()},filterOut:function(a){a.isPhysical||0==a.segments.length&&this.useCleanRoot||a.segments.unshift(this.frontScript)},__class__:ec};var sd=
function(a,b,c){null==c&&(c=!0);null==a&&(a="q");if(null==b)throw new k(r.internalServerError("Target not implemented, always pass a value for frontScript",null,{fileName:"QueryStringUrlFilter.hx",lineNumber:35,className:"ufront.web.url.filter.QueryStringUrlFilter",methodName:"new"}));this.frontScript=b;this.paramName=a;this.useCleanRoot=c};f["ufront.web.url.filter.QueryStringUrlFilter"]=sd;sd.__name__=["ufront","web","url","filter","QueryStringUrlFilter"];sd.__interfaces__=[Ob];sd.prototype={frontScript:null,
paramName:null,useCleanRoot:null,filterIn:function(a){var b=this;if(a.segments[0]==this.frontScript){var c=Ca.find(a.query,function(a){return a.name==b.paramName});null!=c&&(c.encoded&&decodeURIComponent(c.value.split("+").join(" ")),a.segments=Ha.parse(c.value).segments,m.remove(a.query,c))}},filterOut:function(a){if(!(a.isPhysical||0==a.segments.length&&this.useCleanRoot)){var b="/"+a.segments.join("/");a.segments=[this.frontScript];a.query.push({name:this.paramName,value:b,encoded:!0})}},__class__:sd};
var Vd=0;f.Math=Math;String.prototype.__class__=f.String=String;String.__name__=["String"];f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var Xd=f.Int={__name__:["Int"]},Wd=f.Dynamic={__name__:["Dynamic"]},Rd=f.Float=Number;Rd.__name__=["Float"];var Qd=f.Bool=Boolean;Qd.__ename__=["Bool"];var Fd=f.Class={__name__:["Class"]},Gd={},l={},Yc=Ed.ArrayBuffer||Oa;null==Yc.prototype.slice&&(Yc.prototype.slice=Oa.sliceImpl);var wd=Ed.Uint8Array||cb._new;
ja.__meta__={obj:{classLists:[["null,true,ufront.web.Controller","controller.HomeController,ufront.app.DefaultUfrontController"],["null,true,ufront.api.UFApi","api.MailApi,api.TestApi"],["null,true,ufront.web.client.UFClientAction","actions.ConfidantInterface"],["null,true,ufront.web.Controller","controller.HomeController,ufront.app.DefaultUfrontController"],["null,true,ufront.api.UFApi","api.MailApi,api.TestApi"]]}};nb.__meta__={obj:{rtti:[["cnx","haxe.remoting.Connection",""]]}};Pb.__meta__={obj:{asyncApi:["api.AsyncMailApi"]},
fields:{doMail:{returnType:[3]}}};Ma.__meta__={obj:{rtti:[["cnx","haxe.remoting.AsyncConnection",""]]}};Qb.__meta__={obj:{rtti:[["injectApi","minject.Injector","",""]]}};Rb.__meta__={obj:{asyncApi:["api.AsyncTestApi"]},fields:{getJson:{returnType:[3]},getItem:{returnType:[3]}}};Sb.__meta__={obj:{rtti:[["injectApi","minject.Injector","",""]]}};ab.__meta__={obj:{rtti:[["injectContext","ufront.web.context.HttpContext","",""]]}};ia.__meta__={obj:{rtti:[["testApi","api.AsyncTestApi",""],["mailApi","api.MailApi",
""]]},fields:{main:{wrapResult:[3]},about:{wrapResult:[3]},graphic:{wrapResult:[3],template:["/home/about.html"]},joomla:{wrapResult:[3],template:["/home/about.html"]},books:{wrapResult:[3],template:["/home/about.html"]},web:{wrapResult:[3],template:["/home/about.html"]},interactive:{wrapResult:[3],template:["/home/about.html"]},contact:{wrapResult:[3]},portfolio:{wrapResult:[4]},returnPortfolioItem:{wrapResult:[4]},contactResult:{wrapResult:[4],template:["/home/contact.html"]}}};vc.__meta__={obj:{"interface":null}};
aa.USE_CACHE=!1;aa.USE_ENUM_INDEX=!1;aa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";X.splitter=new qa('(::[A-Za-z0-9_ ()&|!+=/><*."-]+::|\\$\\$([A-Za-z0-9_-]+)\\()',"");X.expr_splitter=new qa('(\\(|\\)|[ \r\n\t]*"[^"]*"[ \r\n\t]*|[!+=/><*.&|-]+)',"");X.expr_trim=new qa("^[ ]*([^ ]+)[ ]*$","");X.expr_int=new qa("^[0-9]+$","");X.expr_float=new qa("^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?$","");X.globals={};ba.DEFAULT_RESOLVER=new wc;ba.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
Ia.count=0;xc.__meta__={obj:{"interface":null}};yc.__meta__={obj:{"interface":null}};q.__toStr={}.toString;cb.BYTES_PER_ELEMENT=1;ha.CONTENT_TYPE="Content-type";ha.LOCATION="Location";ha.DEFAULT_CONTENT_TYPE="text/html";ha.DEFAULT_CHARSET="utf-8";ha.DEFAULT_STATUS=200;ha.MOVED_PERMANENTLY=301;ha.FOUND=302;ha.UNAUTHORIZED=401;ha.NOT_FOUND=404;ha.INTERNAL_SERVER_ERROR=500;Xb.__meta__={obj:{"interface":null}};ub.__meta__={obj:{"interface":null}};Yb.__meta__={obj:{"interface":null}};p.ignoreAnchors=!0;
N.depth=0;N.MAX_DEPTH=1E3;Eb.__meta__={obj:{"interface":null}};fb.__meta__={obj:{"interface":null}};Pa.inst=new Pa;$b.__meta__={obj:{"interface":null}};v.NULL=new x(new y(null));v.NOISE=new x(new y(I.Noise));v.NEVER=Pa.inst;E.NULL=new x(new y(h.Success(null)));E.NOISE=new x(new y(h.Success(I.Noise)));E.NEVER=v.NEVER.map(h.Success).gather();bc.__meta__={obj:{"interface":null}};Ld.__meta__={obj:{"interface":null}};Jc.__meta__={obj:{rtti:[["new","haxe.remoting.AsyncConnection","",""]]}};Ba._currentApps=
[];Ib.__meta__={obj:{"interface":null}};kb.__meta__={obj:{"interface":null}};Kc.__meta__={obj:{"interface":null}};fc.__meta__={obj:{"interface":null}};gc.__meta__={obj:{"interface":null}};hc.__meta__={obj:{"interface":null}};yb.__meta__={fields:{showMessage:{wrapResult:[7]}}};nc.__meta__={obj:{"interface":null}};fd.__meta__={obj:{"interface":null}};gd.__meta__={obj:{"interface":null}};Oc.__meta__={obj:{"interface":null}};Qc.__meta__={obj:{"interface":null}};Rc.__meta__={obj:{"interface":null}};Tc.__meta__=
{obj:{"interface":null}};Uc.__meta__={obj:{"interface":null}};Ga.__meta__={obj:{rtti:[["cacheConnection","ufront.cache.UFCacheConnection",""]]}};Ga.namespace="ufront.middleware.RequestCache";Ga.metaName="cacheRequest";Ga.contentTypesToCache="text/plain text/html text/xml text/css text/csv application/json application/javascript application/atom+xml application/rdf+xml application/rss+xml application/soap+xml application/xhtml+xml application/xml application/xml-dtd".split(" ");Wa.REMOVENL=new qa("[\n\r]",
"g");jb.TIMEOUT=10;Sa.cacheEnabledByDefault=!0;mc.__meta__={obj:{rtti:[["scriptDir","String","scriptDirectory"],["path","String","viewPath"]]}};ic.__meta__={obj:{rtti:[["viewPath","String","viewPath"]]}};na.all=[na.get_haxe()];ma.dayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");ma.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");oa.dataBrowser=[{subString:"Chrome",identity:"Chrome"},{subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{subString:"Apple",identity:"Safari",
versionSearch:"Version"},{subString:"Opera",versionSearch:"Version",identity:"Opera"},{subString:"iCab",identity:"iCab"},{subString:"KDE",identity:"Konqueror"},{subString:"Firefox",identity:"Firefox"},{subString:"Camino",identity:"Camino"},{subString:"Netscape",identity:"Netscape"},{subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];oa.dataOS=[{subString:"Win",identity:"Windows"},
{subString:"Mac",identity:"Mac"},{subString:"iPhone",identity:"iPhone/iPod"},{subString:"Linux",identity:"Linux"}];pc.__meta__={obj:{"interface":null}};va.extMap=function(a){a=new B;null!=l.jpg?a.setReserved("jpg","image/jpeg"):a.h.jpg="image/jpeg";null!=l.jpeg?a.setReserved("jpeg","image/jpeg"):a.h.jpeg="image/jpeg";null!=l.png?a.setReserved("png","image/png"):a.h.png="image/png";null!=l.gif?a.setReserved("gif","image/gif"):a.h.gif="image/gif";null!=l.svg?a.setReserved("svg","image/svg+xml"):a.h.svg=
"image/svg+xml";null!=l.tiff?a.setReserved("tiff","image/tiff"):a.h.tiff="image/tiff";null!=l.zip?a.setReserved("zip","application/zip"):a.h.zip="application/zip";null!=l.atom?a.setReserved("atom","application/atom+xml"):a.h.atom="application/atom+xml";null!=l.json?a.setReserved("json","application/json"):a.h.json="application/json";null!=l.js?a.setReserved("js","application/javascript"):a.h.js="application/javascript";null!=l.ogg?a.setReserved("ogg","application/ogg"):a.h.ogg="application/ogg";null!=
l.pdf?a.setReserved("pdf","application/pdf"):a.h.pdf="application/pdf";null!=l.ps?a.setReserved("ps","application/postscript"):a.h.ps="application/postscript";null!=l.rdf?a.setReserved("rdf","application/rdf"):a.h.rdf="application/rdf";null!=l.rss?a.setReserved("rss","application/rss"):a.h.rss="application/rss";null!=l.woff?a.setReserved("woff","application/woff"):a.h.woff="application/woff";null!=l.xml?a.setReserved("xml","application/xml"):a.h.xml="application/xml";null!=l.dtd?a.setReserved("dtd",
"application/xml-dtd"):a.h.dtd="application/xml-dtd";null!=l.gz?a.setReserved("gz","application/gzip"):a.h.gz="application/gzip";return a}(this);J.globalValues=function(a){a={};return D.setObject(null!=a?a:{},{})}(this);J.globalHelpers=new B;J.globalPartials=new B;W.transitionTimeout=0;Bb.__meta__={obj:{"interface":null}};La.__meta__={obj:{rtti:["injectConfig ufront.web.context.HttpContext   ufront.cache.UFCacheConnection  ".split(" ")]}};La.defaultSessionName="UfrontSessionID";La.defaultSavePath=
"sessions";La.defaultExpiry=0;za.__meta__={obj:{rtti:[["context","ufront.web.context.HttpContext",""],["injectConfig","ufront.web.context.HttpContext","",""]]}};za.defaultSessionName="UfrontSessionID";za.defaultSavePath="sessions/";za.defaultExpiry=0;Kb.alwaysStart=!1;Nb.__meta__={obj:{"interface":null}};lc.subDir="uf-upload-tmp";Ob.__meta__={obj:{"interface":null}};td.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?
window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
