(function(md,fd){function M(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function $(a){return a instanceof Array?function(){return n.iter(a)}:"function"==typeof a.iterator?X(a,a.iterator):a.iterator}function X(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=td++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var f={},w=function(){return t.__string_rec(this,"")},Yc=function(){};f.Client=Yc;Yc.__name__=["Client"];Yc.main=function(){(new xa({indexController:ja,defaultLayout:"layout.html",errorHandlers:[new sb]})).listen()};var nd=function(){};f.CompileTime=nd;nd.__name__=["CompileTime"];var da=function(){};f.CompileTimeClassList=da;da.__name__=["CompileTimeClassList"];da.get=function(a){null==da.lists&&da.initialise();var b=da.lists;return null!=
m[a]?b.getReserved(a):b.h[a]};da.getTyped=function(a,b){return da.get(a)};da.initialise=function(){da.lists=new B;var a=N.getType(da);if(null!=a.classLists)for(var b=0,a=a.classLists;b<a.length;){var c=a[b];++b;for(var d=c,c=d[0],e=new ea,g=0,d=d[1].split(",");g<d.length;){var A=d[g];++g;A=v.resolveClass(A);null!=A&&e.push(A)}g=da.lists;null!=m[c]?g.setReserved(c,e):g.h[c]=e}};var la=function(a,b){this.r=RegExp(a,b.split("u").join(""))};f.EReg=la;la.__name__=["EReg"];la.prototype={r:null,match:function(a){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new k("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new k("No string matched");var a=this.r.m.index+this.r.m[0].length;return n.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new k("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==
c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:n.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?n.substr(a,b,null):n.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=q.string(n.substr(a,c,null));break}var e=this.matchedPos(),d=d+q.string(n.substr(a,c,e.pos-c)),d=d+q.string(b(this));0==e.len?(d+=q.string(n.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;
if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=q.string(n.substr(a,c,null)));return d},__class__:la};var n=function(){};f.HxOverrides=n;n.__name__=["HxOverrides"];n.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),e=a.getMinutes(),g=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)+":"+(10>g?"0"+g:""+g)};n.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);
b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new k("Invalid date format : "+a);}};n.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};n.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};n.remove=function(a,b){var c=
a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};n.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ya=function(){};f.Lambda=ya;ya.__name__=["Lambda"];ya.has=function(a,b){for(var c=$(a)();c.hasNext();)if(c.next()==b)return!0;return!1};ya.exists=function(a,b){for(var c=$(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1};ya.filter=function(a,b){for(var c=new ea,d=$(a)();d.hasNext();){var e=d.next();
b(e)&&c.add(e)}return c};ya.count=function(a,b){var c=0;if(null==b)for(var d=$(a)();d.hasNext();)d.next(),++c;else for(d=$(a)();d.hasNext();){var e=d.next();b(e)&&++c}return c};ya.find=function(a,b){for(var c=$(a)();c.hasNext();){var d=c.next();if(b(d))return d}return null};var ea=function(){this.length=0};f.List=ea;ea.__name__=["List"];ea.prototype={h:null,q:null,length:null,add:function(a){a=new dc(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=a=new dc(a,
this.h);null==this.q&&(this.q=a);this.length++},first:function(){return null==this.h?null:this.h.item},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},isEmpty:function(){return null==this.h},iterator:function(){return new Dc(this.h)},__class__:ea};var dc=function(a,b){this.item=a;this.next=b};f["_List.ListNode"]=dc;dc.__name__=["_List","ListNode"];dc.prototype={item:null,next:null,__class__:dc};var Dc=function(a){this.head=
a};f["_List.ListIterator"]=Dc;Dc.__name__=["_List","ListIterator"];Dc.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:Dc};Math.__name__=["Math"];var F=function(){};f.Reflect=F;F.__name__=["Reflect"];F.field=function(a,b){try{return a[b]}catch(c){return y.lastException=c,null}};F.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():
a[b]};F.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=c};F.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};F.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};F.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__?!0:"function"==b?null!=(a.__name__||
a.__ename__):!1};F.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var q=function(){};f.Std=q;q.__name__=["Std"];q.string=function(a){return t.__string_rec(a,"")};q.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=n.cca(a,1)&&88!=n.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var Ka=function(){this.b=""};f.StringBuf=Ka;Ka.__name__=["StringBuf"];Ka.prototype={b:null,__class__:Ka};var L=function(){};f.StringTools=L;L.__name__=["StringTools"];
L.startsWith=function(a,b){return a.length>=b.length?n.substr(a,0,b.length)==b:!1};L.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?n.substr(a,d-c,c)==b:!1};L.isSpace=function(a,b){var c=n.cca(a,b);return 8<c&&14>c?!0:32==c};L.ltrim=function(a){for(var b=a.length,c=0;c<b&&L.isSpace(a,c);)++c;return 0<c?n.substr(a,c,b-c):a};L.rtrim=function(a){for(var b=a.length,c=0;c<b&&L.isSpace(a,b-c-1);)++c;return 0<c?n.substr(a,0,b-c):a};L.trim=function(a){return L.ltrim(L.rtrim(a))};L.replace=function(a,
b,c){return a.split(b).join(c)};var I=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};I.TNull=["TNull",0];I.TNull.toString=w;I.TNull.__enum__=I;I.TInt=["TInt",1];I.TInt.toString=w;I.TInt.__enum__=I;I.TFloat=["TFloat",2];I.TFloat.toString=w;I.TFloat.__enum__=I;I.TBool=["TBool",3];I.TBool.toString=w;I.TBool.__enum__=I;I.TObject=["TObject",4];I.TObject.toString=w;I.TObject.__enum__=I;I.TFunction=["TFunction",5];I.TFunction.toString=
w;I.TFunction.__enum__=I;I.TClass=function(a){a=["TClass",6,a];a.__enum__=I;a.toString=w;return a};I.TEnum=function(a){a=["TEnum",7,a];a.__enum__=I;a.toString=w;return a};I.TUnknown=["TUnknown",8];I.TUnknown.toString=w;I.TUnknown.__enum__=I;var v=function(){};f.Type=v;v.__name__=["Type"];v.getSuperClass=function(a){return a.__super__};v.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};v.getEnumName=function(a){return a.__ename__.join(".")};v.resolveClass=function(a){a=f[a];return null!=
a&&a.__name__?a:null};v.resolveEnum=function(a){a=f[a];return null!=a&&a.__ename__?a:null};v.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],
b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new k("Too many arguments");
}};v.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};v.createEnum=function(a,b,c){var d=F.field(a,b);if(null==d)throw new k("No such constructor "+b);if(F.isFunction(d)){if(null==c)throw new k("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new k("Constructor "+b+" does not need parameters");return d};v.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);n.remove(b,"__class__");n.remove(b,"__properties__");
return b};v["typeof"]=function(a){switch(typeof a){case "boolean":return I.TBool;case "function":return a.__name__||a.__ename__?I.TObject:I.TFunction;case "number":return Math.ceil(a)==a%2147483648?I.TInt:I.TFloat;case "object":if(null==a)return I.TNull;var b=a.__enum__;if(null!=b)return I.TEnum(b);a=t.getClass(a);return null!=a?I.TClass(a):I.TObject;case "string":return I.TClass(String);case "undefined":return I.TNull;default:return I.TUnknown}};var ec=function(){};f["ufront.web.client.UFClientAction"]=
ec;ec.__name__=["ufront","web","client","UFClientAction"];ec.prototype={execute:function(a,b){},toString:function(){return v.getClassName(t.getClass(this))},ufTrace:function(a,b){window.console.log(""+b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},ufLog:function(a,b){window.console.info(""+b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},ufWarn:function(a,b){window.console.warn(""+b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},ufError:function(a,b){window.console.error(""+
b.className+"."+b.methodName+"()["+b.lineNumber+"]:",a)},logToConsole:function(a,b,c){a(""+c.className+"."+c.methodName+"()["+c.lineNumber+"]:",b)},__class__:ec};var qa=function(){this.currentPath="";this.currentLevel=1};f["actions.ConfidantInterface"]=qa;qa.__name__=["actions","ConfidantInterface"];qa.__super__=ec;qa.prototype=M(ec.prototype,{currentLevel:null,currentPath:null,execute:function(a,b){window.ga("set",{page:p.currentPath,title:b.msg,location:window.document.location});window.ga("send",
"pageview");this.delay(X(this,this.listen),500)},listen:function(){var a=this;window.document.querySelector("#panel2").scrollTop=0;window.document.querySelector("#panel3").scrollTop=0;window.document.querySelector("#loader").className="";var b=p.currentPath.split("/"),b=b.splice(0,b.length-2);1>b.length&&(window.document.querySelector("#stage").className="");b=window.document.querySelector("#goback");null!=b&&b.addEventListener("click",function(){window.document.querySelector("#stage").className=
"reversed"});p.addEventListener(null,function(b,c){a.updateClasses()});this.updateClasses();this.supportsSVG()||(window.document.querySelector("#nav").className="no-svg");for(var b=window.document.querySelectorAll("a.summonLoader"),c=0;c<b.length;){var d=b[c];++c;d.addEventListener("click",function(){window.document.querySelector("#loader").className="show"})}},supportsSVG:function(){try{return t.__cast(window.document.createElementNS("http://www.w3.org/2000/svg","svg"),SVGSVGElement),!0}catch(a){return y.lastException=
a,!1}},updateClasses:function(){this.currentLevel=p.currentPath.split("/").length-1;for(var a=["#panel1","#panel2","#panel3"],b=["recessed0","recessed1","recessed2","recessed3"],b=b.slice(0,(0<=this.currentLevel?this.currentLevel+1:1)-1),c=0;c<a.length;){var d=a[c];++c;window.document.querySelector(d).className="";window.document.querySelector(d).className=b.join(" ");b.pop()}},delay:function(a,b){Db.delay(a,b)},__class__:qa});var Zc=function(a,b,c,d,e,g){this.html=a;this.title=b;this.prevLink=c;
this.nextLink=d;this.nextLinkLabel=g;this.prevLinkLabel=e};f["api.PortfolioItem"]=Zc;Zc.__name__=["api","PortfolioItem"];Zc.prototype={html:null,prevLink:null,nextLink:null,prevLinkLabel:null,nextLinkLabel:null,title:null,__class__:Zc};var Eb=function(){};f["ufront.api.UFApi"]=Eb;Eb.__name__=["ufront","api","UFApi"];Eb.prototype={cnx:null,className:null,_makeApiCall:function(a,b){null==this.className&&(this.className=v.getClassName(t.getClass(this)));var c=!1;try{var d=N.getFields(t.getClass(this)),
c=0!=(F.field(d,a).returnType[0]&1<<Y.ARTFuture[1])}catch(e){y.lastException=e}d=this.cnx.resolve(this.className).resolve(a).call(b);return c?h.sync(d):d},toString:function(){return v.getClassName(t.getClass(this))},__class__:Eb};var Fb=function(){};f["api.TestApi"]=Fb;Fb.__name__=["api","TestApi"];Fb.__super__=Eb;Fb.prototype=M(Eb.prototype,{getJson:function(a){null==this.className&&(this.className=v.getClassName(t.getClass(this)));var b=!1;try{var c=N.getFields(t.getClass(this)),b=0!=(F.field(c,
"getJson").returnType[0]&1<<Y.ARTFuture[1])}catch(d){y.lastException=d}a=this.cnx.resolve(this.className).resolve("getJson").call([a]);return b?h.sync(a):a},getItem:function(a){null==this.className&&(this.className=v.getClassName(t.getClass(this)));var b=!1;try{var c=N.getFields(t.getClass(this)),b=0!=(F.field(c,"getItem").returnType[0]&1<<Y.ARTFuture[1])}catch(d){y.lastException=d}a=this.cnx.resolve(this.className).resolve("getItem").call([a]);return b?h.sync(a):a},__class__:Fb});var Ta=function(){};
f["ufront.api.UFAsyncApi"]=Ta;Ta.__name__=["ufront","api","UFAsyncApi"];Ta.getAsyncApi=function(a){a=N.getType(a);return null!=a.asyncApi&&(a=a.asyncApi[0],null!=a)?v.resolveClass(a):null};Ta.prototype={className:null,cnx:null,_makeApiCall:function(a,b,c,d){var e=""+this.className+"."+a+"("+b.join(",")+")",g=new aa;a=this.cnx.resolve(this.className).resolve(a);a.setErrorHandler(Ga.wrapErrorHandler(function(a){a=l.Failure(r.remotingError(a,d));if(null!=g.list){var b=g.list;g.list=null;g.result=a;s.invoke(b,
a);s.clear(b)}}));a.call(b,function(a){var b;if(0!=(c&1<<Y.ARTVoid[1]))b=l.Success(J.Noise);else if(0!=(c&1<<Y.ARTOutcome[1]))switch(a[1]){case 0:b=l.Success(a[2]);break;case 1:b=l.Failure(r.remotingError(P.RApiFailure(e,a[2]),d))}else b=l.Success(a);null!=g.list&&(a=g.list,g.list=null,g.result=b,s.invoke(a,b),s.clear(a))});return g.future},__class__:Ta};var Gb=function(){};f["api.AsyncTestApi"]=Gb;Gb.__name__=["api","AsyncTestApi"];Gb._getClass=function(){return Fb};Gb.__super__=Ta;Gb.prototype=
M(Ta.prototype,{getJson:function(a){return this._makeApiCall("getJson",[a],3,{methodName:"getJson",lineNumber:0,customParams:null,fileName:"src/api/TestApi.hx",className:"AsyncTestApi"})},getItem:function(a){return this._makeApiCall("getItem",[a],3,{methodName:"getItem",lineNumber:0,customParams:null,fileName:"src/api/TestApi.hx",className:"AsyncTestApi"})},injectApi:function(a){this.className="api.TestApi"},__class__:Gb});var Ua=function(){};f["ufront.web.Controller"]=Ua;Ua.__name__=["ufront","web",
"Controller"];Ua.prototype={context:null,baseUri:null,injectContext:function(a){this.context=a;var b=a.actionContext.get_uriParts(),b=O.addTrailingSlash(b.join("/"));a=O.addTrailingSlash(a.getRequestUri());this.baseUri="~"+O.addTrailingSlash(n.substr(a,0,a.length-b.length))},execute:function(){return h.sync(l.Failure(r.internalServerError("Field execute() in ufront.web.Controller is an abstract method, please override it in "+this.toString()+" ",null,{fileName:"Controller.hx",lineNumber:219,className:"ufront.web.Controller",
methodName:"execute"})))},executeSubController:function(a){return this.context.injector._instantiate(a).execute()},toString:function(){return v.getClassName(t.getClass(this))},ufTrace:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:K.MTrace}):R.trace(""+q.string(a),b)},ufLog:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:K.MLog}):R.trace("Log: "+q.string(a),b)},ufWarn:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,
type:K.MWarning}):R.trace("Warning: "+q.string(a),b)},ufError:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:K.MError}):R.trace("Error: "+q.string(a),b)},wrapResult:function(a,b){if(null==a){var c=new Hb(!0);return h.sync(l.Success(c))}c=0!=(b&1<<ra.WRFuture[1])?this.wrapInFuture(a):a;c=0!=(b&1<<ra.WROutcome[1])?this.wrapInOutcome(c):c;return 0!=(b&1<<ra.WRResultOrError[1])?this.wrapResultOrError(c):c},wrapInFuture:function(a){return h.sync(a)},wrapInOutcome:function(a){return h.map(a,
function(a){return l.Success(a)})},wrapResultOrError:function(a){return h.map(a,function(a){switch(a[1]){case 0:return l.Success(Q.wrap(a[2]));case 1:return l.Failure(r.wrap(a[2],null,{fileName:"Controller.hx",lineNumber:308,className:"ufront.web.Controller",methodName:"wrapResultOrError"}))}})},setContextActionResultWhenFinished:function(a){var b=this;a(function(a){0==a[1]&&(b.context.actionContext.actionResult=a[2])})},__class__:Ua};var ja=function(){};f["controller.HomeController"]=ja;ja.__name__=
["controller","HomeController"];ja.__super__=Ua;ja.prototype=M(Ua.prototype,{testApi:null,main:function(){var a={},a=(new T(D.setObject(null!=a?a:{},{title:"Confidant Communications : Graphic Design, Website Design and Joomla Interactive Developer in Saskatoon, Saskatchewan",panel1classes:"recessed0",panel2classes:"",panel3classes:""}))).addPartialString("subcontent","",ma.get_haxe()),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Graphic Design, Website Design and Joomla Interactive Developer in Saskatoon, Saskatchewan"})},
getHostName:function(){return window.location.hostname},about:function(){var a={title:"Confidant Communications : About Us",portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:"http://"+this.getHostName()+"/"},b={},a=(new T(D.setObject(null!=b?b:{},a))).addPartialString("subcontent","",ma.get_haxe()),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : About Us"})},graphic:function(){var a={},a=(new T(D.setObject(null!=
a?a:{},{title:"Confidant Communications : Graphic Design",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/graphic.html"),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Graphic Design"})},joomla:function(){var a={},a=(new T(D.setObject(null!=a?a:{},{title:"Confidant Communications : Joomla! Development and Training in Saskatoon",
portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/joomla.html"),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Joomla! Development and Training in Saskatoon"})},books:function(){var a={},a=(new T(D.setObject(null!=a?a:{},{title:"Confidant Communications : Book Design, Book Marketing, and Book Publishing in Saskatoon",portfolioItem:"",
panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/books.html"),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Book Design, Book Marketing, and Book Publishing in Saskatoon"})},web:function(){var a={},a=(new T(D.setObject(null!=a?a:{},{title:"Confidant Communications : Web Design in Saskatoon",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",
panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/about/"}))).addPartial("subcontent","/about/web.html"),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Web Design in Saskatoon"})},interactive:function(){var a={},a=(new T(D.setObject(null!=a?a:{},{title:"Confidant Communications : Interactive Development in Saskatoon",portfolioItem:"",panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",
gobackLink:"/about/"}))).addPartial("subcontent","/about/interactive.html"),b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Interactive Development in Saskatoon"})},contact:function(){var a={title:"Confidant Communications : Contact Us",portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:"http://"+this.getHostName()+"/"},b={},a=(new T(D.setObject(null!=b?b:{},a))).addPartialString("subcontent","",ma.get_haxe()),
b=v.getClassName(qa);return fa.addClientAction(a,b,{msg:"Confidant Communications : Contact Us"})},portfolio:function(){var a=this;return h._tryMap(this.testApi.getJson("portfolio.json"),function(b){b=a.processJson(b);var c="http://"+a.getHostName()+"/",d={};b=(new T(D.setObject(null!=d?d:{},{title:"Confidant Communications : Portfolio of Graphic Design and Website Development Projects",content:b,portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:c}))).addPartialString("subcontent",
"",ma.get_haxe());c=v.getClassName(qa);return fa.addClientAction(b,c,{msg:"Confidant Communications : Portfolio of Graphic Design and Website Development Projects"})})},returnPortfolioItem:function(a){return h._tryMap(this.testApi.getItem(a),function(a){var c={},c=(new T(D.setObject(null!=c?c:{},{title:"Confidant Communications : Portfolio : "+a.title,content:[],portfolioItem:a,panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/portfolio/"}),
"portfolio.html")).addPartialString("subcontent","",ma.get_haxe()),d=v.getClassName(qa);return fa.addClientAction(c,d,{msg:"Confidant Communications : Portfolio : "+a.title})})},processJson:function(a){return JSON.parse(a).items},execute:function(){var a=this.context.actionContext.get_uriParts();this.context.request.get_params();var b=this.context.request.get_httpMethod();this.context.actionContext.controller=this;this.context.actionContext.action="execute";try{if("get"==b.toLowerCase()&&0==a.length){this.context.actionContext.action=
"main";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,0);var c=N.getFields(ja).main.wrapResult[0],d=this.wrapResult(this.main(),c);this.setContextActionResultWhenFinished(d);return d}if("get"==b.toLowerCase()&&1==a.length&&"about"==a[0]){this.context.actionContext.action="about";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var e=N.getFields(ja).about.wrapResult[0],g=this.wrapResult(this.about(),e);this.setContextActionResultWhenFinished(g);
return g}if("get"==b.toLowerCase()&&2==a.length&&"about"==a[0]&&"graphic-design"==a[1]){this.context.actionContext.action="graphic";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var A=N.getFields(ja).graphic.wrapResult[0],u=this.wrapResult(this.graphic(),A);this.setContextActionResultWhenFinished(u);return u}if("get"==b.toLowerCase()&&2==a.length&&"about"==a[0]&&"joomla-development"==a[1]){this.context.actionContext.action="joomla";this.context.actionContext.args=
[];this.context.actionContext.get_uriParts().splice(0,2);var f=N.getFields(ja).joomla.wrapResult[0],h=this.wrapResult(this.joomla(),f);this.setContextActionResultWhenFinished(h);return h}if("get"==b.toLowerCase()&&2==a.length&&"about"==a[0]&&"book-design-saskatoon"==a[1]){this.context.actionContext.action="books";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var l=N.getFields(ja).books.wrapResult[0],m=this.wrapResult(this.books(),l);this.setContextActionResultWhenFinished(m);
return m}if("get"==b.toLowerCase()&&2==a.length&&"about"==a[0]&&"web-design-saskatoon"==a[1]){this.context.actionContext.action="web";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,2);var n=N.getFields(ja).web.wrapResult[0],p=this.wrapResult(this.web(),n);this.setContextActionResultWhenFinished(p);return p}if("get"==b.toLowerCase()&&2==a.length&&"about"==a[0]&&"interactive"==a[1]){this.context.actionContext.action="interactive";this.context.actionContext.args=
[];this.context.actionContext.get_uriParts().splice(0,2);var s=N.getFields(ja).interactive.wrapResult[0],t=this.wrapResult(this.interactive(),s);this.setContextActionResultWhenFinished(t);return t}if("get"==b.toLowerCase()&&1==a.length&&"contact"==a[0]){this.context.actionContext.action="contact";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var v=N.getFields(ja).contact.wrapResult[0],w=this.wrapResult(this.contact(),v);this.setContextActionResultWhenFinished(w);
return w}if("get"==b.toLowerCase()&&1==a.length&&"portfolio"==a[0]){this.context.actionContext.action="portfolio";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var B=N.getFields(ja).portfolio.wrapResult[0],z=this.wrapResult(this.portfolio(),B);this.setContextActionResultWhenFinished(z);return z}if("get"==b.toLowerCase()&&2==a.length&&"portfolio"==a[0]&&0<a[1].length){var C=a[1];this.context.actionContext.action="returnPortfolioItem";this.context.actionContext.args=
[C];this.context.actionContext.get_uriParts().splice(0,2);var D=N.getFields(ja).returnPortfolioItem.wrapResult[0],F=this.wrapResult(this.returnPortfolioItem(C),D);this.setContextActionResultWhenFinished(F);return F}throw new k(r.pageNotFound({fileName:"HomeController.hx",lineNumber:20,className:"controller.HomeController",methodName:"execute"}));}catch(E){return y.lastException=E,E instanceof k&&(E=E.val),x.asSurpriseError(E,"Uncaught error while executing "+q.string(this.context.actionContext.controller)+
"."+this.context.actionContext.action+"()",{fileName:"HomeController.hx",lineNumber:20,className:"controller.HomeController",methodName:"execute"})}},__class__:ja});var ga=f["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};ga.CFunction=["CFunction",0];ga.CFunction.toString=w;ga.CFunction.__enum__=ga;ga.Module=function(a){a=["Module",1,a];a.__enum__=ga;a.toString=w;return a};ga.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];
a.__enum__=ga;a.toString=w;return a};ga.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=ga;c.toString=w;return c};ga.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=ga;a.toString=w;return a};var y=function(){};f["haxe.CallStack"]=y;y.__name__=["haxe","CallStack"];y.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var e=[],g=0;g<b.length;){var A=b[g];++g;null!=y.wrapCallSite&&(A=y.wrapCallSite(A));var u=null,f=A.getFunctionName();
if(null!=f){var k=f.lastIndexOf(".");0<=k&&(u=n.substr(f,0,k),f=n.substr(f,k+1,null),u=ga.Method(u,f))}e.push(ga.FilePos(u,A.getFileName(),A.getLineNumber()))}return e};a=y.makeStack(a.stack);Error.prepareStackTrace=b;return a};y.exceptionStack=function(){return y.getStack(y.lastException)};y.toString=function(a){for(var b=new Ka,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";y.itemToString(b,d)}return b.b};y.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=
b[2];a.b+="module ";a.b+=null==c?"null":""+c;break;case 2:var c=b[4],d=b[3],e=b[2];null!=e&&(y.itemToString(a,e),a.b+=" (");a.b+=null==d?"null":""+d;a.b+=" line ";a.b+=null==c?"null":""+c;null!=e&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b+=null==d?"null":""+d;a.b+=".";a.b+=null==c?"null":""+c;break;case 4:c=b[2],a.b+="local function #",a.b+=null==c?"null":""+c}};y.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],c=new la("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",
""),d=0;d<a.length;){var e=a[d];++d;if(c.match(e)){var e=c.matched(1).split("."),g=e.pop(),A=c.matched(2),u=q.parseInt(c.matched(3));b.push(ga.FilePos("Anonymous function"==g?ga.LocalFunction():"Global code"==g?null:ga.Method(e.join("."),g),A,u))}else b.push(ga.Module(L.trim(e)))}return b}return a};var fc=function(){};f["haxe.IMap"]=fc;fc.__name__=["haxe","IMap"];var Ib=function(a){this.url=a;this.headers=new ea;this.params=new ea;this.async=!0;this.withCredentials=!1};f["haxe.Http"]=Ib;Ib.__name__=
["haxe","Http"];Ib.prototype={url:null,responseData:null,async:null,withCredentials:null,postData:null,headers:null,params:null,setHeader:function(a,b){this.headers=ya.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setParameter:function(a,b){this.params=ya.filter(this.params,function(b){return b.param!=a});this.params.push({param:a,value:b});return this},req:null,request:function(a){var b=this;b.responseData=null;var c=this.req=$c.createXMLHttpRequest(),
d=function(a){if(4==c.readyState){var d;try{d=c.status}catch(e){y.lastException=e,d=null}null!=d&&"undefined"!==typeof window&&(a=window.location.protocol.toLowerCase(),(new la("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(a)&&(d=null!=c.responseText?200:404));void 0==d&&(d=null);if(null!=d)b.onStatus(d);if(null!=d&&200<=d&&400>d)b.req=null,b.onData(b.responseData=c.responseText);else if(null==d)b.req=null,b.onError("Failed to connect or resolve host");else switch(d){case 12007:b.req=
null;b.onError("Unknown host");break;case 12029:b.req=null;b.onError("Failed to connect to host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var g=this.params.h;null!=g;)var A=g.item,g=g.next,e=null==e?"":e+"&",u=encodeURIComponent(A.param)+"=",e=e+(u+encodeURIComponent(A.value));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var f=1>=this.url.split("?").length;
c.open("GET",this.url+(f?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(h){y.lastException=h;h instanceof k&&(h=h.val);b.req=null;this.onError(h.toString());return}c.withCredentials=this.withCredentials;!ya.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.h;null!=a;)g=a.item,a=a.next,c.setRequestHeader(g.header,g.value);c.send(e);this.async||
d(null)},onData:function(a){},onError:function(a){},onStatus:function(a){},__class__:Ib};var R=function(){};f["haxe.Log"]=R;R.__name__=["haxe","Log"];R.trace=function(a,b){t.__trace(a,b)};var V=function(){this.buf=new Ka;this.cache=[];this.useCache=V.USE_CACHE;this.useEnumIndex=V.USE_ENUM_INDEX;this.shash=new B;this.scount=0};f["haxe.Serializer"]=V;V.__name__=["haxe","Serializer"];V.run=function(a){var b=new V;b.serialize(a);return b.toString()};V.prototype={buf:null,cache:null,shash:null,scount:null,
useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=m[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=m[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=q.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,g=this.cache[e];
if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(F.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=v["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=
null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(t.__instanceof(a,gd))a=v.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(t.__instanceof(a,hd))this.buf.b+="B",this.serializeString(v.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new k("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;
switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=q.string(a.getTime());break;case ea:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case Jb:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=
b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case Ha:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=F.field(c,"__id__"),F.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case B:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=m[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case sa:this.buf.b+="s";this.buf.b+=q.string(Math.ceil(8*
a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=V.BASE64_CODES;if(null==b){for(var b=Array(V.BASE64.length),e=0,g=V.BASE64.length;e<g;){var A=e++;b[A]=n.cca(V.BASE64,A)}V.BASE64_CODES=b}for(;c<d;)e=a.b[c++],g=a.b[c++],A=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>2]),this.buf.b+=String.fromCharCode(b[(e<<4|g>>4)&63]),this.buf.b+=String.fromCharCode(b[(g<<2|A>>6)&63]),this.buf.b+=String.fromCharCode(b[A&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>2]),this.buf.b+=String.fromCharCode(b[(d<<
4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(v.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(v.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;
this.cache.pop()}this.buf.b+=q.string(this.useEnumIndex?"j":"w");this.serializeString(v.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=q.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=q.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new k("Cannot serialize "+q.string(a));}},serializeException:function(a){this.buf.b+="x";this.serialize(a)},__class__:V};var Z=f["haxe._Template.TemplateExpr"]=
{__ename__:["haxe","_Template","TemplateExpr"],__constructs__:"OpVar OpExpr OpIf OpStr OpBlock OpForeach OpMacro".split(" ")};Z.OpVar=function(a){a=["OpVar",0,a];a.__enum__=Z;a.toString=w;return a};Z.OpExpr=function(a){a=["OpExpr",1,a];a.__enum__=Z;a.toString=w;return a};Z.OpIf=function(a,b,c){a=["OpIf",2,a,b,c];a.__enum__=Z;a.toString=w;return a};Z.OpStr=function(a){a=["OpStr",3,a];a.__enum__=Z;a.toString=w;return a};Z.OpBlock=function(a){a=["OpBlock",4,a];a.__enum__=Z;a.toString=w;return a};Z.OpForeach=
function(a,b){var c=["OpForeach",5,a,b];c.__enum__=Z;c.toString=w;return c};Z.OpMacro=function(a,b){var c=["OpMacro",6,a,b];c.__enum__=Z;c.toString=w;return c};var S=function(a){a=this.parseTokens(a);this.expr=this.parseBlock(a);if(!a.isEmpty())throw new k("Unexpected '"+q.string(a.first().s)+"'");};f["haxe.Template"]=S;S.__name__=["haxe","Template"];S.prototype={expr:null,context:null,macros:null,stack:null,buf:null,execute:function(a,b){this.macros=null==b?{}:b;this.context=a;this.stack=new ea;
this.buf=new Ka;this.run(this.expr);return this.buf.b},resolve:function(a){if("__current__"==a)return this.context;var b=F.getProperty(this.context,a);if(null!=b||Object.prototype.hasOwnProperty.call(this.context,a))return b;for(var c=this.stack.h;null!=c;){var b=c.item,c=c.next,d=b,b=F.getProperty(d,a);if(null!=b||Object.prototype.hasOwnProperty.call(d,a))return b}return F.field(S.globals,a)},parseTokens:function(a){for(var b=new ea;S.splitter.match(a);){var c=S.splitter.matchedPos();0<c.pos&&b.add({p:n.substr(a,
0,c.pos),s:!0,l:null});if(58==n.cca(a,c.pos))b.add({p:n.substr(a,c.pos+2,c.len-4),s:!1,l:null}),a=S.splitter.matchedRight();else{for(var c=c.pos+c.len,d=1,e=[],g="";;){var A=n.cca(a,c);++c;if(40==A)++d;else if(41==A){if(--d,0>=d)break}else if(null==A)throw new k("Unclosed macro parenthesis");44==A&&1==d?(e.push(g),g=""):g+=String.fromCharCode(A)}e.push(g);b.add({p:S.splitter.matched(2),s:!1,l:e});a=n.substr(a,c,a.length-c)}}0<a.length&&b.add({p:a,s:!0,l:null});return b},parseBlock:function(a){for(var b=
new ea;;){var c=a.first();if(null==c)break;if(!c.s&&("end"==c.p||"else"==c.p||"elseif "==n.substr(c.p,0,7)))break;b.add(this.parse(a))}return 1==b.length?b.first():Z.OpBlock(b)},parse:function(a){var b=a.pop(),c=b.p;if(b.s)return Z.OpStr(c);if(null!=b.l){a=new ea;for(var d=0,b=b.l;d<b.length;){var e=b[d];++d;a.add(this.parseBlock(this.parseTokens(e)))}return Z.OpMacro(c,a)}if("if "==n.substr(c,0,3)){c=n.substr(c,3,c.length-3);c=this.parseExpr(c);d=this.parseBlock(a);b=a.first();if(null==b)throw new k("Unclosed 'if'");
if("end"==b.p)a.pop(),e=null;else if("else"==b.p){if(a.pop(),e=this.parseBlock(a),b=a.pop(),null==b||"end"!=b.p)throw new k("Unclosed 'else'");}else b.p=n.substr(b.p,4,b.p.length-4),e=this.parse(a);return Z.OpIf(c,d,e)}if("foreach "==n.substr(c,0,8)){c=n.substr(c,8,c.length-8);c=this.parseExpr(c);d=this.parseBlock(a);a=a.pop();if(null==a||"end"!=a.p)throw new k("Unclosed 'foreach'");return Z.OpForeach(c,d)}return S.expr_splitter.match(c)?Z.OpExpr(this.parseExpr(c)):Z.OpVar(c)},parseExpr:function(a){for(var b=
new ea,c=a;S.expr_splitter.match(a);){var d=S.expr_splitter.matchedPos();0!=d.pos&&b.add({p:n.substr(a,0,d.pos),s:!0});a=S.expr_splitter.matched(0);b.add({p:a,s:0<=a.indexOf('"')});a=S.expr_splitter.matchedRight()}0!=a.length&&b.add({p:a,s:!0});var e;try{if(e=this.makeExpr(b),!b.isEmpty())throw new k(b.first().p);}catch(g){y.lastException=g;g instanceof k&&(g=g.val);if(t.__instanceof(g,String))throw new k("Unexpected '"+g+"' in "+c);throw g;}return function(){try{return e()}catch(a){throw y.lastException=
a,a instanceof k&&(a=a.val),new k("Error : "+q.string(a)+" in "+c);}}},makeConst:function(a){S.expr_trim.match(a);a=S.expr_trim.matched(1);if(34==n.cca(a,0)){var b=n.substr(a,1,a.length-2);return function(){return b}}if(S.expr_int.match(a)){var c=q.parseInt(a);return function(){return c}}if(S.expr_float.match(a)){var d=parseFloat(a);return function(){return d}}var e=this;return function(){return e.resolve(a)}},makePath:function(a,b){var c=b.first();if(null==c||"."!=c.p)return a;b.pop();c=b.pop();
if(null==c||!c.s)throw new k(c.p);var d=c.p;S.expr_trim.match(d);d=S.expr_trim.matched(1);return this.makePath(function(){return F.field(a(),d)},b)},makeExpr:function(a){return this.makePath(this.makeExpr2(a),a)},makeExpr2:function(a){var b=a.pop();if(null==b)throw new k("<eof>");if(b.s)return this.makeConst(b.p);switch(b.p){case "!":var c=this.makeExpr(a);return function(){var a=c();return null!=a?!1==a:!0};case "(":var d=this.makeExpr(a),b=a.pop();if(null==b||b.s)throw new k(b);if(")"==b.p)return d;
var e=this.makeExpr(a);a=a.pop();if(null==a||")"!=a.p)throw new k(a);switch(b.p){case "!=":return function(){return d()!=e()};case "&&":return function(){return d()&&e()};case "*":return function(){return d()*e()};case "+":return function(){return d()+e()};case "-":return function(){return d()-e()};case "/":return function(){return d()/e()};case "<":return function(){return d()<e()};case "<=":return function(){return d()<=e()};case "==":return function(){return d()==e()};case ">":return function(){return d()>
e()};case ">=":return function(){return d()>=e()};case "||":return function(){return d()||e()};default:throw new k("Unknown operation "+b.p);}case "-":var g=this.makeExpr(a);return function(){return-g()}}throw new k(b.p);},run:function(a){switch(a[1]){case 0:var b=this.buf,c=q.string(this.resolve(a[2]));b.b+=q.string(c);break;case 1:b=this.buf;c=q.string((0,a[2])());b.b+=q.string(c);break;case 2:var b=a[4],c=a[3],d=(0,a[2])();null==d||!1==d?null!=b&&this.run(b):this.run(c);break;case 3:b=a[2];this.buf.b+=
null==b?"null":""+b;break;case 4:for(b=a[2].h;null!=b;)c=b.item,b=b.next,this.run(c);break;case 5:b=a[3];c=(0,a[2])();try{var e=$(c)();if(null==e.hasNext)throw new k(null);c=e}catch(g){y.lastException=g;try{if(null==c.hasNext)throw new k(null);}catch(A){throw y.lastException=A,new k("Cannot iter on "+q.string(c));}}for(this.stack.push(this.context);c.hasNext();)this.context=c.next(),this.run(b);this.context=this.stack.pop();break;case 6:var u=a[3];a=a[2];var e=F.field(this.macros,a),f=[],h=this.buf;
f.push(X(this,this.resolve));for(u=u.h;null!=u;){var l=u.item,u=u.next;0==l[1]?f.push(this.resolve(l[2])):(this.buf=new Ka,this.run(l),f.push(this.buf.b))}this.buf=h;try{b=this.buf,c=q.string(e.apply(this.macros,f)),b.b+=q.string(c)}catch(m){y.lastException=m;m instanceof k&&(m=m.val);try{d=f.join(",")}catch(n){y.lastException=n,d="???"}b="Macro call "+a+"("+d+") failed ("+q.string(m)+")";throw new k(b);}}},__class__:S};var Db=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};f["haxe.Timer"]=
Db;Db.__name__=["haxe","Timer"];Db.delay=function(a,b){var c=new Db(b);c.run=function(){c.stop();a()};return c};Db.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Db};var gc=function(){};f["haxe._Unserializer.DefaultResolver"]=gc;gc.__name__=["haxe","_Unserializer","DefaultResolver"];gc.prototype={resolveClass:function(a){return v.resolveClass(a)},resolveEnum:function(a){return v.resolveEnum(a)},__class__:gc};var W=function(a){this.buf=
a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=W.DEFAULT_RESOLVER;null==a&&(a=new gc,W.DEFAULT_RESOLVER=a);this.resolver=a};f["haxe.Unserializer"]=W;W.__name__=["haxe","Unserializer"];W.initCodes=function(){for(var a=[],b=0,c=W.BASE64.length;b<c;){var d=b++;a[W.BASE64.charCodeAt(d)]=d}return a};W.run=function(a){return(new W(a)).unserialize()};W.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=
this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(n.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new k("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();
if("string"!=typeof b)throw new k("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new k("Invalid enum format");var c=this.readDigits();if(0==c)return v.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return v.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+
a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);a=v.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new k("Invalid custom data");return a;case 77:a=new Ha;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());
this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new k("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new B;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),c=this.unserialize();null!=m[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;
return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);a=v.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];if(null==d)throw new k("Unknown enum index "+a+"@"+
c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new ea;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Jb;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,b=this.buf.charCodeAt(this.pos++);
if(104!=b)throw new k("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new k("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new k("Invalid bytes length");var e=W.CODES;null==e&&(e=W.initCodes(),W.CODES=e);for(var g=this.pos,A=a&3,u=g+(a-A),b=new sa(new Ec(3*(a>>2)+(2<=A?A-1:0))),c=0;g<u;){var f=e[d.charCodeAt(g++)],h=e[d.charCodeAt(g++)];b.b[c++]=
(f<<2|h>>4)&255;f=e[d.charCodeAt(g++)];b.b[c++]=(h<<4|f>>2)&255;h=e[d.charCodeAt(g++)];b.b[c++]=(f<<6|h)&255}2<=A&&(h=e[d.charCodeAt(g++)],u=e[d.charCodeAt(g++)],b.b[c++]=(h<<2|u>>4)&255,3==A&&(d=e[d.charCodeAt(g++)],b.b[c++]=(u<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=
this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=n.strDate(n.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw k.wrap(this.unserialize());case 121:a=this.readDigits();
if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new k("Invalid string length");b=n.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new k("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:W};var Jb=function(){this.h={}};f["haxe.ds.IntMap"]=Jb;Jb.__name__=["haxe","ds","IntMap"];Jb.__interfaces__=[fc];Jb.prototype={h:null,keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return n.iter(a)},__class__:Jb};var Ha=function(){this.h={__keys__:{}}};f["haxe.ds.ObjectMap"]=Ha;Ha.__name__=["haxe","ds","ObjectMap"];Ha.__interfaces__=[fc];Ha.assignId=function(a){return a.__id__=++Ha.count};Ha.getId=function(a){return a.__id__};Ha.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++Ha.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return n.iter(a)},__class__:Ha};
var Va=f["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};Va.Some=function(a){a=["Some",0,a];a.__enum__=Va;a.toString=w;return a};Va.None=["None",1];Va.None.toString=w;Va.None.__enum__=Va;var eb=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};f["haxe.ds._StringMap.StringMapIterator"]=eb;eb.__name__=["haxe","ds","_StringMap","StringMapIterator"];eb.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},
next:function(){var a=this.map,b=this.keys[this.index++];return null!=m[b]?a.getReserved(b):a.h[b]},__class__:eb};var B=function(){this.h={}};f["haxe.ds.StringMap"]=B;B.__name__=["haxe","ds","StringMap"];B.__interfaces__=[fc];B.prototype={h:null,rh:null,setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=
m[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return n.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new eb(this,this.arrayKeys())},toString:function(){var a;a="{";for(var b=this.arrayKeys(),c=0,d=b.length;c<
d;){var e=c++,g=b[e];a+=null==g?"null":""+g;a+=" => ";a+=q.string(q.string(null!=m[g]?this.getReserved(g):this.h[g]));e<b.length-1&&(a+=", ")}return a+"}"},__class__:B};var sa=function(a){this.length=a.byteLength;this.b=new ad(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};f["haxe.io.Bytes"]=sa;sa.__name__=["haxe","io","Bytes"];sa.alloc=function(a){return new sa(new Ec(a))};sa.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&
1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new sa((new ad(b)).buffer)};sa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new sa(a)};sa.fastGet=function(a,b){return a.bytes[b]};sa.prototype={length:null,b:null,getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new k(ta.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,g=a,A=a+b;g<A;){var u=d[g++];if(128>u){if(0==
u)break;c+=e(u)}else if(224>u)c+=e((u&63)<<6|d[g++]&127);else if(240>u)var f=d[g++],c=c+e((u&31)<<12|(f&127)<<6|d[g++]&127);else var f=d[g++],h=d[g++],u=(u&15)<<18|(f&127)<<12|(h&127)<<6|d[g++]&127,c=c+e((u>>10)+55232),c=c+e(u&1023|56320)}return c},__class__:sa};var bd=function(){};f["haxe.io.Eof"]=bd;bd.__name__=["haxe","io","Eof"];bd.prototype={toString:function(){return"Eof"},__class__:bd};var ta=f["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds",
"Custom"]};ta.Blocked=["Blocked",0];ta.Blocked.toString=w;ta.Blocked.__enum__=ta;ta.Overflow=["Overflow",1];ta.Overflow.toString=w;ta.Overflow.__enum__=ta;ta.OutsideBounds=["OutsideBounds",2];ta.OutsideBounds.toString=w;ta.OutsideBounds.__enum__=ta;ta.Custom=function(a){a=["Custom",3,a];a.__enum__=ta;a.toString=w;return a};var O=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=n.substr(a,0,c),a=n.substr(a,c+1,null),
this.backslash=!0):c<b?(this.dir=n.substr(a,0,b),a=n.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=n.substr(a,b+1,null),this.file=n.substr(a,0,b)):(this.ext=null,this.file=a)};f["haxe.io.Path"]=O;O.__name__=["haxe","io","Path"];O.withoutDirectory=function(a){a=new O(a);a.dir=null;return a.toString()};O.extension=function(a){a=new O(a);return null==a.ext?"":a.ext};O.withExtension=function(a,b){var c=new O(a);c.ext=b;return c.toString()};O.normalize=function(a){a=a.split("\\").join("/");
if("/"==a)return"/";var b=[],c=0;for(a=a.split("/");c<a.length;){var d=a[c];++c;".."==d&&0<b.length&&".."!=b[b.length-1]?b.pop():"."!=d&&b.push(d)}b=b.join("/");b.replace(RegExp("([^:])/+","g"),"$1/");for(var c="",d=a=!1,e=0,g=b.length;e<g;){var A=e++,A=b.charCodeAt(A);switch(A){case 47:a?(a=!1,d&&(c+="/",d=!1),c+=String.fromCharCode(A)):d=!0;break;case 58:c+=":";a=!0;break;default:a=!1,d&&(c+="/",d=!1),c+=String.fromCharCode(A)}}return c};O.addTrailingSlash=function(a){if(0==a.length)return"/";var b=
a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=a.length-1?a+"\\":a:b!=a.length-1?a+"/":a};O.removeTrailingSlashes=function(a){try{for(;;){var b=n.cca(a,a.length-1);if(null==b)throw"__break__";switch(b){case 47:case 92:a=n.substr(a,0,-1);break;default:throw"__break__";}}}catch(c){if("__break__"!=c)throw c;}return a};O.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},
__class__:O};var hc=function(){};f["haxe.remoting.AsyncConnection"]=hc;hc.__name__=["haxe","remoting","AsyncConnection"];hc.prototype={resolve:null,call:null,setErrorHandler:null,__class__:hc};var ic=function(){};f["haxe.remoting.Connection"]=ic;ic.__name__=["haxe","remoting","Connection"];ic.prototype={resolve:null,call:null,__class__:ic};var Fc=function(){this.objects=new B};f["haxe.remoting.Context"]=Fc;Fc.__name__=["haxe","remoting","Context"];Fc.prototype={objects:null,addObject:function(a,b,
c){var d=this.objects;b={obj:b,rec:c};null!=m[a]?d.setReserved(a,b):d.h[a]=b},call:function(a,b){if(2>a.length)throw new k("Invalid path '"+a.join(".")+"'");var c=this.objects,d=a[0],e=null!=m[d]?c.getReserved(d):c.h[d];if(null==e)throw new k("No such object "+a[0]);c=e.obj;d=F.field(c,a[1]);if(2<a.length){if(!e.rec)throw new k("Can't access "+a.join("."));for(var e=2,g=a.length;e<g;)var A=e++,c=d,d=F.field(c,a[A])}if(!F.isFunction(d))throw new k("No such method "+a.join("."));return d.apply(c,b)},
__class__:Fc};var fb=function(a,b){this.__data=a;this.__path=b};f["haxe.remoting.HttpAsyncConnection"]=fb;fb.__name__=["haxe","remoting","HttpAsyncConnection"];fb.__interfaces__=[hc];fb.prototype={__data:null,__path:null,resolve:function(a){var b=new fb(this.__data,this.__path.slice());b.__path.push(a);return b},setErrorHandler:function(a){this.__data.error=a},call:function(a,b){var c=new Ib(this.__data.url),d=new V;d.serialize(this.__path);d.serialize(a);c.setHeader("X-Haxe-Remoting","1");c.setParameter("__x",
d.toString());var e=this.__data.error;c.onData=function(a){var c=!0,d;try{if("hxr"!=n.substr(a,0,3))throw new k("Invalid response : '"+a+"'");d=(new W(n.substr(a,3,null))).unserialize()}catch(f){y.lastException=f,f instanceof k&&(f=f.val),d=null,c=!1,e(f)}c&&null!=b&&b(d)};c.onError=e;c.request(!0)},__class__:fb};var gb=function(a,b){this.__url=a;this.__path=b};f["haxe.remoting.HttpConnection"]=gb;gb.__name__=["haxe","remoting","HttpConnection"];gb.__interfaces__=[ic];gb.prototype={__url:null,__path:null,
resolve:function(a){var b=new gb(this.__url,this.__path.slice());b.__path.push(a);return b},call:function(a){var b=null,c=new Ib(this.__url);c.async=!1;var d=new V;d.serialize(this.__path);d.serialize(a);c.setHeader("X-Haxe-Remoting","1");c.setParameter("__x",d.toString());c.onData=function(a){b=a};c.onError=function(a){throw new k(a);};c.request(!0);if("hxr"!=n.substr(b,0,3))throw new k("Invalid response : '"+b+"'");b=n.substr(b,3,null);return(new W(b)).unserialize()},__class__:gb};var N=function(){};
f["haxe.rtti.Meta"]=N;N.__name__=["haxe","rtti","Meta"];N.getType=function(a){a=N.getMeta(a);return null==a||null==a.obj?{}:a.obj};N.getMeta=function(a){return a.__meta__};N.getFields=function(a){a=N.getMeta(a);return null==a||null==a.fields?{}:a.fields};var k=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,k)};f["js._Boot.HaxeError"]=k;k.__name__=["js","_Boot","HaxeError"];k.wrap=function(a){return a instanceof Error?a:new k(a)};
k.__super__=Error;k.prototype=M(Error.prototype,{val:null,__class__:k});var t=function(){};f["js.Boot"]=t;t.__name__=["js","Boot"];t.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};t.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+t.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,e=b.customParams;d<e.length;){var g=e[d];++d;c+=","+t.__string_rec(g,"")}var A;"undefined"!=typeof document?(A=document.getElementById("haxe:trace"),
d=null!=A):d=!1;d?A.innerHTML+=t.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};t.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=t.__nativeClassName(a);return null!=a?t.__resolveNativeClass(a):null};t.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof
Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var g=d++,c=2!=g?c+(","+t.__string_rec(a[g],b)):c+t.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)g=e++,d+=(0<g?",":"")+t.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(A){return y.lastException=A,"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||
"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+t.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};t.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++,g=c[g];if(g==b||t.__interfLoop(g,b))return!0}return t.__interfLoop(a.__super__,b)};t.__instanceof=function(a,b){if(null==
b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case od:return"boolean"==typeof a;case ud:return!0;case pd:return"number"==typeof a;case vd:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||t.__interfLoop(t.getClass(a),b))return!0}else{if("object"==typeof b&&t.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==gd&&null!=a.__name__||b==hd&&null!=a.__ename__?!0:a.__enum__==
b}};t.__cast=function(a,b){if(t.__instanceof(a,b))return a;throw new k("Cannot cast "+q.string(a)+" to "+q.string(b));};t.__nativeClassName=function(a){a=t.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};t.__isNativeObj=function(a){return null!=t.__nativeClassName(a)};t.__resolveNativeClass=function(a){return fd[a]};var $c=function(){};f["js.Browser"]=$c;$c.__name__=["js","Browser"];$c.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;
if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new k("Unable to create XMLHttpRequest object.");};var Ia=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};f["js.html.compat.ArrayBuffer"]=Ia;Ia.__name__=["js","html","compat","ArrayBuffer"];Ia.sliceImpl=function(a,b){var c=new ad(this,a,null==b?null:b-a),d=new Ec(c.byteLength);(new ad(d)).set(c);return d};
Ia.prototype={byteLength:null,a:null,slice:function(a,b){return new Ia(this.a.slice(a,b))},__class__:Ia};var Wa=function(){};f["js.html.compat.Uint8Array"]=Wa;Wa.__name__=["js","html","compat","Uint8Array"];Wa._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Ia(c)}else if(t.__instanceof(a,Ia))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof
Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ia(c);else throw new k("TODO "+q.string(a));c.subarray=Wa._subarray;c.set=Wa._set;return c};Wa._set=function(a,b){if(t.__instanceof(a.buffer,Ia)){if(a.byteLength+b>this.byteLength)throw new k("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new k("set() outside of range");c=0;for(d=a.length;c<d;)e=
c++,this[e+b]=a[e]}else throw new k("TODO");};Wa._subarray=function(a,b){var c=Wa._new(this.slice(a,b));c.byteOffset=a;return c};var Xa=function(){};f["ufront.web.context.HttpRequest"]=Xa;Xa.__name__=["ufront","web","context","HttpRequest"];Xa.create=function(){return new hb};Xa.prototype={params:null,get_params:function(){null==this.params&&(this.params=C.combine([this.get_cookies(),this.get_query(),this.get_post()]));return this.params},queryString:null,get_queryString:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:111,className:"ufront.web.context.HttpRequest",methodName:"get_queryString"}));},postString:null,get_postString:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:121,className:"ufront.web.context.HttpRequest",methodName:"get_postString"}));},query:null,get_query:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:131,className:"ufront.web.context.HttpRequest",methodName:"get_query"}));},post:null,get_post:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:149,className:"ufront.web.context.HttpRequest",methodName:"get_post"}));},files:null,get_files:function(){null==this.files&&(this.files=new B);return this.files},cookies:null,get_cookies:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:168,className:"ufront.web.context.HttpRequest",methodName:"get_cookies"}));},hostName:null,get_hostName:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:174,className:"ufront.web.context.HttpRequest",
methodName:"get_hostName"}));},clientIP:null,get_clientIP:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:180,className:"ufront.web.context.HttpRequest",methodName:"get_clientIP"}));},uri:null,get_uri:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:191,className:"ufront.web.context.HttpRequest",methodName:"get_uri"}));},clientHeaders:null,get_clientHeaders:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:197,
className:"ufront.web.context.HttpRequest",methodName:"get_clientHeaders"}));},userAgent:null,get_userAgent:function(){null==this.userAgent&&(this.userAgent=ka.fromString(C.get(this.get_clientHeaders(),"user-agent")));return this.userAgent},httpMethod:null,get_httpMethod:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:219,className:"ufront.web.context.HttpRequest",methodName:"get_httpMethod"}));},scriptDirectory:null,get_scriptDirectory:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:231,className:"ufront.web.context.HttpRequest",methodName:"get_scriptDirectory"}));},authorization:null,get_authorization:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:243,className:"ufront.web.context.HttpRequest",methodName:"get_authorization"}));},isMultipart:function(){var a=this.get_clientHeaders();return(null!=m["content-type"]?a.existsReserved("content-type"):a.h.hasOwnProperty("content-type"))?L.startsWith(C.get(this.get_clientHeaders(),"content-type"),
"multipart/form-data"):!1},parseMultipart:function(a,b,c){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:280,className:"ufront.web.context.HttpRequest",methodName:"parseMultipart"}));},__class__:Xa,__properties__:{get_authorization:"get_authorization",get_scriptDirectory:"get_scriptDirectory",get_httpMethod:"get_httpMethod",get_userAgent:"get_userAgent",get_clientHeaders:"get_clientHeaders",get_uri:"get_uri",get_clientIP:"get_clientIP",get_hostName:"get_hostName",get_cookies:"get_cookies",
get_files:"get_files",get_post:"get_post",get_query:"get_query",get_postString:"get_postString",get_queryString:"get_queryString",get_params:"get_params"}};var hb=function(){};f["js.ufront.web.context.HttpRequest"]=hb;hb.__name__=["js","ufront","web","context","HttpRequest"];hb.getMultiValueMapFromString=function(a,b){null==b&&(b=!1);for(var c=new B,d=0,e=a.split("&");d<e.length;){var g=e[d];++d;var A=g.indexOf("=");if(0<A){var f=n.substr(g,0,A),g=n.substr(g,A+1,null);b&&(g=decodeURIComponent(g.split("+").join(" ")));
C.add(c,f,g)}}return c};hb.__super__=Xa;hb.prototype=M(Xa.prototype,{get_queryString:function(){null==this.queryString&&(this.queryString=n.substr(window.document.location.search,1,null));return this.queryString},get_postString:function(){if("GET"==this.get_httpMethod())return"";null==this.postString&&(this.postString=window.history.state.__postData);return this.postString},parseMultipart:function(a,b,c){return x.success()},get_query:function(){null==this.query&&(this.query=hb.getMultiValueMapFromString(this.get_queryString()));
return this.query},get_post:function(){null==this.post&&(this.post="GET"==this.get_httpMethod()?new B:hb.getMultiValueMapFromString(this.get_postString(),!0));return this.post},get_cookies:function(){if(null==this.cookies){this.cookies=new B;for(var a=0,b=window.document.cookie.split(";");a<b.length;){var c=b[a];++a;c=L.trim(c);c=c.split("=");C.add(this.cookies,c[0],c[1])}}return this.cookies},get_hostName:function(){null==this.hostName&&(this.hostName=window.document.location.hostname);return this.hostName},
get_clientIP:function(){null==this.clientIP&&(this.clientIP="127.0.0.1");return this.clientIP},get_uri:function(){null==this.uri&&(this.uri=decodeURIComponent(window.document.location.pathname.split("+").join(" ")));return this.uri},get_clientHeaders:function(){null==this.clientHeaders&&(this.clientHeaders=new B);return this.clientHeaders},get_httpMethod:function(){null==this.httpMethod&&(this.httpMethod=null!=window.history.state&&Object.prototype.hasOwnProperty.call(window.history.state,"__postData")?
"POST":"GET");return this.httpMethod},get_scriptDirectory:function(){if(null==this.scriptDirectory)throw new k(r.internalServerError("Cannot access request.scriptDirectory in ufront-client-mvc",null,{fileName:"HttpRequest.hx",lineNumber:134,className:"js.ufront.web.context.HttpRequest",methodName:"get_scriptDirectory"}));return this.scriptDirectory},get_authorization:function(){return null},isMultipart:function(){return null!=p.currentUploads},__class__:hb});var ca=function(){this.clear();this._flushedContent=
this._flushedHeaders=this._flushedCookies=this._flushedStatus=!1};f["ufront.web.context.HttpResponse"]=ca;ca.__name__=["ufront","web","context","HttpResponse"];ca.create=function(){return new za};ca.prototype={charset:null,status:null,_buff:null,_headers:null,_cookies:null,_flushedStatus:null,_flushedCookies:null,_flushedHeaders:null,_flushedContent:null,preventFlush:function(){this._flushedContent=this._flushedHeaders=this._flushedCookies=this._flushedStatus=!0},preventFlushContent:function(){this._flushedContent=
!0},flush:function(){throw new k(r.notImplemented({fileName:"HttpResponse.hx",lineNumber:141,className:"ufront.web.context.HttpResponse",methodName:"flush"}));},clear:function(){this.clearCookies();this.clearHeaders();this.clearContent();this.set_contentType(null);this.charset="utf-8";this.status=200},clearCookies:function(){this._cookies=new B},clearContent:function(){this._buff=new Ka},clearHeaders:function(){this._headers=new Gc},write:function(a){null!=a&&(this._buff.b+=null==a?"null":""+a)},
writeChar:function(a){this._buff.b+=String.fromCharCode(a)},writeBytes:function(a,b,c){var d=this._buff;a=a.getString(b,c);d.b+=q.string(a)},setHeader:function(a,b){r.throwIfNull(a,null,{fileName:"HttpResponse.hx",lineNumber:219,className:"ufront.web.context.HttpResponse",methodName:"setHeader"});r.throwIfNull(b,null,{fileName:"HttpResponse.hx",lineNumber:220,className:"ufront.web.context.HttpResponse",methodName:"setHeader"});this._headers.set(a,b)},setCookie:function(a){var b=this._cookies,c=a.name;
null!=m[c]?b.setReserved(c,a):b.h[c]=a},getBuffer:function(){return this._buff.b},getCookies:function(){return this._cookies},getHeaders:function(){return this._headers},redirect:function(a){this.status=302;this.set_redirectLocation(a)},setOk:function(){this.status=200},setUnauthorized:function(){this.status=401},requireAuthentication:function(a){this.setUnauthorized();this.setHeader("WWW-Authenticate",'Basic realm="'+a+'"')},setNotFound:function(){this.status=404},setInternalError:function(){this.status=
500},permanentRedirect:function(a){this.status=301;this.set_redirectLocation(a)},isRedirect:function(){return 3==Math.floor(this.status/100)},isPermanentRedirect:function(){return 301==this.status},hxSerialize:function(a){a.serialize(this._buff.b);a.serialize(this._headers);a.serialize(this._cookies);a.serialize(this._flushedStatus);a.serialize(this._flushedCookies);a.serialize(this._flushedHeaders);a.serialize(this._flushedContent)},hxUnserialize:function(a){var b=this._buff=new Ka,c=a.unserialize();
b.b+=q.string(c);this._headers=a.unserialize();this._cookies=a.unserialize();this._flushedStatus=a.unserialize();this._flushedCookies=a.unserialize();this._flushedHeaders=a.unserialize();this._flushedContent=a.unserialize()},get_contentType:function(){return this._headers.get("Content-type")},set_contentType:function(a){null==a?this._headers.set("Content-type","text/html"):this._headers.set("Content-type",a);return a},get_redirectLocation:function(){return this._headers.get("Location")},set_redirectLocation:function(a){null==
a?this._headers.remove("Location"):this._headers.set("Location",a);return a},__class__:ca,__properties__:{set_redirectLocation:"set_redirectLocation",get_redirectLocation:"get_redirectLocation",set_contentType:"set_contentType",get_contentType:"get_contentType"}};var za=function(){ca.call(this)};f["js.ufront.web.context.HttpResponse"]=za;za.__name__=["js","ufront","web","context","HttpResponse"];za.replaceChildren=function(a,b){for(;null!=b.firstChild;)b.removeChild(b.firstChild);if(null!=a)for(;null!=
a.firstChild;)b.appendChild(a.firstChild)};za.replaceNode=function(a,b,c){null==c&&(c=0);null!=b&&a.parentNode.insertBefore(b,a);var d=!1,e=function(){!1==d&&(a.parentNode.removeChild(a),d=!0)};0!=c?(b=Object.prototype.hasOwnProperty.call(window.document.documentElement.style,"WebkitTransition")?"webkitTransitionEnd":"transitionend",a.addEventListener(b,function(){e()}),0<c&&window.setTimeout(function(){e()},c)):e()};za.reloadScripts=function(a,b){var c=function(a){for(var b=0,c=a.length;b<c;){var A=
b++,A=a.item(A),f=A.getAttribute("uf-reload");if(null!=f&&"false"!=f){f=window.document.createElement("script");f.setAttribute("type","text/javascript");var h=A.getAttribute("src");null!=h&&f.setAttribute("src",h);f.innerHTML=A.innerHTML;window.document.body.appendChild(f);window.document.body.removeChild(f)}}};null!=a&&c(a.getElementsByTagName("script"));null!=b&&c(b.getElementsByTagName("script"))};za.__super__=ca;za.prototype=M(ca.prototype,{flush:function(){this._flushedStatus||(this._flushedStatus=
!0,window.console.log("["+this.status+"] "+(window.location.pathname+window.location.search)));if(!this._flushedCookies){this._flushedCookies=!0;try{for(var a=this._cookies,b=new eb(a,a.arrayKeys());b.hasNext();){var c=b.next(),d=c.name+"=",e=c.get_description();window.document.cookie=d+e}}catch(g){throw y.lastException=g,g instanceof k&&(g=g.val),new k(r.internalServerError("Cannot set cookies on response",g,{fileName:"HttpResponse.hx",lineNumber:58,className:"js.ufront.web.context.HttpResponse",
methodName:"flush"}));}}this._flushedHeaders||(this._flushedHeaders=!0,this.isRedirect()&&(this._flushedContent=!0,L.startsWith(this.get_redirectLocation(),"/")||L.startsWith(this.get_redirectLocation(),window.location.origin)?p.replace(this.get_redirectLocation()):window.document.location.href=this.get_redirectLocation()));this._flushedContent||(this._flushedContent=!0,"text/html"==this.get_contentType()?(a=window.document.implementation.createHTMLDocument(""),a.documentElement.innerHTML=this._buff.b,
window.document.title=a.title,za.replaceNode(window.document.head,a.head),za.replaceNode(window.document.body,a.body),window.scrollTo(0,0),za.reloadScripts(window.document)):(window.console.log('Cannot use ufront-client-mvc to render content type "'+this.get_contentType()+'". Redirecting to server for rendering this content.'),window.document.location.reload()))},__class__:za});var ib=function(a){this.infos=new B;this.mappings=new B;this.parent=a};f["minject.Injector"]=ib;ib.__name__=["minject","Injector"];
ib.getValueType=function(a){if("string"==typeof a)return"String";if(t.__instanceof(a,gd))return v.getClassName(a);if(t.__instanceof(a,hd))return v.getEnumName(a);var b;b=v["typeof"](a);switch(b[1]){case 1:b="Int";break;case 3:b="Bool";break;case 6:b=v.getClassName(b[2]);break;case 7:b=v.getEnumName(b[2]);break;default:b=null}if(null!=b)return b;throw new k("Could not determine type name of "+q.string(a));};ib.prototype={parent:null,mappings:null,infos:null,mapRuntimeTypeOf:function(a,b){return this.mapType(ib.getValueType(a),
b)},mapType:function(a,b,c){c=this.getMappingKey(a,b);var d=this.mappings;if(null!=m[c]?d.existsReserved(c):d.h.hasOwnProperty(c))return a=this.mappings,null!=m[c]?a.getReserved(c):a.h[c];a=new Hc(a,b);b=this.mappings;null!=m[c]?b.setReserved(c,a):b.h[c]=a;return a},unmapType:function(a,b){this.mappings.remove(this.getMappingKey(a,b))},hasMappingForType:function(a,b){return null!=this.findMappingForType(a,b)},findMappingForType:function(a,b){var c=this.mappings,d=this.getMappingKey(a,b),c=null!=m[d]?
c.getReserved(d):c.h[d];return null!=c&&null!=c.provider?c:null!=this.parent?this.parent.findMappingForType(a,b):null},getValueForType:function(a,b){var c=this.findMappingForType(a,b);if(null!=c)return c.getValue(this);var d=a.indexOf("<");-1<d&&(c=this.findMappingForType(n.substr(a,0,d),b));return null!=c?c.getValue(this):null},injectInto:function(a){var b=this.getInfo(null==a?null:t.getClass(a));if(null!=b)for(var c=0,b=b.fields;c<b.length;){var d=b[c];++c;d.applyInjection(a,this)}},_construct:function(a){return this.getInfo(a).ctor.createInstance(a,
this)},_instantiate:function(a){a=this._construct(a);this.injectInto(a);return a},getInstance:function(a,b){var c=v.getClassName(a),d=this.findMappingForType(c,b);if(null==d)throw new k('Error while getting mapping response: No mapping defined for class "'+c+'" '+('name "'+b+'"'));return d.getValue(this)},createChildInjector:function(){return new ib(this)},getInfo:function(a){var b=v.getClassName(a),c=this.infos;if(null!=m[b]?c.existsReserved(b):c.h.hasOwnProperty(b))return a=this.infos,null!=m[b]?
a.getReserved(b):a.h[b];a=this.createInfo(a);c=this.infos;null!=m[b]?c.setReserved(b,a):c.h[b]=a;return a},createInfo:function(a){var b=new Ic(null,[]);this.addClassToInfo(a,b,[]);null==b.ctor&&(b.ctor=new Kb([]));return b},addClassToInfo:function(a,b,c){var d=N.getType(a).rtti;if(null!=d)for(var e=0;e<d.length;){var g=d[e];++e;var A=g[0];-1<c.indexOf(A)||(c.push(A),"new"==A?b.ctor=new Kb(g.slice(1)):3==g.length?b.fields.push(new jc(A,g[1],g[2])):b.fields.push(new jb(A,g.slice(1))))}a=v.getSuperClass(a);
null!=a&&this.addClassToInfo(a,b,c)},getMappingKey:function(a,b){null==b&&(b="");return""+a+"#"+b},__class__:ib};var Ic=function(a,b){this.ctor=a;this.fields=b};f["minject.InjectorInfo"]=Ic;Ic.__name__=["minject","InjectorInfo"];Ic.prototype={ctor:null,fields:null,__class__:Ic};var Hc=function(a,b){this.type=a;this.name=b};f["minject.InjectorMapping"]=Hc;Hc.__name__=["minject","InjectorMapping"];Hc.prototype={type:null,name:null,injector:null,provider:null,getValue:function(a){null!=this.injector&&
(a=this.injector);if(null!=this.provider)return this.provider.getValue(a);var b=a.findMappingForType(this.type,this.name);return null!=b?b.getValue(a):null},toValue:function(a){return this.toProvider(new kc(a))},_toClass:function(a){return this.toProvider(new lc(a))},_toSingleton:function(a){return this.toProvider(new mc(a))},asSingleton:function(){return this._toSingleton(v.resolveClass(this.type))},toMapping:function(a){return this.toProvider(new nc(a))},toProvider:function(a){this.provider=a;return this},
__class__:Hc};var Lb=function(){};f["minject.point.InjectionPoint"]=Lb;Lb.__name__=["minject","point","InjectionPoint"];Lb.prototype={field:null,applyInjection:null,__class__:Lb};var jb=function(a,b){this.field=a;this.args=b};f["minject.point.MethodInjectionPoint"]=jb;jb.__name__=["minject","point","MethodInjectionPoint"];jb.__interfaces__=[Lb];jb.prototype={field:null,args:null,applyInjection:function(a,b){var c=F.field(a,this.field),d=this.gatherArgs(a,b);c.apply(a,d);return a},gatherArgs:function(a,
b){for(var c=[],d=0;d<this.args.length;){var e=this.args[d++],g=this.args[d++];d++;e=b.getValueForType(e,g);c.push(e)}return c},__class__:jb};var Kb=function(a){jb.call(this,"new",a)};f["minject.point.ConstructorInjectionPoint"]=Kb;Kb.__name__=["minject","point","ConstructorInjectionPoint"];Kb.__super__=jb;Kb.prototype=M(jb.prototype,{createInstance:function(a,b){return v.createInstance(a,this.gatherArgs(a,b))},__class__:Kb});var jc=function(a,b,c){this.field=a;this.type=b;this.name=c};f["minject.point.PropertyInjectionPoint"]=
jc;jc.__name__=["minject","point","PropertyInjectionPoint"];jc.__interfaces__=[Lb];jc.prototype={field:null,type:null,name:null,applyInjection:function(a,b){var c=b.getValueForType(this.type,this.name);F.setProperty(a,this.field,c);return a},__class__:jc};var kb=function(){};f["minject.provider.DependencyProvider"]=kb;kb.__name__=["minject","provider","DependencyProvider"];kb.prototype={getValue:null,__class__:kb};var lc=function(a){this.type=a};f["minject.provider.ClassProvider"]=lc;lc.__name__=
["minject","provider","ClassProvider"];lc.__interfaces__=[kb];lc.prototype={type:null,getValue:function(a){return a._instantiate(this.type)},__class__:lc};var nc=function(a){this.mapping=a};f["minject.provider.OtherMappingProvider"]=nc;nc.__name__=["minject","provider","OtherMappingProvider"];nc.__interfaces__=[kb];nc.prototype={mapping:null,getValue:function(a){return this.mapping.getValue(a)},__class__:nc};var mc=function(a){this.type=a};f["minject.provider.SingletonProvider"]=mc;mc.__name__=["minject",
"provider","SingletonProvider"];mc.__interfaces__=[kb];mc.prototype={type:null,value:null,getValue:function(a){null==this.value&&(this.value=a._construct(this.type),a.injectInto(this.value));return this.value},__class__:mc};var kc=function(a){this.value=a};f["minject.provider.ValueProvider"]=kc;kc.__name__=["minject","provider","ValueProvider"];kc.__interfaces__=[kb];kc.prototype={value:null,getValue:function(a){return this.value},__class__:kc};var Mb=function(){};f["ufront.app.UFErrorHandler"]=Mb;
Mb.__name__=["ufront","app","UFErrorHandler"];Mb.prototype={handleError:null,__class__:Mb};var sb=function(){this.showStack=!1;this.catchErrors=!0};f["overrides.CustomErrorPageHandler"]=sb;sb.__name__=["overrides","CustomErrorPageHandler"];sb.__interfaces__=[Mb];sb.errorStackItems=function(a){return y.toString(a).split("\n")};sb.prototype={catchErrors:null,showStack:null,handleError:function(a,b){var c=null!=a&&null!=a.data?" ("+q.string(a.data)+")":"",d=this.showStack?" "+y.toString(y.exceptionStack()):
"";b.messages.push({msg:"Handling error: "+q.string(a)+c+d,pos:{fileName:"CustomErrorPageHandler.hx",lineNumber:44,className:"overrides.CustomErrorPageHandler",methodName:"handleError"},type:K.MError});0==(b.completion&1<<E.CRequestHandlersComplete[1])&&(b.response.clear(),b.response.status=a.code,b.response.set_contentType("text/html"),b.response.write(this.renderError(a,this.showStack)),b.completion|=1<<E.CRequestHandlersComplete[1]);this.catchErrors||a.throwSelf();return x.success()},renderErrorContent:function(a,
b){null==b&&(b=!1);var c=null!=a.data?'<p class="error-data">'+q.string(a.data)+"</p>":"",d=b?'<p class="error-pos">&gt; '+a.printPos()+"</p>":"",e=sb.errorStackItems(y.exceptionStack()),e=b&&0<e.length?'<div class="error-exception-stack"><h3>Exception Stack:</h3>\n\t\t\t\t\t<pre><code>'+e.join("\n")+"</pre></code>\n\t\t\t\t</div>":"";return'\n\t\t\t<summary class="error-summary"><h1 class="error-message">'+a.message+'</h1></summary>\n\t\t\t<details class="error-details"> '+c+" "+d+" "+e+"</details>\n\t\t"},
renderErrorPage:function(a,b){return"<!DOCTYPE html>\n<html>\n<head>\n\t<title>"+a+'</title>\n\t<link rel="stylesheet" href="/css/home.css" media="screen">\n</head>\n<body>\n\t<div class="container">\n\t\t<div id="stage" class="">\n\t\t\t<div id="panel1" class="recessed0 recessed1">\n\t\t\t\t<img id="confidantLogo" src="/images/confidantLogo.jpg" alt="Confidant Communications" />\n\t\t\t</div>\n\t\t\t<div id="panel2" style="display:block;opacity:1;top:120px;left:0;">\n\t\t\t\t<div class="content">\n\t\t\t\t\t'+
b+'\n\t\t\t\t\t<p style="text-align:center;"><a href="/">Go back to the home page please.</a></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</body>\n</html>\n'},renderError:function(a,b){var c=this.renderErrorContent(a,b);return this.renderErrorPage(a.message,c)},__class__:sb};var p=function(){};f["pushstate.PushState"]=p;p.__name__=["pushstate","PushState"];p.init=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);null==a&&(a="");p.listeners=[];p.preventers=[];p.uploadCache=new B;p.basePath=
a;p.ignoreAnchors=c;window.document.addEventListener("DOMContentLoaded",function(a){window.document.addEventListener("click",function(a){if(0==a.button&&!a.metaKey&&!a.ctrlKey){for(var b=null,c=a.target,c=c instanceof Node?c:null;null==b&&null!=c;)b=c instanceof HTMLAnchorElement?c:null,c=c.parentNode;null==b||"pushstate"!=b.rel&&!b.classList.contains("pushstate")||(p.push(b.pathname+b.search+b.hash),a.preventDefault())}});window.document.addEventListener("submit",function(a){var b=a.target,b=b instanceof
HTMLFormElement?b:null;b.classList.contains("pushstate")&&(a.preventDefault(),p.interceptFormSubmit(b))});window.onpopstate=p.handleOnPopState;b?p.handleOnPopState(null):(p.currentPath=p.stripURL(window.document.location.pathname+window.document.location.search+window.document.location.hash),p.currentState=null,p.currentUploads=null)})};p.hasClass=function(a,b){return a.classList.contains(b)};p.interceptFormSubmit=function(a){for(var b=[],c=null,d=function(a,c){null!=a&&""!=a&&b.push({name:a,val:c})},
e=function(a,b){for(var e=0,g=b.length;e<g;){var f=e++;d(a,b[f].name)}null==c&&(c={});c[a]=b},g=0,f=a.elements.length;g<f;){var u=g++,u=a.elements.item(u);switch(u.nodeName.toUpperCase()){case "INPUT":u=u instanceof HTMLInputElement?u:null;switch(u.type){case "file":null!=u.files&&0<u.files.length&&e(u.name,u.files);break;case "checkbox":case "radio":u.checked&&d(u.name,u.value);break;case "color":case "date":case "datetime":case "datetime-local":case "email":case "hidden":case "month":case "number":case "password":case "range":case "search":case "tel":case "text":case "time":case "url":case "week":d(u.name,
u.value)}break;case "SELECT":u=u instanceof HTMLSelectElement?u:null;switch(u.type){case "select-multiple":for(var h=0,k=u.options.length;h<k;){var l=h++,l=u.options[l];l.selected&&d(u.name,l.value)}break;case "select-one":d(u.name,u.value)}break;case "TEXTAREA":u=u instanceof HTMLTextAreaElement?u:null,d(u.name,u.value)}}e=window.document.activeElement;e=e instanceof HTMLInputElement?e:null;g=window.document.activeElement;g=g instanceof HTMLButtonElement?g:null;null!=e&&"submit"==e.type?d(e.name,
e.value):null!=g&&"submit"==g.type?d(g.name,g.value):(g=a.querySelector("input[type=submit], button[type=submit]"),e=g instanceof HTMLInputElement?g:null,g=g instanceof HTMLButtonElement?g:null,null!=e?d(e.name,e.value):null!=g&&d(g.name,g.value));e=b.map(function(a){return""+a.name+"="+encodeURIComponent(a.val)}).join("&");if("POST"==a.method.toUpperCase()){g={};for(f=0;f<b.length;)u=b[f],++f,Object.prototype.hasOwnProperty.call(g,u.name)?F.field(g,u.name).push(u.val):g[u.name]=[u.val];g.__postData=
e;null!=c&&p.setUploadsForState(a.action,g,c);p.push(a.action,g,c)}else p.push(a.action+"?"+e,null)};p.setUploadsForState=function(a,b,c){var d=n.dateStr(new Date),e=Math.random();a=""+a+"-"+d+"-"+e;d=p.uploadCache;null!=m[a]?d.setReserved(a,c):d.h[a]=c;b.__postFilesCacheID=a};p.getUploadsForState=function(a){if(null==a||!1==Object.prototype.hasOwnProperty.call(a,"__postFilesCacheID"))return null;a=a.__postFilesCacheID;var b=p.uploadCache;if(!1==(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)))return R.trace("Upload files with cache ID "+
a+" is not available anymore",{fileName:"PushState.hx",lineNumber:214,className:"pushstate.PushState",methodName:"getUploadsForState"}),null;b=p.uploadCache;return null!=m[a]?b.getReserved(a):b.h[a]};p.handleOnPopState=function(a){var b=p.stripURL(window.document.location.pathname+window.document.location.search+window.document.location.hash),c=null!=a?a.state:null,d;if(null!=c&&null!=c.__postFilesCacheID){d=c.__postFilesCacheID;var e=p.uploadCache;d=null!=m[d]?e.getReserved(d):e.h[d]}else d=null;
if(!p.ignoreAnchors||b!=p.currentPath){if(null!=a)for(var e=0,g=p.preventers;e<g.length;){var f=g[e];++e;if(!f(b,c,d)){a.preventDefault();window.history.replaceState(p.currentState,"",p.currentPath);return}}p.currentPath=b;p.currentState=c;p.currentUploads=p.getUploadsForState(c);p.dispatch(p.currentPath,p.currentState,p.currentUploads)}};p.stripURL=function(a){n.substr(a,0,p.basePath.length)==p.basePath&&(a=n.substr(a,p.basePath.length,null));p.ignoreAnchors&&-1<a.indexOf("#")&&(a=n.substr(a,0,a.indexOf("#")));
return a};p.addEventListener=function(a,b,c){if(null==a)if(null!=b)a=function(a,c,g){b(a,c)};else if(null!=c)a=function(a,b,g){c(a)};else throw new k("No listener provided");p.listeners.push(a);return a};p.removeEventListener=function(a){n.remove(p.listeners,a)};p.clearEventListeners=function(){for(;0<p.listeners.length;)p.listeners.pop()};p.addPreventer=function(a,b,c){if(null==a)if(null!=b)a=function(a,c,g){return b(a,c)};else if(null!=c)a=function(a,b,g){return c(a)};else throw new k("No preventer provided");
p.preventers.push(a);return a};p.removePreventer=function(a){n.remove(p.preventers,a)};p.clearPreventers=function(){for(;0<p.preventers.length;)p.preventers.pop()};p.dispatch=function(a,b,c){for(var d=0,e=p.listeners;d<e.length;){var g=e[d];++d;g(a,b,c)}};p.push=function(a,b,c){var d=p.stripURL(a);null==b&&(b={});for(var e=0,g=p.preventers;e<g.length;){var f=g[e];++e;if(!f(d,b,c))return!1}p.setUploadsForState(d,b,c);window.history.pushState(b,"",a);p.currentPath=d;p.currentState=b;p.currentUploads=
c;p.dispatch(d,b,c);return!0};p.replace=function(a,b,c){var d=p.stripURL(a);null==b&&(b={});for(var e=0,g=p.preventers;e<g.length;){var f=g[e];++e;if(!f(d,b,c))return!1}p.silentReplace(a,b,c);p.dispatch(d,b,c);return!0};p.silentReplace=function(a,b,c){var d=p.stripURL(a);null==b&&(b={});p.setUploadsForState(d,b,c);window.history.replaceState(b,"",a);p.currentPath=d;p.currentState=b;p.currentUploads=c};var id={};f["tink.core._Any.Any_Impl_"]=id;id.__name__=["tink","core","_Any","Any_Impl_"];id.__promote=
function(a){return a};var oc={};f["tink.core._Callback.Callback_Impl_"]=oc;oc.__name__=["tink","core","_Callback","Callback_Impl_"];oc._new=function(a){return a};oc.invoke=function(a,b){a(b)};oc.fromNiladic=function(a){return function(b){a()}};oc.fromMany=function(a){return function(b){for(var c=0;c<a.length;){var d=a[c];++c;d(b)}}};var lb={};f["tink.core._Callback.CallbackLink_Impl_"]=lb;lb.__name__=["tink","core","_Callback","CallbackLink_Impl_"];lb._new=function(a){return a};lb.dissolve=function(a){null!=
a&&a()};lb.toCallback=function(a){return function(b){a()}};lb.fromFunction=function(a){return a};lb.fromMany=function(a){return function(){for(var b=0;b<a.length;){var c=a[b];++b;null!=c&&c()}}};var s={};f["tink.core._Callback.CallbackList_Impl_"]=s;s.__name__=["tink","core","_Callback","CallbackList_Impl_"];s.__properties__={get_length:"get_length"};s._new=function(){return[]};s.get_length=function(a){return a.length};s.add=function(a,b){var c=Array(1);c[0]=b;var d=c;a.push(d);return function(){n.remove(a,
d)&&(d[0]=null);d=null}};s.invoke=function(a,b){for(var c=0,d=a.slice();c<d.length;){var e=d[c];++c;if(null!=e[0])e[0](b)}};s.clear=function(a){var b=0;for(a=a.splice(0,a.length);b<a.length;){var c=a[b];++b;c[0]=null}};var Ya=f["tink.core.Either"]={__ename__:["tink","core","Either"],__constructs__:["Left","Right"]};Ya.Left=function(a){a=["Left",0,a];a.__enum__=Ya;a.toString=w;return a};Ya.Right=function(a){a=["Right",1,a];a.__enum__=Ya;a.toString=w;return a};var z=function(a,b,c){null==a&&(a=500);
this.code=a;this.message=b;this.pos=c};f["tink.core.TypedError"]=z;z.__name__=["tink","core","TypedError"];z.withData=function(a,b,c,d){return z.typed(a,b,c,d)};z.typed=function(a,b,c,d){a=new z(a,b,d);a.data=c;return a};z.catchExceptions=function(a,b){try{return l.Success(a())}catch(c){y.lastException=c;c instanceof k&&(c=c.val);if(t.__instanceof(c,z))return l.Failure(c);var d=c;return l.Failure(null==b?z.withData(null,"Unexpected Error",d,{fileName:"Error.hx",lineNumber:97,className:"tink.core.TypedError",
methodName:"catchExceptions"}):b(d))}};z.reporter=function(a,b,c){return function(d){return z.withData(a,b,d,c)}};z.rethrow=function(a){throw k.wrap(a);};z.prototype={message:null,code:null,data:null,pos:null,printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var a="Error: "+this.message;null!=this.pos&&(a+=" "+this.printPos());return a},throwSelf:function(){throw new k(this);},__class__:z};var h={};f["tink.core._Future.Future_Impl_"]=
h;h.__name__=["tink","core","_Future","Future_Impl_"];h._new=function(a){return a};h.handle=function(a,b){return a(b)};h.gather=function(a){var b=new aa,c=a;return h._new(function(d){null!=c&&(a(X(b,b.trigger)),c=null);return b.future(d)})};h.first=function(a,b){return h.async(function(c){a(c);b(c)})};h.map=function(a,b,c){null==c&&(c=!0);var d=h._new(function(c){return a(function(a){a=b(a);c(a)})});return c?h.gather(d):d};h.flatMap=function(a,b,c){null==c&&(c=!0);a=h.flatten(h.map(a,b,c));return c?
h.gather(a):a};h.merge=function(a,b,c,d){null==d&&(d=!0);return h.flatMap(a,function(a){return h.map(b,function(b){return c(a,b)},!1)},d)};h.flatten=function(a){return h._new(function(b){var c=null;return c=a(function(a){c=a(function(a){b(a)})})})};h.fromTrigger=function(a){return a.future};h.ofMany=function(a,b){null==b&&(b=!0);for(var c=h.sync([]),d=0;d<a.length;){var e=[a[d]];++d;c=h.flatMap(c,function(a){return function(b){return h.map(a[0],function(){return function(a){return b.concat([a])}}(),
!1)}}(e),!1)}return b?h.gather(c):c};h.fromMany=function(a){return h.ofMany(a)};h.lazy=function(a){return h._new(function(b){b(a());return null})};h.sync=function(a){return h._new(function(b){b(a);return null})};h.async=function(a,b){null==b&&(b=!1);if(b)return h.flatten(h.lazy(La.ofFunc(function(){return h.async(a,!1)})));var c=new aa;a(X(c,c.trigger));return c.future};h.or=function(a,b){return h.first(a,b)};h.either=function(a,b){return h.first(h.map(a,Ya.Left,!1),h.map(b,Ya.Right,!1))};h.and=function(a,
b){return h.merge(a,b,function(a,b){return new ua(a,b)})};h._tryFailingFlatMap=function(a,b){return h.flatMap(a,function(a){switch(a[1]){case 0:return b(a[2]);case 1:return h.sync(l.Failure(a[2]))}})};h._tryFlatMap=function(a,b){return h.flatMap(a,function(a){switch(a[1]){case 0:return h.map(b(a[2]),l.Success);case 1:return h.sync(l.Failure(a[2]))}})};h._tryFailingMap=function(a,b){return h.map(a,function(a){return ha.flatMap(a,Za.withSameError(b))})};h._tryMap=function(a,b){return h.map(a,function(a){switch(a[1]){case 0:return l.Success(b(a[2]));
case 1:return l.Failure(a[2])}})};h._flatMap=function(a,b){return h.flatMap(a,b)};h._map=function(a,b){return h.map(a,b)};h.trigger=function(){return new aa};var aa=function(){var a=this;this.list=[];this.future=h._new(function(b){return null==a.list?(b(a.result),null):s.add(a.list,b)})};f["tink.core.FutureTrigger"]=aa;aa.__name__=["tink","core","FutureTrigger"];aa.prototype={result:null,list:null,future:null,asFuture:function(){return this.future},trigger:function(a){if(null==this.list)return!1;
var b=this.list;this.list=null;this.result=a;s.invoke(b,a);s.clear(b);return!0},__class__:aa};var La={};f["tink.core._Lazy.Lazy_Impl_"]=La;La.__name__=["tink","core","_Lazy","Lazy_Impl_"];La._new=function(a){return a};La.get=function(a){return a()};La.ofFunc=function(a){var b=null;return function(){null!=a&&(b=a(),a=null);return b}};La.map=function(a,b){return La.ofFunc(function(){return b(a())})};La.flatMap=function(a,b){return La.ofFunc(function(){return b(a())()})};La.ofConst=function(a){return function(){return a}};
var J=f["tink.core.Noise"]={__ename__:["tink","core","Noise"],__constructs__:["Noise"]};J.Noise=["Noise",0];J.Noise.toString=w;J.Noise.__enum__=J;var l=f["tink.core.Outcome"]={__ename__:["tink","core","Outcome"],__constructs__:["Success","Failure"]};l.Success=function(a){a=["Success",0,a];a.__enum__=l;a.toString=w;return a};l.Failure=function(a){a=["Failure",1,a];a.__enum__=l;a.toString=w;return a};var ha=function(){};f["tink.core.OutcomeTools"]=ha;ha.__name__=["tink","core","OutcomeTools"];ha.sure=
function(a){switch(a[1]){case 0:return a[2];case 1:a=a[2];if(t.__instanceof(a,z))return a.throwSelf();throw new k(a);}};ha.toOption=function(a){switch(a[1]){case 0:return Va.Some(a[2]);case 1:return Va.None}};ha.toOutcome=function(a,b){switch(a[1]){case 0:return l.Success(a[2]);case 1:return l.Failure(new z(404,"Some value expected but none found in "+b.fileName+"@line "+b.lineNumber,{fileName:"Outcome.hx",lineNumber:37,className:"tink.core.OutcomeTools",methodName:"toOutcome"}))}};ha.orNull=function(a){switch(a[1]){case 0:return a[2];
case 1:return null}};ha.orUse=function(a,b){switch(a[1]){case 0:return a[2];case 1:return b()}};ha.orTry=function(a,b){switch(a[1]){case 0:return a;case 1:return b()}};ha.equals=function(a,b){switch(a[1]){case 0:return a[2]==b;case 1:return!1}};ha.map=function(a,b){switch(a[1]){case 0:return l.Success(b(a[2]));case 1:return l.Failure(a[2])}};ha.isSuccess=function(a){return 0==a[1]?!0:!1};ha.flatMap=function(a,b){return Za.apply(b,a)};ha.attempt=function(a,b){try{return l.Success(a())}catch(c){return y.lastException=
c,c instanceof k&&(c=c.val),l.Failure(b(c))}};var Za={};f["tink.core._Outcome.OutcomeMapper_Impl_"]=Za;Za.__name__=["tink","core","_Outcome","OutcomeMapper_Impl_"];Za._new=function(a){return{f:a}};Za.apply=function(a,b){return a.f(b)};Za.withSameError=function(a){return Za._new(function(b){switch(b[1]){case 0:return a(b[2]);case 1:return l.Failure(b[2])}})};Za.withEitherError=function(a){return Za._new(function(b){switch(b[1]){case 0:b=a(b[2]);switch(b[1]){case 0:return l.Success(b[2]);case 1:return l.Failure(Ya.Right(b[2]))}break;
case 1:return l.Failure(Ya.Left(b[2]))}})};var mb={};f["tink.core._Pair.Pair_Impl_"]=mb;mb.__name__=["tink","core","_Pair","Pair_Impl_"];mb.__properties__={get_b:"get_b",get_a:"get_a"};mb._new=function(a,b){return new ua(a,b)};mb.get_a=function(a){return a.a};mb.get_b=function(a){return a.b};mb.toBool=function(a){return null!=a};mb.isNil=function(a){return null==a};mb.nil=function(){return null};var ua=function(a,b){this.a=a;this.b=b};f["tink.core.MPair"]=ua;ua.__name__=["tink","core","MPair"];ua.prototype=
{a:null,b:null,__class__:ua};var tb={};f["tink.core._Ref.Ref_Impl_"]=tb;tb.__name__=["tink","core","_Ref","Ref_Impl_"];tb.__properties__={set_value:"set_value",get_value:"get_value"};tb._new=function(){return Array(1)};tb.get_value=function(a){return a[0]};tb.set_value=function(a,b){return a[0]=b};tb.toString=function(a){return"@["+q.string(a[0])+"]"};tb.to=function(a){var b=Array(1);b[0]=a;return b};var ba={};f["tink.core._Signal.Signal_Impl_"]=ba;ba.__name__=["tink","core","_Signal","Signal_Impl_"];
ba._new=function(a){return a};ba.handle=function(a,b){return a(b)};ba.map=function(a,b,c){null==c&&(c=!0);var d=function(c){return a(function(a){a=b(a);c(a)})};return c?ba.gather(d):d};ba.flatMap=function(a,b,c){null==c&&(c=!0);var d=function(c){return a(function(a){b(a)(c)})};return c?ba.gather(d):d};ba.filter=function(a,b,c){null==c&&(c=!0);var d=function(c){return a(function(a){b(a)&&c(a)})};return c?ba.gather(d):d};ba.join=function(a,b,c){null==c&&(c=!0);var d=function(c){return lb.fromMany([a(c),
b(c)])};return c?ba.gather(d):d};ba.next=function(a){var b=new aa;a(lb.toCallback(a(X(b,b.trigger))));return b.future};ba.noise=function(a){return ba.map(a,function(a){return J.Noise})};ba.gather=function(a){var b=ba.trigger();a(function(a){s.invoke(b,a)});return ub.asSignal(b)};ba.trigger=function(){return[]};ba.ofClassical=function(a,b,c){null==c&&(c=!0);var d=function(c){var d=function(a){c(a)};a(d);return function(){b(d)}};return c?ba.gather(d):d};var ub={};f["tink.core._Signal.SignalTrigger_Impl_"]=
ub;ub.__name__=["tink","core","_Signal","SignalTrigger_Impl_"];ub._new=function(){return[]};ub.trigger=function(a,b){s.invoke(a,b)};ub.getLength=function(a){return a.length};ub.clear=function(a){s.clear(a)};ub.asSignal=function(a){return function(b){return s.add(a,b)}};var qd=function(){};f["ufront.MVC"]=qd;qd.__name__=["ufront","MVC"];var Y=f["ufront.api.ApiReturnType"]={__ename__:["ufront","api","ApiReturnType"],__constructs__:["ARTFuture","ARTOutcome","ARTVoid"]};Y.ARTFuture=["ARTFuture",0];Y.ARTFuture.toString=
w;Y.ARTFuture.__enum__=Y;Y.ARTOutcome=["ARTOutcome",1];Y.ARTOutcome.toString=w;Y.ARTOutcome.__enum__=Y;Y.ARTVoid=["ARTVoid",2];Y.ARTVoid.toString=w;Y.ARTVoid.__enum__=Y;var jd=function(){};f["ufront.api.RequireAsyncCallbackApi"]=jd;jd.__name__=["ufront","api","RequireAsyncCallbackApi"];var cd=function(a,b){this.cnx=$a.urlConnect(a,b)};f["ufront.api.UFApiClientContext"]=cd;cd.__name__=["ufront","api","UFApiClientContext"];cd.prototype={cnx:null,__class__:cd};var vb=function(){};f["ufront.api.UFApiContext"]=
vb;vb.__name__=["ufront","api","UFApiContext"];vb.getApisInContext=function(a){var b=[],c=N.getType(a);if(null!=c.apiList)for(a=0,c=c.apiList;a<c.length;){var d=c[a];++a;d=v.resolveClass(d);null!=d&&b.push(d)}return b};vb.prototype={injector:null,__class__:vb};var pc=function(a){this.cnx=a};f["ufront.api.UFCallbackApi"]=pc;pc.__name__=["ufront","api","UFCallbackApi"];pc.getCallbackApi=function(a){a=N.getType(a);return null!=a.callbackApi&&(a=a.callbackApi[0],null!=a)?v.resolveClass(a):null};pc.prototype=
{className:null,cnx:null,_makeApiCall:function(a,b,c,d,e){null==this.className&&(this.className=v.getClassName(t.getClass(this)));var g=""+this.className+"."+a+"("+b.join(",")+")";a=this.cnx.resolve(this.className).resolve(a);null!=e&&a.setErrorHandler(function(a){e(a)});a.call(b,function(a){if(0!=(c&1<<Y.ARTVoid[1]))d(null);else if(0!=(c&1<<Y.ARTOutcome[1]))switch(a[1]){case 0:d(a[2]);break;case 1:e(P.RApiFailure(g,a[2]))}else d(a)})},__class__:pc};var na=function(){this.pathToContentDir=null;this.requestMiddleware=
[];this.requestHandlers=[];this.responseMiddleware=[];this.logHandlers=[];this.errorHandlers=[];this.urlFilters=[];this.messages=[];this.injector=new ib;this.injector.mapType("minject.Injector",null).toValue(this.injector)};f["ufront.app.HttpApplication"]=na;na.__name__=["ufront","app","HttpApplication"];na.prototype={injector:null,requestMiddleware:null,requestHandlers:null,responseMiddleware:null,logHandlers:null,errorHandlers:null,urlFilters:null,originalTrace:null,messages:null,modulesReady:null,
currentModule:null,pathToContentDir:null,init:function(){var a=this;this.originalTrace=R.trace;R.trace=function(b,c){a.messages.push({msg:b,pos:c,type:K.MTrace})};if(null==this.modulesReady){for(var b=[],c=0,d=this.getModulesThatRequireInit();c<d.length;){var e=d[c];++c;b.push(e.init(this))}this.modulesReady=h.map(h.ofMany(b),function(a){for(var b=0;b<a.length;){var c=a[b];++b;switch(c[1]){case 1:return l.Failure(c[2])}}return l.Success(J.Noise)})}return this.modulesReady},dispose:function(){for(var a=
this,b=[],c=0,d=this.getModulesThatRequireInit();c<d.length;){var e=d[c];++c;b.push(e.dispose(this))}return h.map(h.ofMany(b),function(b){a.modulesReady=null;for(var c=0;c<b.length;){var d=b[c];++c;switch(d[1]){case 1:return d}}R.trace=a.originalTrace;return l.Success(J.Noise)})},getModulesThatRequireInit:function(){for(var a=[this.requestMiddleware,this.requestHandlers,this.responseMiddleware,this.logHandlers,this.errorHandlers],b=[],c=0;c<a.length;){var d=a[c];++c;for(var e=0;e<d.length;){var g=
d[e];++e;t.__instanceof(g,wb)&&b.push(g)}}return b},addRequestMiddleware:function(a,b,c){null==c&&(c=!1);return this.addModule(this.requestMiddleware,a,b,c)},addRequestHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.requestHandlers,a,b,c)},addErrorHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.errorHandlers,a,b,c)},addResponseMiddleware:function(a,b,c){null==c&&(c=!1);return this.addModule(this.responseMiddleware,a,b,!c)},addMiddleware:function(a,b,c){null==
c&&(c=!1);this.addModule(this.requestMiddleware,a,b,c);this.addModule(this.responseMiddleware,a,b,!c);return this},addLogHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.logHandlers,a,b,c)},addModule:function(a,b,c,d){null!=b&&(this.injector.injectInto(b),d?a.unshift(b):a.push(b));if(null!=c)for(b=$(c)();b.hasNext();)c=b.next(),this.injector.injectInto(c),d?a.unshift(c):a.push(c);return this},execute:function(a){var b=this;a.setUrlFilters(this.urlFilters);var c=this.requestMiddleware.map(function(a){var b=
X(a,a.requestIn);return new ua(function(a){return b(a)},{methodName:"requestIn",lineNumber:-1,fileName:"",customParams:[],className:v.getClassName(null==a?null:t.getClass(a))})}),d=this.requestHandlers.map(function(a){var b=X(a,a.handleRequest);return new ua(function(a){return b(a)},{methodName:"handleRequest",lineNumber:-1,fileName:"",customParams:[],className:v.getClassName(null==a?null:t.getClass(a))})}),e=this.responseMiddleware.map(function(a){var b=X(a,a.responseOut);return new ua(function(a){return b(a)},
{methodName:"requestOut",lineNumber:-1,fileName:"",customParams:[],className:v.getClassName(null==a?null:t.getClass(a))})}),g=this.logHandlers.map(function(a){var c=X(a,a.log),d=b.messages;return new ua(function(a){return c(a,d)},{methodName:"log",lineNumber:-1,fileName:"",customParams:["httpContext","appMessages"],className:v.getClassName(null==a?null:t.getClass(a))})});a.getRequestUri();var f=h._tryFailingFlatMap(this.init(),function(f){return h._tryFailingFlatMap(b.executeModules(c,a,E.CRequestMiddlewareComplete),
function(c){return h._tryFailingFlatMap(b.executeModules(d,a,E.CRequestHandlersComplete),function(c){return h._tryFailingFlatMap(b.executeModules(e,a,E.CResponseMiddlewareComplete),function(c){return h._tryFailingFlatMap(b.executeModules(g,a,E.CLogHandlersComplete),function(c){return h._tryMap(b.clearMessages(),function(c){return b.flush(a)})})})})})});f(function(b){a.getRequestUri()});return f},logModule:function(a,b){},executeModules:function(a,b,c){var d=this,e=new aa;q.string(c);var g=null,g=
function(){var f=a.shift();if(null!=c&&0!=(b.completion&1<<c[1])){if(q.string(c),f=l.Success(J.Noise),null!=e.list){var u=e.list;e.list=null;e.result=f;s.invoke(u,f);s.clear(u)}}else if(null==f)q.string(c),null!=c&&(b.completion|=1<<c[1]),f=l.Success(J.Noise),null!=e.list&&(u=e.list,e.list=null,e.result=f,s.invoke(u,f),s.clear(u));else{u=f.a;d.currentModule=f.b;var m;try{m=u(b)}catch(n){y.lastException=n,n instanceof k&&(n=n.val),b.messages.push({msg:"Caught error "+q.string(n)+" while executing module "+
d.currentModule.className+"."+d.currentModule.methodName+" in HttpApplication.executeModules()",pos:{fileName:"HttpApplication.hx",lineNumber:422,className:"ufront.app.HttpApplication",methodName:"executeModules"},type:K.MLog}),m=h.sync(l.Failure(r.wrap(n,null,d.currentModule)))}m(function(a){switch(a[1]){case 0:g();break;case 1:d.handleError(a[2],b,e)}})}};g();return e.future},handleError:function(a,b,c){var d=this;if(0==(b.completion&1<<E.CErrorHandlersTriggered[1])){q.string(a);b.completion|=1<<
E.CErrorHandlersTriggered[1];var e=this.errorHandlers.map(function(b){var c={methodName:"handleError",lineNumber:-1,fileName:"",customParams:[a.toString()],className:v.getClassName(null==b?null:t.getClass(b))},d=X(b,b.handleError);return new ua(function(b){return d(a,b)},c)}),g=this.responseMiddleware.map(function(a){var b=X(a,a.responseOut);return new ua(function(a){return b(a)},{methodName:"requestOut",lineNumber:-1,fileName:"",customParams:[],className:v.getClassName(null==a?null:t.getClass(a))})}),
f=this.logHandlers.map(function(a){var b=X(a,a.log),c=d.messages;return new ua(function(a){return b(a,c)},{methodName:"log",lineNumber:-1,fileName:"",customParams:["httpContext","appMessages"],className:v.getClassName(null==a?null:t.getClass(a))})});h._tryFailingFlatMap(h._tryFailingFlatMap(this.executeModules(e,b,E.CErrorHandlersComplete),function(a){b.completion|=1<<E.CRequestHandlersComplete[1];return x.success()}),function(a){return h._tryFailingFlatMap(d.executeModules(g,b,E.CResponseMiddlewareComplete),
function(a){return h._tryFailingFlatMap(d.executeModules(f,b,E.CLogHandlersComplete),function(a){return h._tryMap(d.clearMessages(),function(a){return d.flush(b)})})})})(function(b){q.string(a);b=l.Failure(a);if(null!=c.list){var d=c.list;c.list=null;c.result=b;s.invoke(d,b);s.clear(d)}})}else throw new k(""+("You had an error after your error handler had already run.  Last active module: "+this.currentModule.className+"."+this.currentModule.methodName)+" \nError: "+q.string(a)+" \nError Data: "+
q.string(a.data));},clearMessages:function(){for(var a=0,b=this.messages.length;a<b;)a++,this.messages.pop();return x.success()},flush:function(a){0==(a.completion&1<<E.CFlushComplete[1])&&(a.response.flush(),a.completion|=1<<E.CFlushComplete[1]);return J.Noise},executeRequest:function(){var a=null!=this.pathToContentDir?nb.createContext(null,null,this.injector,null,null,this.urlFilters,this.pathToContentDir):nb.createContext(null,null,this.injector,null,null,this.urlFilters);return this.execute(a)},
useModNekoCache:function(){},addUrlFilter:function(a){r.throwIfNull(a,"filter",{fileName:"HttpApplication.hx",lineNumber:619,className:"ufront.app.HttpApplication",methodName:"addUrlFilter"});this.urlFilters.push(a)},clearUrlFilters:function(){this.urlFilters=[]},setContentDirectory:function(a){this.pathToContentDir=a},__class__:na};var xa=function(a){na.call(this);this.configuration=dd.get();for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;var e=F.field(a,d);this.configuration[d]=e}this.mvcHandler=
new Nb(this.configuration.indexController);for(a=$(this.configuration.controllers)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b)._toClass(b);for(a=$(this.configuration.apis)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b).asSingleton(),b=Ta.getAsyncApi(b),null!=b&&this.injector.mapRuntimeTypeOf(b).asSingleton();null!=this.configuration.remotingPath&&(a=ab.urlConnect(this.configuration.remotingPath),b=$a.urlConnect(this.configuration.remotingPath),this.injector.mapType("haxe.remoting.Connection",
null,null).toValue(a),this.injector.mapType("haxe.remoting.AsyncConnection",null,null).toValue(b));this.addModule(this.requestMiddleware,null,this.configuration.requestMiddleware,!1);this.addModule(this.requestHandlers,null,[this.mvcHandler],!1);this.addModule(this.responseMiddleware,null,this.configuration.responseMiddleware,!0);this.addModule(this.errorHandlers,null,this.configuration.errorHandlers,!1);this.configuration.disableBrowserTrace||(a=new Ma,this.addModule(this.logHandlers,a,null,!1));
a=this.configuration.basePath;L.endsWith(a,"/")&&(a=n.substr(a,0,a.length-1));L.startsWith(a,"/")&&(a=n.substr(a,1,null));0<a.length&&na.prototype.addUrlFilter.call(this,new Ob(a));!0!=this.configuration.urlRewrite&&na.prototype.addUrlFilter.call(this,new Pb);null!=this.configuration.sessionImplementation&&(this.injector.mapType("ufront.web.session.UFHttpSession",null,null)._toClass(this.configuration.sessionImplementation),this.injector.mapRuntimeTypeOf(this.configuration.sessionImplementation)._toClass(this.configuration.sessionImplementation));
null!=this.configuration.authImplementation&&(this.injector.mapType("ufront.auth.UFAuthHandler",null,null)._toClass(this.configuration.authImplementation),this.injector.mapRuntimeTypeOf(this.configuration.authImplementation)._toClass(this.configuration.authImplementation));null!=this.configuration.defaultLayout&&this.injector.mapType("String","defaultLayout",null).toValue(this.configuration.defaultLayout);if(null!=this.configuration.viewEngine){this.injector.mapType("String","viewPath",null).toValue(this.configuration.viewPath);
this.injector.mapType("ufront.view.UFViewEngine",null,null)._toSingleton(this.configuration.viewEngine);this.injector.mapRuntimeTypeOf(this.configuration.viewEngine).toValue(this.injector.getValueForType("ufront.view.UFViewEngine",null));try{this.viewEngine=this.injector.getValueForType("ufront.view.UFViewEngine",null);a=0;for(var g=this.configuration.templatingEngines;a<g.length;){var f=g[a];++a;this.viewEngine.engines.push(f)}}catch(h){y.lastException=h,h instanceof k&&(h=h.val),R.trace("Failed to load view engine "+
v.getClassName(this.configuration.viewEngine)+": "+q.string(h),{fileName:"ClientJsApplication.hx",lineNumber:161,className:"ufront.app.ClientJsApplication",methodName:"new"})}}if(null!=this.configuration.clientActions)for(g=$(this.configuration.clientActions)();g.hasNext();)f=g.next(),this.registerAction(f);xa._currentApps.push(this)};f["ufront.app.ClientJsApplication"]=xa;xa.__name__=["ufront","app","ClientJsApplication"];xa.ufExecuteAction=md.ufExecuteAction=function(a,b){for(var c=0,d=xa._currentApps;c<
d.length;){var e=d[c];++c;e.executeAction(a,b)}};xa.ufExecuteSerializedAction=md.ufExecuteSerializedAction=function(a,b){var c=null==b?null:W.run(b);xa.ufExecuteAction(a,c)};xa.__super__=na;xa.prototype=M(na.prototype,{configuration:null,mvcHandler:null,viewEngine:null,currentContext:null,listen:function(){var a=this;p.init(null,!1);p.addEventListener(null,function(b,c){a.executeRequest()});return this},executeRequest:function(){this.loadCurrentContext();return this.execute(this.get_currentContext())},
dispose:function(){n.remove(xa._currentApps,this);return na.prototype.dispose.call(this)},registerAction:function(a){this.injector.mapRuntimeTypeOf(a).asSingleton();return this},executeAction:function(a,b){if(this.injector.hasMappingForType(a,null))this.injector.getValueForType(a).execute(this.get_currentContext(),b);else throw new k("UFClientAction "+a+" was not registered with the ClientJsApplication.");},get_currentContext:function(){null==this.currentContext&&this.loadCurrentContext();return this.currentContext},
loadCurrentContext:function(){this.currentContext=nb.createContext(null,null,this.injector,null,null,this.urlFilters)},__class__:xa,__properties__:{get_currentContext:"get_currentContext"}});var wb=function(){};f["ufront.app.UFInitRequired"]=wb;wb.__name__=["ufront","app","UFInitRequired"];wb.prototype={init:null,dispose:null,__class__:wb};var bb=function(){};f["ufront.app.UFLogHandler"]=bb;bb.__name__=["ufront","app","UFLogHandler"];bb.prototype={log:null,__class__:bb};var qc=function(){};f["ufront.app.UFResponseMiddleware"]=
qc;qc.__name__=["ufront","app","UFResponseMiddleware"];qc.prototype={responseOut:null,__class__:qc};var Qb=function(){};f["ufront.app.UFRequestMiddleware"]=Qb;Qb.__name__=["ufront","app","UFRequestMiddleware"];Qb.prototype={requestIn:null,__class__:Qb};var Rb=function(){};f["ufront.app.UFMiddleware"]=Rb;Rb.__name__=["ufront","app","UFMiddleware"];Rb.__interfaces__=[qc,Qb];var Sb=function(){};f["ufront.app.UFRequestHandler"]=Sb;Sb.__name__=["ufront","app","UFRequestHandler"];Sb.prototype={handleRequest:null,
toString:null,__class__:Sb};var Jc=function(a){this.appTemplatingEngines=new ea;this.firstRun=!0;na.call(this);this.configuration=ed.get();for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;var e=F.field(a,d);this.configuration[d]=e}this.mvcHandler=new Nb(this.configuration.indexController);this.remotingHandler=new rc;if(null!=this.configuration.remotingApi)for(a=this.remotingHandler,b=this.configuration.remotingApi,a.apiContexts.push(b),b=$(vb.getApisInContext(b))();b.hasNext();)c=b.next(),a.apis.push(c);
for(a=$(this.configuration.controllers)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b)._toClass(b);this.addModule(this.requestMiddleware,null,this.configuration.requestMiddleware,!1);this.addModule(this.requestHandlers,null,[this.remotingHandler,this.mvcHandler],!1);this.addModule(this.responseMiddleware,null,this.configuration.responseMiddleware,!0);this.addModule(this.errorHandlers,null,this.configuration.errorHandlers,!1);this.configuration.disableServerTrace||(a=new Na,this.addModule(this.logHandlers,
a,null,!1));this.configuration.disableBrowserTrace||(a=new Ma,this.addModule(this.logHandlers,a,null,!1),a=new xb,this.addModule(this.logHandlers,a,null,!1));null!=this.configuration.logFile&&(a=new Oa(this.configuration.logFile),this.addModule(this.logHandlers,a,null,!1));a=this.configuration.basePath;L.endsWith(a,"/")&&(a=n.substr(a,0,a.length-1));L.startsWith(a,"/")&&(a=n.substr(a,1,null));0<a.length&&na.prototype.addUrlFilter.call(this,new Ob(a));!0!=this.configuration.urlRewrite&&na.prototype.addUrlFilter.call(this,
new Pb);null!=this.configuration.sessionImplementation&&(this.injector.mapType("ufront.web.session.UFHttpSession",null,null)._toClass(this.configuration.sessionImplementation),this.injector.mapRuntimeTypeOf(this.configuration.sessionImplementation)._toClass(this.configuration.sessionImplementation));null!=this.configuration.authImplementation&&(this.injector.mapType("ufront.auth.UFAuthHandler",null,null)._toClass(this.configuration.authImplementation),this.injector.mapRuntimeTypeOf(this.configuration.authImplementation)._toClass(this.configuration.authImplementation));
null!=this.configuration.viewEngine&&(this.injector.mapType("String","viewPath",null).toValue(this.configuration.viewPath),this.injector.mapType("ufront.view.UFViewEngine",null,null)._toSingleton(this.configuration.viewEngine));null!=this.configuration.contentDirectory&&this.setContentDirectory(this.configuration.contentDirectory);null!=this.configuration.defaultLayout&&this.injector.mapType("String","defaultLayout",null).toValue(this.configuration.defaultLayout);a=0;for(b=this.configuration.templatingEngines;a<
b.length;)c=b[a],++a,this.addTemplatingEngine(c)};f["ufront.app.UfrontApplication"]=Jc;Jc.__name__=["ufront","app","UfrontApplication"];Jc.__super__=na;Jc.prototype=M(na.prototype,{configuration:null,mvcHandler:null,remotingHandler:null,viewEngine:null,execute:function(a){r.throwIfNull(a,"httpContext",{fileName:"UfrontApplication.hx",lineNumber:173,className:"ufront.app.UfrontApplication",methodName:"execute"});this.firstRun&&this.initOnFirstExecute(a);for(var b=$(this.configuration.apis)();b.hasNext();){var c=
b.next();a.injector.mapRuntimeTypeOf(c)._toSingleton(c);c=Ta.getAsyncApi(c);null!=c&&a.injector.mapRuntimeTypeOf(c)._toSingleton(c)}return na.prototype.execute.call(this,a)},firstRun:null,initOnFirstExecute:function(a){this.firstRun=!1;this.injector.mapType("String","scriptDirectory",null).toValue(a.request.get_scriptDirectory());this.injector.mapType("String","contentDirectory",null).toValue(a.get_contentDirectory());if(null!=this.configuration.viewEngine)try{this.viewEngine=this.injector.getValueForType("ufront.view.UFViewEngine",
null);for(var b=this.appTemplatingEngines.h;null!=b;){var c=b.item,b=b.next;this.viewEngine.engines.push(c)}}catch(d){y.lastException=d,d instanceof k&&(d=d.val),b="Failed to load view engine "+v.getClassName(this.configuration.viewEngine)+": ",a.messages.push({msg:b+q.string(d),pos:{fileName:"UfrontApplication.hx",lineNumber:206,className:"ufront.app.UfrontApplication",methodName:"initOnFirstExecute"},type:K.MWarning})}},loadApiContext:function(a){var b=this.remotingHandler;b.apiContexts.push(a);
for(a=$(vb.getApisInContext(a))();a.hasNext();){var c=a.next();b.apis.push(c)}return this},appTemplatingEngines:null,addTemplatingEngine:function(a){this.appTemplatingEngines.add(a);null!=this.viewEngine&&this.viewEngine.engines.push(a);return this},__class__:Jc});var dd=function(){};f["ufront.app.DefaultUfrontClientConfiguration"]=dd;dd.__name__=["ufront","app","DefaultUfrontClientConfiguration"];dd.get=function(){return{indexController:ob,urlRewrite:!0,basePath:"/",remotingPath:"/",disableBrowserTrace:!1,
controllers:da.get("null,true,ufront.web.Controller"),apis:da.get("null,true,ufront.api.UFApi"),clientActions:da.get("null,true,ufront.web.client.UFClientAction"),viewEngine:Tb,templatingEngines:ma.all,viewPath:"/view/",defaultLayout:null,sessionImplementation:Ub,requestMiddleware:[new sc],responseMiddleware:[],errorHandlers:[new pb],authImplementation:Vb}};var ed=function(){};f["ufront.app.DefaultUfrontConfiguration"]=ed;ed.__name__=["ufront","app","DefaultUfrontConfiguration"];ed.get=function(){var a=
new yb,b=new Wb;return{indexController:ob,remotingApi:null,urlRewrite:!0,basePath:"/",contentDirectory:"../uf-content",logFile:null,disableBrowserTrace:!1,disableServerTrace:!1,controllers:da.get("null,true,ufront.web.Controller"),apis:da.get("null,true,ufront.api.UFApi"),viewEngine:Xb,templatingEngines:ma.all,viewPath:"view/",defaultLayout:null,sessionImplementation:va,requestMiddleware:[b,a],responseMiddleware:[a,b],errorHandlers:[new pb],authImplementation:tc}};var ob=function(){};f["ufront.app.DefaultUfrontController"]=
ob;ob.__name__=["ufront","app","DefaultUfrontController"];ob.__super__=Ua;ob.prototype=M(Ua.prototype,{showMessage:function(){var a={fileName:"UfrontConfiguration.hx",lineNumber:279,className:"ufront.app.DefaultUfrontController",methodName:"showMessage"};null!=this.context?this.context.messages.push({msg:"Your Ufront App is almost ready.",pos:a,type:K.MTrace}):R.trace("Your Ufront App is almost ready.",a);return'<!DOCTYPE html>\n<html>\n<head>\n\t<title>New Ufront App</title>\n\t<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />\n</head>\n<body style="padding-top: 30px;">\n\t<div class="container">\n\t\t<div class="jumbotron">\n\t\t\t<h1>Almost done!</h1>\n\t\t\t<p>Your new Ufront App is almost ready to go. You will need to add some routes and let ufront know about them:</p>\n\t\t\t<pre><code>\n\tapp = new UfrontApplication({\n\t\tindexController: MySiteController,\n\t});\n\tapp.executeRequest();\n\t\t\t</code></pre>\n\t\t\t<p>See the Getting Started tutorial for more information.</p>\n\t\t</div>\n\t</div>\n</body>\n</html>\n'},
execute:function(){this.context.actionContext.get_uriParts();this.context.request.get_params();this.context.request.get_httpMethod();this.context.actionContext.controller=this;this.context.actionContext.action="execute";try{this.context.actionContext.action="showMessage";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,0);var a=N.getFields(ob).showMessage.wrapResult[0],b=this.wrapResult(this.showMessage(),a);this.setContextActionResultWhenFinished(b);return b}catch(c){return y.lastException=
c,c instanceof k&&(c=c.val),x.asSurpriseError(c,"Uncaught error while executing "+q.string(this.context.actionContext.controller)+"."+this.context.actionContext.action+"()",{fileName:"UfrontConfiguration.hx",lineNumber:276,className:"ufront.app.DefaultUfrontController",methodName:"execute"})}},__class__:ob});var Aa=f["ufront.auth.AuthError"]={__ename__:["ufront","auth","AuthError"],__constructs__:["ANotLoggedIn","ALoginFailed","ANotLoggedInAs","ANoPermission"]};Aa.ANotLoggedIn=["ANotLoggedIn",0];
Aa.ANotLoggedIn.toString=w;Aa.ANotLoggedIn.__enum__=Aa;Aa.ALoginFailed=function(a){a=["ALoginFailed",1,a];a.__enum__=Aa;a.toString=w;return a};Aa.ANotLoggedInAs=function(a){a=["ANotLoggedInAs",2,a];a.__enum__=Aa;a.toString=w;return a};Aa.ANoPermission=function(a){a=["ANoPermission",3,a];a.__enum__=Aa;a.toString=w;return a};var Yb=function(){};f["ufront.auth.UFAuthHandler"]=Yb;Yb.__name__=["ufront","auth","UFAuthHandler"];Yb.prototype={get_currentUser:null,isLoggedIn:null,requireLogin:null,isLoggedInAs:null,
requireLoginAs:null,hasPermission:null,hasPermissions:null,requirePermission:null,requirePermissions:null,toString:null,__class__:Yb,__properties__:{get_currentUser:"get_currentUser"}};var Vb=function(){};f["ufront.auth.NobodyAuthHandler"]=Vb;Vb.__name__=["ufront","auth","NobodyAuthHandler"];Vb.__interfaces__=[Yb];Vb.prototype={isLoggedIn:function(){return!1},requireLogin:function(){throw new k(r.authError(Aa.ANotLoggedIn,{fileName:"NobodyAuthHandler.hx",lineNumber:20,className:"ufront.auth.NobodyAuthHandler",
methodName:"requireLogin"}));},isLoggedInAs:function(a){return!1},requireLoginAs:function(a){throw new k(r.authError(Aa.ANotLoggedInAs(a),{fileName:"NobodyAuthHandler.hx",lineNumber:24,className:"ufront.auth.NobodyAuthHandler",methodName:"requireLoginAs"}));},hasPermission:function(a){return!1},hasPermissions:function(a){return!1},requirePermission:function(a){throw new k(r.authError(Aa.ANoPermission(a),{fileName:"NobodyAuthHandler.hx",lineNumber:30,className:"ufront.auth.NobodyAuthHandler",methodName:"requirePermission"}));
},requirePermissions:function(a){for(a=$(a)();a.hasNext();)throw a=a.next(),new k(r.authError(Aa.ANoPermission(a),{fileName:"NobodyAuthHandler.hx",lineNumber:32,className:"ufront.auth.NobodyAuthHandler",methodName:"requirePermissions"}));},toString:function(){return"NobodyAuthHandler"},get_currentUser:function(){return null},__class__:Vb,__properties__:{get_currentUser:"get_currentUser"}};var Kc=function(){};f["ufront.auth.UFAuthAdapter"]=Kc;Kc.__name__=["ufront","auth","UFAuthAdapter"];Kc.prototype=
{authenticate:null,__class__:Kc};var Lc=function(){};f["ufront.auth.UFAuthAdapterSync"]=Lc;Lc.__name__=["ufront","auth","UFAuthAdapterSync"];Lc.prototype={authenticateSync:null,__class__:Lc};var uc=function(){};f["ufront.auth.UFAuthUser"]=uc;uc.__name__=["ufront","auth","UFAuthUser"];uc.prototype={get_userID:null,can:null,userID:null,__class__:uc,__properties__:{get_userID:"get_userID"}};var tc=function(){};f["ufront.auth.YesBossAuthHandler"]=tc;tc.__name__=["ufront","auth","YesBossAuthHandler"];
tc.__interfaces__=[Yb];tc.prototype={isLoggedIn:function(){return!0},requireLogin:function(){},isLoggedInAs:function(a){return!0},requireLoginAs:function(a){},hasPermission:function(a){return!0},hasPermissions:function(a){return!0},requirePermission:function(a){},requirePermissions:function(a){},toString:function(){return"YesBossAuthHandler"},get_currentUser:function(){return new vc},__class__:tc,__properties__:{get_currentUser:"get_currentUser"}};var vc=function(){};f["ufront.auth.BossUser"]=vc;
vc.__name__=["ufront","auth","BossUser"];vc.__interfaces__=[uc];vc.prototype={userID:null,can:function(a,b){return!0},get_userID:function(){return"The Boss"},__class__:vc,__properties__:{get_userID:"get_userID"}};var wc=function(){};f["ufront.cache.UFCacheConnectionSync"]=wc;wc.__name__=["ufront","cache","UFCacheConnectionSync"];wc.prototype={getNamespaceSync:null,__class__:wc};var xc=function(){};f["ufront.cache.UFCacheConnection"]=xc;xc.__name__=["ufront","cache","UFCacheConnection"];xc.prototype=
{getNamespace:null,__class__:xc};var Mc=function(){this.caches=new B};f["ufront.cache.MemoryCacheConnection"]=Mc;Mc.__name__=["ufront","cache","MemoryCacheConnection"];Mc.__interfaces__=[wc,xc];Mc.prototype={caches:null,getNamespaceSync:function(a){var b=this.caches;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=this.caches,null!=m[a]?b.getReserved(a):b.h[a];var b=this.caches,c=new yc;null!=m[a]?b.setReserved(a,c):b.h[a]=c;return c},getNamespace:function(a){return this.getNamespaceSync(a)},
__class__:Mc};var zc=function(){};f["ufront.cache.UFCacheSync"]=zc;zc.__name__=["ufront","cache","UFCacheSync"];zc.prototype={getSync:null,setSync:null,getOrSetSync:null,removeSync:null,clearSync:null,__class__:zc};var Ac=function(){};f["ufront.cache.UFCache"]=Ac;Ac.__name__=["ufront","cache","UFCache"];Ac.prototype={get:null,set:null,getOrSet:null,remove:null,clear:null,__class__:Ac};var yc=function(){this.map=new B};f["ufront.cache.MemoryCache"]=yc;yc.__name__=["ufront","cache","MemoryCache"];yc.__interfaces__=
[zc,Ac];yc.prototype={map:null,getSync:function(a){var b=this.map;return(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))?(b=this.map,l.Success(null!=m[a]?b.getReserved(a):b.h[a])):l.Failure(Pa.ENotInCache)},setSync:function(a,b){var c=this.map;null!=m[a]?c.setReserved(a,b):c.h[a]=b;return l.Success(b)},getOrSetSync:function(a,b){var c=this.map;if(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a))return c=this.map,l.Success(null!=m[a]?c.getReserved(a):c.h[a]);var c=this.map,d=b();null!=m[a]?
c.setReserved(a,d):c.h[a]=d;return l.Success(d)},removeSync:function(a){this.map.remove(a);return l.Success(J.Noise)},clearSync:function(){this.map=new B;return l.Success(J.Noise)},get:function(a){return h.sync(this.getSync(a))},set:function(a,b){var c=this;return h.map(b,function(b){var e=c.map;null!=m[a]?e.setReserved(a,b):e.h[a]=b;return l.Success(b)})},getOrSet:function(a,b){var c=this,d=this.map;return(null!=m[a]?d.existsReserved(a):d.h.hasOwnProperty(a))?(d=this.map,h.sync(l.Success(null!=m[a]?
d.getReserved(a):d.h[a]))):h.map(b(),function(b){var d=c.map;null!=m[a]?d.setReserved(a,b):d.h[a]=b;return l.Success(b)})},clear:function(){return h.sync(this.clearSync())},remove:function(a){return h.sync(this.removeSync(a))},__class__:yc};var Ba=function(){};f["ufront.cache.RequestCacheMiddleware"]=Ba;Ba.__name__=["ufront","cache","RequestCacheMiddleware"];Ba.__interfaces__=[Rb];Ba.hasCacheMeta=function(a){return Object.prototype.hasOwnProperty.call(a,Ba.metaName)};Ba.prototype={cacheConnection:null,
cache:null,requestIn:function(a){null==this.cache&&(this.cache=this.cacheConnection.getNamespace("ufront.middleware.RequestCache"));if("get"==a.request.get_httpMethod().toLowerCase()){var b=a.request.get_uri();return h.map(this.cache.get(b),function(c){if(0==c[1]){c=c[2];a.messages.push({msg:"Loading "+b+" from cache",pos:{fileName:"RequestCacheMiddleware.hx",lineNumber:74,className:"ufront.cache.RequestCacheMiddleware",methodName:"requestIn"},type:K.MTrace});a.response.clearContent();a.response.set_contentType(c.get_contentType());
a.response.set_redirectLocation(c.get_redirectLocation());a.response.charset=c.charset;a.response.status=null!=c.status?c.status:200;for(var d=c.getCookies(),d=new eb(d,d.arrayKeys());d.hasNext();){var e=d.next();a.response.setCookie(e)}d=c.getHeaders();for(e=d.keys();e.hasNext();){var g=e.next();a.response.setHeader(g,d.get(g))}a.response.write(c.getBuffer());a.completion|=1<<E.CRequestHandlersComplete[1]}return l.Success(J.Noise)})}return x.success()},responseOut:function(a){null==this.cache&&(this.cache=
this.cacheConnection.getNamespace("ufront.middleware.RequestCache"));if("get"==a.request.get_httpMethod().toLowerCase()&&null!=a.actionContext&&null!=a.actionContext.controller&&null!=a.actionContext.action&&-1<Ba.contentTypesToCache.indexOf(a.response.get_contentType())){var b=a.actionContext.controller,c=null==b?null:t.getClass(b),b=N.getType(c),c=F.field(N.getFields(c),a.actionContext.action);if(Ba.hasCacheMeta(b)||Ba.hasCacheMeta(c)){var d=a.request.get_uri(),b=this.cache,c=h.sync(a.response);
return h._map(b.set(d,c),function(b){1==b[1]&&a.messages.push({msg:"Failed to save cache for "+d+": "+q.string(b[2]),pos:{fileName:"RequestCacheMiddleware.hx",lineNumber:121,className:"ufront.cache.RequestCacheMiddleware",methodName:"responseOut"},type:K.MError});return l.Success(J.Noise)})}}return x.success()},invalidate:function(){return this.cache.clear()},__class__:Ba};var Pa=f["ufront.cache.CacheError"]={__ename__:["ufront","cache","CacheError"],__constructs__:["ENotInCache","EUnableToConnect",
"ECacheNotReadable","ECacheNotWriteable"]};Pa.ENotInCache=["ENotInCache",0];Pa.ENotInCache.toString=w;Pa.ENotInCache.__enum__=Pa;Pa.EUnableToConnect=function(a){a=["EUnableToConnect",1,a];a.__enum__=Pa;a.toString=w;return a};Pa.ECacheNotReadable=function(a){a=["ECacheNotReadable",2,a];a.__enum__=Pa;a.toString=w;return a};Pa.ECacheNotWriteable=function(a){a=["ECacheNotWriteable",3,a];a.__enum__=Pa;a.toString=w;return a};var zb={};f["ufront.core._AcceptEither.AcceptEither_Impl_"]=zb;zb.__name__=["ufront",
"core","_AcceptEither","AcceptEither_Impl_"];zb.__properties__={get_type:"get_type",get_value:"get_value"};zb._new=function(a){return a};zb.get_value=function(a){switch(a[1]){case 0:return a[2];case 1:return a[2]}};zb.get_type=function(a){return a};zb.fromA=function(a){return Ya.Left(a)};zb.fromB=function(a){return Ya.Right(a)};var kd=function(){};f["ufront.core.FutureTools"]=kd;kd.__name__=["ufront","core","FutureTools"];kd.asFuture=function(a){return h.sync(a)};var x=function(){};f["ufront.core.SurpriseTools"]=
x;x.__name__=["ufront","core","SurpriseTools"];x.success=function(){null==x.s&&(x.s=h.sync(l.Success(J.Noise)));return x.s};x.asSurprise=function(a){return h.sync(a)};x.asGoodSurprise=function(a){return h.sync(l.Success(a))};x.asBadSurprise=function(a){return h.sync(l.Failure(a))};x.asSurpriseError=function(a,b,c){null==b&&(b="Failure: "+q.string(a));return h.sync(l.Failure(r.wrap(a,b,c)))};x.asSurpriseTypedError=function(a,b,c){null==b&&(b="Failure: "+q.string(a));return h.sync(l.Failure(r.wrap(a,
b,c)))};x.tryCatchSurprise=function(a,b,c){try{return x.asGoodSurprise(a())}catch(d){return y.lastException=d,d instanceof k&&(d=d.val),x.asSurpriseError(d,b,c)}};x.changeSuccessTo=function(a,b){return h.map(a,function(a){switch(a[1]){case 0:return l.Success(b);case 1:return l.Failure(a[2])}})};x.changeSuccessToNoise=function(a){return x.changeSuccessTo(a,J.Noise)};x.changeFailureTo=function(a,b){return h.map(a,function(a){switch(a[1]){case 0:return l.Success(a[2]);case 1:return l.Failure(b)}})};
x.changeFailureToError=function(a,b,c){return h.map(a,function(a){switch(a[1]){case 0:return l.Success(a[2]);case 1:return a=a[2],null==b&&(b="Failure: "+q.string(a)),l.Failure(r.wrap(a,b,c))}})};x.useFallback=function(a,b){return h.map(a,function(a){switch(a[1]){case 0:return a[2];case 1:return b}})};var Nc=function(){};f["ufront.core.CallbackTools"]=Nc;Nc.__name__=["ufront","core","CallbackTools"];Nc.asVoidSurprise=function(a,b){var c=new aa;a(function(a){if(null!=a){if(a=z.withData(500,""+q.string(a),
b,{fileName:"AsyncTools.hx",lineNumber:216,className:"ufront.core.CallbackTools",methodName:"asVoidSurprise"}),a=l.Failure(a),null!=c.list){var e=c.list;c.list=null;c.result=a;s.invoke(e,a);s.clear(e)}}else a=l.Success(J.Noise),null!=c.list&&(e=c.list,c.list=null,c.result=a,s.invoke(e,a),s.clear(e))});return c.future};Nc.asSurprise=function(a,b){var c=new aa;a(function(a,e){if(null!=a){var g=z.withData(500,""+q.string(a),b,{fileName:"AsyncTools.hx",lineNumber:241,className:"ufront.core.CallbackTools",
methodName:"asSurprise"}),g=l.Failure(g);if(null!=c.list){var f=c.list;c.list=null;c.result=g;s.invoke(f,g);s.clear(f)}}else g=l.Success(e),null!=c.list&&(f=c.list,c.list=null,c.result=g,s.invoke(f,g),s.clear(f))});return c.future};Nc.asSurprisePair=function(a,b){var c=new aa;a(function(a,e,g){null!=a?(a=z.withData(500,""+q.string(a),b,{fileName:"AsyncTools.hx",lineNumber:266,className:"ufront.core.CallbackTools",methodName:"asSurprisePair"}),a=l.Failure(a)):(a=new ua(e,g),a=l.Success(a));null!=c.list&&
(e=c.list,c.list=null,c.result=a,s.invoke(e,a),s.clear(e))});return c.future};var cb={};f["ufront.core._CaseInsensitiveMultiValueMap.CaseInsensitiveMultiValueMap_Impl_"]=cb;cb.__name__=["ufront","core","_CaseInsensitiveMultiValueMap","CaseInsensitiveMultiValueMap_Impl_"];cb._new=function(){return new B};cb.exists=function(a,b){var c=b.toLowerCase();return null!=m[c]?a.existsReserved(c):a.h.hasOwnProperty(c)};cb.getAll=function(a,b){return C.getAll(a,b.toLowerCase())};cb.get=function(a,b){return C.get(a,
b.toLowerCase())};cb.set=function(a,b,c){C.set(a,b.toLowerCase(),c)};cb.add=function(a,b,c){C.add(a,b.toLowerCase(),c)};cb.remove=function(a,b){return a.remove(b.toLowerCase())};cb.clone=function(a){return C.clone(a)};var Zb={};f["ufront.core._ClassRef.ClassRef_Impl_"]=Zb;Zb.__name__=["ufront","core","_ClassRef","ClassRef_Impl_"];Zb._new=function(a){return a};Zb.toString=function(a){return a};Zb.toClass=function(a){return v.resolveClass(a)};Zb.fromClass=function(a){return v.getClassName(a)};Zb.fromClassName=
function(a){return a};var Oc={};f["ufront.core._Futuristic.Futuristic_Impl_"]=Oc;Oc.__name__=["ufront","core","_Futuristic","Futuristic_Impl_"];Oc._new=function(a){return a};Oc.fromSync=function(a){return h.sync(a)};Oc.asFuture=function(a){return a};var ld=function(){};f["ufront.core.InjectionTools"]=ld;ld.__name__=["ufront","core","InjectionTools"];ld.listMappings=function(a,b,c){return["Injector mappings not available unless compiled with -debug."]};var C={};f["ufront.core._MultiValueMap.MultiValueMap_Impl_"]=
C;C.__name__=["ufront","core","_MultiValueMap","MultiValueMap_Impl_"];C._new=function(){return new B};C.keys=function(a){return a.keys()};C.exists=function(a,b){return null!=m[b]?a.existsReserved(b):a.h.hasOwnProperty(b)};C.iterator=function(a){return n.iter(C.allValues(a))};C.allValues=function(a){var b=[];for(a=new eb(a,a.arrayKeys());a.hasNext();)for(var c=a.next(),d=0;d<c.length;){var e=c[d];++d;b.push(e)}return b};C.get=function(a,b){if(null!=m[b]?a.existsReserved(b):a.h.hasOwnProperty(b)){var c=
null!=m[b]?a.getReserved(b):a.h[b];return c[c.length-1]}return null};C.getAll=function(a,b){return(null!=m[b]?a.existsReserved(b):a.h.hasOwnProperty(b))?null!=m[b]?a.getReserved(b):a.h[b]:[]};C.set=function(a,b,c){null!=c&&(L.endsWith(b,"[]")&&(b=n.substr(b,0,b.length-2)),c=[c],null!=m[b]?a.setReserved(b,c):a.h[b]=c)};C.add=function(a,b,c){null!=c&&(null!=b?L.endsWith(b,"[]")&&(b=n.substr(b,0,b.length-2)):b="",(null!=m[b]?a.existsReserved(b):a.h.hasOwnProperty(b))?(null!=m[b]?a.getReserved(b):a.h[b]).push(c):
(c=[c],null!=m[b]?a.setReserved(b,c):a.h[b]=c))};C.remove=function(a,b){return a.remove(b)};C.clone=function(a){for(var b=new B,c=a.keys();c.hasNext();)for(var d=c.next(),e=0,g=null!=m[d]?a.getReserved(d):a.h[d];e<g.length;){var f=g[e];++e;C.add(b,d,f)}return b};C.toString=function(a){var b;b="[";for(var c=a.keys();c.hasNext();){var d=c.next();b+=q.string("\n\t"+d+" = [");b+=q.string(C.getAll(a,d).join(", "));b+="]"}1<b.length&&(b+="\n");return b+"]"};C.stripArrayFromName=function(a,b){return L.endsWith(b,
"[]")?n.substr(b,0,b.length-2):b};C.toMapOfArrays=function(a){return a};C.fromMapOfArrays=function(a){return a};C.toStringMap=function(a){for(var b=new B,c=a.keys();c.hasNext();){var d=c.next(),e=C.get(a,d);null!=m[d]?b.setReserved(d,e):b.h[d]=e}return b};C.toMap=function(a){return C.toStringMap(a)};C.fromStringMap=function(a){var b=new B;if(null!=a)for(var c=a.keys();c.hasNext();){var d=c.next();C.set(b,d,null!=m[d]?a.getReserved(d):a.h[d])}return b};C.fromMap=function(a){return C.fromStringMap(a)};
C.combine=function(a){for(var b=new B,c=0;c<a.length;){var d=a[c];++c;for(var e=d.keys();e.hasNext();)for(var g=e.next(),f=0,h=C.getAll(d,g);f<h.length;){var k=h[f];++f;C.add(b,g,k)}}return b};var Gc=function(){this.length=0;this.__keys=[];this.__hash=new B};f["ufront.core.OrderedStringMap"]=Gc;Gc.__name__=["ufront","core","OrderedStringMap"];Gc.prototype={length:null,set:function(a,b){var c=this.__hash;(null!=m[a]?c.existsReserved(a):c.h.hasOwnProperty(a))||(this.__keys.push(a),this.length++);c=
this.__hash;null!=m[a]?c.setReserved(a,b):c.h[a]=b},setAt:function(a,b,c){this.remove(b);this.__keys.splice(a,0,b);a=this.__hash;null!=m[b]?a.setReserved(b,c):a.h[b]=c;this.length++},get:function(a){var b=this.__hash;return null!=m[a]?b.getReserved(a):b.h[a]},getAt:function(a){var b=this.__hash;a=this.__keys[a];return null!=m[a]?b.getReserved(a):b.h[a]},indexOf:function(a){var b=this.__hash;if(null!=m[a]?!b.existsReserved(a):!b.h.hasOwnProperty(a))return-1;for(var b=0,c=this.__keys.length;b<c;){var d=
b++;if(this.__keys[d]==a)return d}throw new k(r.internalServerError(""+a+" exists in hash but not in array",null,{fileName:"OrderedStringMap.hx",lineNumber:51,className:"ufront.core.OrderedStringMap",methodName:"indexOf"}));},exists:function(a){var b=this.__hash;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},remove:function(a){var b=this.__hash,b=null!=m[a]?b.getReserved(a):b.h[a];if(null==b)return null;this.__hash.remove(a);n.remove(this.__keys,a);this.length--;return b},removeAt:function(a){a=
this.__keys[a];if(null==a)return null;var b=this.__hash,b=null!=m[a]?b.getReserved(a):b.h[a];this.__hash.remove(a);n.remove(this.__keys,a);this.length--;return b},keyAt:function(a){return this.__keys[a]},keys:function(){return n.iter(this.__keys)},iterator:function(){return n.iter(this.array())},clear:function(){this.__hash=new B;this.__keys=[];this.length=0},array:function(){for(var a=[],b=0,c=this.__keys;b<c.length;){var d=c[b];++b;var e=this.__hash;a.push(null!=m[d]?e.getReserved(d):e.h[d])}return a},
toString:function(){var a;a="{";for(var b=this.keys();b.hasNext();){var c=b.next();a+=null==c?"null":""+c;a+=" => ";a+=q.string(q.string(this.get(c)));b.hasNext()&&(a+=", ")}return a+"}"},__keys:null,__hash:null,__class__:Gc};var wa=function(){};f["ufront.core.Uuid"]=wa;wa.__name__=["ufront","core","Uuid"];wa.random=function(a){return Math.floor(Math.random()*a)};wa.srandom=function(){return"0123456789ABCDEF".charAt(Math.floor(16*Math.random()))};wa.create=function(){for(var a=[],b=0;8>b;){var c=
b++;a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()))}a[8]="-";for(b=9;13>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[13]="-";a[14]="4";for(b=15;18>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[18]="-";a[19]=""+"89AB".charAt(Math.floor(4*Math.random()));for(b=20;23>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[23]="-";for(b=24;36>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));return a.join("")};
wa.isValid=function(a){return(new la("[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}","")).match(a)};var Ma=function(){};f["ufront.log.BrowserConsoleLogger"]=Ma;Ma.__name__=["ufront","log","BrowserConsoleLogger"];Ma.__interfaces__=[bb];Ma.formatMessage=function(a){var b;switch(a.type[1]){case 0:b="log";break;case 1:b="info";break;case 2:b="warn";break;case 3:b="error"}var c=null!=a.pos&&null!=a.pos.customParams?", "+a.pos.customParams.join(", "):"";a=""+a.pos.className+"."+a.pos.methodName+
"("+a.pos.lineNumber+"): "+q.string(a.msg)+c;return"console."+b+'(decodeURIComponent("'+encodeURIComponent(a)+'"))'};Ma.printMessage=function(a){var b=window.console,c;switch(a.type[1]){case 0:c=X(b,b.log);break;case 1:c=X(b,b.info);break;case 2:c=X(b,b.warn);break;case 3:c=X(b,b.error)}var d=[""+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+")",a.msg];if(null!=a.pos&&null!=a.pos.customParams){var e=0;for(a=a.pos.customParams;e<a.length;){var g=a[e];++e;d.push(g)}}c.apply(b,d)};Ma.prototype=
{log:function(a,b){for(var c=0,d=a.messages;c<d.length;){var e=d[c];++c;Ma.printMessage(e)}for(c=0;c<b.length;)d=b[c],++c,Ma.printMessage(d);return x.success()},__class__:Ma};var Oa=function(a){this.path=a};f["ufront.log.FileLogger"]=Oa;Oa.__name__=["ufront","log","FileLogger"];Oa.__interfaces__=[wb,bb];Oa.format=function(a){var b=q.string(a.msg).replace(Oa.REMOVENL.r,"\\n"),c=n.substr(a.type[0],1,null);a=a.pos;return"["+c+"] "+a.className+"."+a.methodName+"("+a.lineNumber+"): "+b};Oa.prototype={path:null,
init:function(a){return x.success()},dispose:function(a){this.path=null;return x.success()},log:function(a,b){a.get_contentDirectory();var c=a.request,d=a.response,e=c.get_clientIP();try{null!=(null!=a.session?a.session.get_id():null)&&(e+=" "+(null!=a.session?a.session.get_id():null)),null!=(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null)&&(e+=" "+(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null))}catch(g){y.lastException=
g}c=""+q.string(new Date)+" ["+c.get_httpMethod()+"] ["+c.get_uri()+"] from ["+e+"], response: ["+d.status+" "+d.get_contentType()+"]\n";d=0;for(e=a.messages;d<e.length;){var f=e[d];++d;c+="\t"+Oa.format(f)+"\n"}if(null!=b)for(d=0;d<b.length;)e=b[d],++d,c+="\t"+Oa.format(e)+"\n";return x.asBadSurprise(r.notImplemented({fileName:"FileLogger.hx",lineNumber:92,className:"ufront.log.FileLogger",methodName:"log"}))},__class__:Oa};var K=f["ufront.log.MessageType"]={__ename__:["ufront","log","MessageType"],
__constructs__:["MTrace","MLog","MWarning","MError"]};K.MTrace=["MTrace",0];K.MTrace.toString=w;K.MTrace.__enum__=K;K.MLog=["MLog",1];K.MLog.toString=w;K.MLog.__enum__=K;K.MWarning=["MWarning",2];K.MWarning.toString=w;K.MWarning.__enum__=K;K.MError=["MError",3];K.MError.toString=w;K.MError.__enum__=K;var Pc=function(a,b){this.messages=a;this.onMessage=b};f["ufront.log.MessageList"]=Pc;Pc.__name__=["ufront","log","MessageList"];Pc.prototype={messages:null,onMessage:null,push:function(a){null!=this.messages&&
this.messages.push(a);if(null!=this.onMessage)this.onMessage(a)},__class__:Pc};var Qc=function(){};f["ufront.log.OriginalTraceLogger"]=Qc;Qc.__name__=["ufront","log","OriginalTraceLogger"];Qc.__interfaces__=[wb,bb];Qc.prototype={originalTrace:null,init:function(a){this.originalTrace=a.originalTrace;return x.success()},dispose:function(a){return x.success()},log:function(a,b){for(var c=0,d=a.messages;c<d.length;){var e=d[c];++c;this.originalTrace(e.msg,e.pos)}return x.success()},__class__:Qc};var xb=
function(){};f["ufront.log.RemotingLogger"]=xb;xb.__name__=["ufront","log","RemotingLogger"];xb.__interfaces__=[bb];xb.formatMessage=function(a){a.msg=""+q.string(a.msg);if(null!=a.pos.customParams){for(var b=[],c=0,d=a.pos.customParams;c<d.length;){var e=d[c];++c;b.push(""+q.string(e))}a.pos.customParams=b}return"hxt"+V.run(a)};xb.prototype={log:function(a,b){var c=a.request.get_clientHeaders();if((null!=m["x-ufront-remoting"]?c.existsReserved("x-ufront-remoting"):c.h.hasOwnProperty("x-ufront-remoting"))&&
"application/x-haxe-remoting"==a.response.get_contentType()){for(var c=[],d=0,e=a.messages;d<e.length;){var g=e[d];++d;c.push(xb.formatMessage(g))}0<c.length&&a.response.write("\n"+c.join("\n"))}return x.success()},__class__:xb};var Na=function(){};f["ufront.log.ServerConsoleLogger"]=Na;Na.__name__=["ufront","log","ServerConsoleLogger"];Na.__interfaces__=[bb];Na.formatMsg=function(a){var b=null!=a.pos&&null!=a.pos.customParams?", "+a.pos.customParams.join(", "):"";return""+n.substr(a.type[0],1,null)+
": "+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+"): "+q.string(a.msg)+b};Na.writeLog=function(a,b){console.log(a)};Na.prototype={log:function(a,b){var c=[],d=a.request.get_clientIP();try{null!=(null!=a.session?a.session.get_id():null)&&(d+=" "+(null!=a.session?a.session.get_id():null)),null!=(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null)&&(d+=" "+(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null))}catch(e){y.lastException=
e}d="["+a.request.get_httpMethod()+" "+a.request.get_uri()+"] from ["+d+"], response: ["+a.response.status+" "+a.response.get_contentType()+"]";c.push(d);for(var d=0,g=a.messages;d<g.length;){var f=g[d];++d;c.push(Na.formatMsg(f))}if(null!=b)for(d=0;d<b.length;)g=b[d],++d,c.push(Na.formatMsg(g));Na.writeLog(c.join("\n  "));return x.success()},__class__:Na};var $a=function(a,b){fb.call(this,a,b)};f["ufront.remoting.HttpAsyncConnection"]=$a;$a.__name__=["ufront","remoting","HttpAsyncConnection"];$a.urlConnect=
function(a,b){null==b&&(b=Ga.defaultErrorHandler);return new $a({url:a,error:b},[])};$a.__super__=fb;$a.prototype=M(fb.prototype,{resolve:function(a){var b=new $a({url:this.__data.url,error:this.__data.error},this.__path.slice());b.__path.push(a);return b},call:function(a,b){var c=this,d=new Bc(this.__data.url,!0);d.setHeader("X-Haxe-Remoting","1");d.setHeader("X-Ufront-Remoting","1");var e=new Da(Ea.RDClientToServer);e.serialize(this.__path);e.serialize(a);d.setParam("__x",e.toString());var g=this.__path.join(".")+
"("+a.join(",")+")",f,h=function(a){if(500==f)Ga.processResponse(d.responseData(),b,c.__data.error,g);else if(404==f){a=c.__data.error;var e=d.responseData();a(P.RApiNotFound(g,e))}else a=c.__data.error,e=d.responseData(),a(P.RHttpError(g,f,e))};d.handle(function(a){f=a},function(a){Ga.processResponse(a,b,c.__data.error,g)},h);d.attachUploads(e.uploads)(function(a){switch(a[1]){case 0:d.send();break;case 1:a=a[2],f=0,h("Failed to read attachments: "+q.string(a))}})},__class__:$a});var ab=function(a,
b){gb.call(this,a,b)};f["ufront.remoting.HttpConnection"]=ab;ab.__name__=["ufront","remoting","HttpConnection"];ab.urlConnect=function(a){return new ab(a,[])};ab.__super__=gb;ab.prototype=M(gb.prototype,{call:function(a){var b=new Bc(this.__url,!1,ab.TIMEOUT),c=new Da(Ea.RDClientToServer);c.serialize(this.__path);c.serialize(a);var d=this.__path.join(".")+"("+a.join(",")+")",e,g,f,h=function(a){throw k.wrap(a);},l=function(a){f=a};b.handle(function(a){e=null},function(a){g=a;Ga.processResponse(g,
l,h,d)},function(a){500==e?Ga.processResponse(b.responseData(),l,h,d):(a=b.responseData(),h(P.RHttpError(d,e,a)))});b.setHeader("X-Haxe-Remoting","1");b.setHeader("X-Ufront-Remoting","1");b.setParam("__x",c.toString());b.attachUploads(c.uploads);b.send();return f},__class__:ab});var Bc=function(a,b,c){this.h=new XMLHttpRequest;this.files=[];this.params=[];this.h.open("POST",a,b);this.async=b};f["ufront.remoting.HttpWithUploads"]=Bc;Bc.__name__=["ufront","remoting","HttpWithUploads"];Bc.prototype=
{h:null,files:null,params:null,async:null,setHeader:function(a,b){this.h.setRequestHeader(a,b)},setParam:function(a,b){this.params.push({name:a,val:b})},attachUploads:function(a){for(var b=a.keys();b.hasNext();)for(var c=b.next(),d=0,e=C.getAll(a,c);d<e.length;){var g=e[d];++d;var f=g instanceof Ab?g:null;null!=f&&this.files.push({postName:c,file:f.file,fileName:g.originalFileName})}return x.success()},send:function(){if(0<this.files.length){for(var a=new FormData,b=0,c=this.params;b<c.length;){var d=
c[b];++b;a.append(d.name,d.val)}b=0;for(c=this.files;b<c.length;)d=c[b],++b,a.append(d.postName,d.file,d.fileName)}else{a=[];b=0;for(c=this.params;b<c.length;){d=c[b];++b;var e=encodeURIComponent(d.name)+"=";a.push(e+encodeURIComponent(d.val))}a=L.replace(a.join("&"),"%20","+");this.h.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}this.h.send(a)},responseData:function(){return this.h.responseText},handle:function(a,b,c){var d=this;this.h.onload=function(e){a(d.h.status);200==
d.h.status?b(d.h.responseText):c(d.h.responseText)}},__class__:Bc};var P=f["ufront.remoting.RemotingError"]={__ename__:["ufront","remoting","RemotingError"],__constructs__:"RHttpError RApiNotFound RServerSideException RClientCallbackException RUnserializeFailed RNoRemotingResult RApiFailure RUnknownException".split(" ")};P.RHttpError=function(a,b,c){a=["RHttpError",0,a,b,c];a.__enum__=P;a.toString=w;return a};P.RApiNotFound=function(a,b){var c=["RApiNotFound",1,a,b];c.__enum__=P;c.toString=w;return c};
P.RServerSideException=function(a,b,c){a=["RServerSideException",2,a,b,c];a.__enum__=P;a.toString=w;return a};P.RClientCallbackException=function(a,b){var c=["RClientCallbackException",3,a,b];c.__enum__=P;c.toString=w;return c};P.RUnserializeFailed=function(a,b,c){a=["RUnserializeFailed",4,a,b,c];a.__enum__=P;a.toString=w;return a};P.RNoRemotingResult=function(a,b){var c=["RNoRemotingResult",5,a,b];c.__enum__=P;c.toString=w;return c};P.RApiFailure=function(a,b){var c=["RApiFailure",6,a,b];c.__enum__=
P;c.toString=w;return c};P.RUnknownException=function(a){a=["RUnknownException",7,a];a.__enum__=P;a.toString=w;return a};var rc=function(){this.apiContexts=new ea;this.apis=new ea};f["ufront.remoting.RemotingHandler"]=rc;rc.__name__=["ufront","remoting","RemotingHandler"];rc.__interfaces__=[Sb];rc.prototype={apiContexts:null,apis:null,context:null,loadApi:function(a){this.apis.push(a)},loadApis:function(a){for(a=$(a)();a.hasNext();){var b=a.next();this.apis.push(b)}},loadApiContext:function(a){this.apiContexts.push(a);
for(a=$(vb.getApisInContext(a))();a.hasNext();){var b=a.next();this.apis.push(b)}},handleRequest:function(a){var b=new aa,c=a.request.get_clientHeaders();if(null!=m["x-haxe-remoting"]?c.existsReserved("x-haxe-remoting"):c.h.hasOwnProperty("x-haxe-remoting")){var d=a.response,e;d.setOk();var g=c=null;try{this.initializeContext(a.injector);var f=a.request.get_params();if(null!=m.__x?!f.existsReserved("__x"):!f.h.hasOwnProperty("__x"))throw new k("Remoting call did not have parameter `__x` which describes which API call to make.  Aborting");
var u=C.get(f,"__x"),n=new Qa(u,a.request.get_files());try{for(var c=n.unserialize(),g=n.unserialize(),f=0,p=g.length;f<p;){var r=f++,t=g[r],v=t instanceof Ra?t:null;null!=v&&null!=v.attachedUpload&&(g[r]=v.attachedUpload)}}catch(w){throw y.lastException=w,w instanceof k&&(w=w.val),new k("Unable to deserialize remoting call: "+q.string(w)+". Remoting call string: "+u);}var x=this.executeApiCall(c,g,this.context,a.actionContext);e=h.map(x,function(a){var b=new Da(Ea.RDServerToClient);b.serialize(a);
return"hxr"+b.toString()})}catch(z){y.lastException=z;z instanceof k&&(z=z.val);var B=z;e=["Invalid path","No such object","Can't access","No such method"];null!=c&&null!=g&&"string"==typeof z&&ya.exists(e,function(a){return L.startsWith(B,a)})?(e=h.sync("Unable to access "+c.join(".")+" - API Not Found ("+B+"). See "+q.string(this.context.objects)),d.setNotFound()):(d.setInternalError(),e=h.sync(this.remotingError(z,a)))}e(function(c){d.set_contentType("application/x-haxe-remoting");d.clearContent();
d.write(c);a.completion|=1<<E.CRequestHandlersComplete[1];c=l.Success(J.Noise);if(null!=b.list){var e=b.list;b.list=null;b.result=c;s.invoke(e,c);s.clear(e)}})}else e=l.Success(J.Noise),null!=b.list&&(c=b.list,b.list=null,b.result=e,s.invoke(c,e),s.clear(c));return b.future},initializeContext:function(a){this.context=new Fc;for(var b=this.apiContexts.h;null!=b;)for(var c=b.item,b=b.next,c=a._instantiate(c),d=0,e=F.fields(c);d<e.length;){var g=e[d];++d;var f=F.field(c,g);F.isObject(f)&&this.context.addObject(g,
f,!1)}for(b=this.apis.h;null!=b;)c=b.item,b=b.next,d=c,c=v.getClassName(d),d=a._instantiate(d),this.context.addObject(c,d,!1)},executeApiCall:function(a,b,c,d){var e=c.objects,g=a[0];if(!1==(null!=m[g]?e.existsReserved(g):e.h.hasOwnProperty(g)))throw new k("Invalid path "+a.join("."));d.handler=this;d.action=a[a.length-1];e=c.objects;g=a[0];d.controller=(null!=m[g]?e.getReserved(g):e.h[g]).obj;d.args=b;var f;try{var u=d.controller,l=N.getFields(null==u?null:t.getClass(u));f=F.field(l,d.action).returnType[0]}catch(n){y.lastException=
n,f=0}d=f;a=c.call(a,b);return 0!=(d&1<<Y.ARTFuture[1])?a:0!=(d&1<<Y.ARTVoid[1])?h.sync(null):h.sync(a)},remotingError:function(a,b){b.messages.push({msg:a,pos:{fileName:"RemotingHandler.hx",lineNumber:209,className:"ufront.remoting.RemotingHandler",methodName:"remotingError"},type:K.MError});var c=b.request.get_clientHeaders();if(null!=m["x-ufront-remoting"]?c.existsReserved("x-ufront-remoting"):c.h.hasOwnProperty("x-ufront-remoting"))return c=new Da(Ea.RDServerToClient),c.serializeException(a),
"hxe"+c.toString();c=new Da(Ea.RDServerToClient);c.serializeException(a);return"hxr"+c.toString()},toString:function(){return"ufront.remoting.RemotingHandler"},__class__:rc};var Da=function(a){V.call(this);this.direction=a;this.uploads=new B};f["ufront.remoting.RemotingSerializer"]=Da;Da.__name__=["ufront","remoting","RemotingSerializer"];Da.run=function(a,b){var c=new Da(b);c.serialize(a);return c.toString()};Da.__super__=V;Da.prototype=M(V.prototype,{uploads:null,direction:null,__class__:Da});var Ea=
f["ufront.remoting.RemotingDirection"]={__ename__:["ufront","remoting","RemotingDirection"],__constructs__:["RDClientToServer","RDServerToClient"]};Ea.RDClientToServer=["RDClientToServer",0];Ea.RDClientToServer.toString=w;Ea.RDClientToServer.__enum__=Ea;Ea.RDServerToClient=["RDServerToClient",1];Ea.RDServerToClient.toString=w;Ea.RDServerToClient.__enum__=Ea;var Qa=function(a,b){W.call(this,a);this.uploads=null!=b?b:new B};f["ufront.remoting.RemotingUnserializer"]=Qa;Qa.__name__=["ufront","remoting",
"RemotingUnserializer"];Qa.__super__=W;Qa.prototype=M(W.prototype,{uploads:null,__class__:Qa});var Ga=function(){};f["ufront.remoting.RemotingUtil"]=Ga;Ga.__name__=["ufront","remoting","RemotingUtil"];Ga.processResponse=function(a,b,c,d){var e=null,g=null,f=!1,h=[];c=Ga.wrapErrorHandler(c);if("hx"!=n.substr(a,0,2))c(P.RNoRemotingResult(d,a));else for(var l=0,m=a.split("\n");l<m.length;){var p=m[l];++l;if(""!=p)switch(n.substr(p,0,3)){case "hxe":p=new Qa(n.substr(p,3,null));try{e=p.unserialize()}catch(r){y.lastException=
r,r instanceof k&&(r=r.val),e=h.push(P.RServerSideException(d,r,g))}break;case "hxr":f=new Qa(n.substr(p,3,null));try{e=f.unserialize()}catch(s){y.lastException=s,s instanceof k&&(s=s.val),e=h.push(P.RUnserializeFailed(d,n.substr(p,3,null),""+q.string(s)))}f=!0;break;case "hxs":var t=new Qa(n.substr(p,3,null));try{g=t.unserialize()}catch(w){y.lastException=w,w instanceof k&&(w=w.val),g=h.push(P.RUnserializeFailed(d,n.substr(p,3,null),""+q.string(w)))}break;case "hxt":var t=new Qa(n.substr(p,3,null)),
v;try{v=t.unserialize()}catch(x){y.lastException=x,x instanceof k&&(x=x.val),v=h.push(P.RUnserializeFailed(d,n.substr(p,3,null),""+q.string(x)))}p=null!=v.pos&&null!=v.pos.customParams?" "+v.pos.customParams.join(" "):"";p="[R]"+v.pos.className+"."+v.pos.methodName+"("+v.pos.lineNumber+"): "+q.string(v.msg)+p;t=window.console;switch(v.type[1]){case 0:t.log(p);break;case 1:t.info(p);break;case 2:t.warn(p);break;case 3:t.error(p)}break;default:h.push(P.RUnserializeFailed(d,p,"Invalid line in response"))}}if(0==
h.length)if(f)try{b(e)}catch(z){y.lastException=z,z instanceof k&&(z=z.val),c(P.RClientCallbackException(d,z))}else c(P.RNoRemotingResult(d,a));else for(a=0;a<h.length;)b=h[a],++a,c(b)};Ga.wrapErrorHandler=function(a){return function(b){t.__instanceof(b,P)?a(b):a(P.RUnknownException(b))}};Ga.defaultErrorHandler=function(a){switch(a[1]){case 0:var b=a[4];R.trace("Error during remoting call "+a[2]+": The HTTP Request returned status ["+a[3]+"].",{fileName:"RemotingUtil.hx",lineNumber:125,className:"ufront.remoting.RemotingUtil",
methodName:"defaultErrorHandler"});R.trace("Returned data: "+b,{fileName:"RemotingUtil.hx",lineNumber:126,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 1:b=a[3];R.trace("Error during remoting call "+a[2]+": API or Method is not found or not available in the remoting context.",{fileName:"RemotingUtil.hx",lineNumber:128,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});R.trace("Error message: "+b,{fileName:"RemotingUtil.hx",lineNumber:129,
className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 2:b=a[4];R.trace("Error during remoting call "+a[2]+': The server threw an error "'+q.string(a[3])+'".',{fileName:"RemotingUtil.hx",lineNumber:131,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});R.trace(b,{fileName:"RemotingUtil.hx",lineNumber:132,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 3:R.trace("Error during remoting call "+a[2]+': The client throw an error "'+
q.string(a[3])+'" during the remoting callback.',{fileName:"RemotingUtil.hx",lineNumber:134,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});R.trace('Compiling with "-debug" will prevent this error being caught, so you can use your browser\'s debugger to collect more information.',{fileName:"RemotingUtil.hx",lineNumber:135,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 4:b=a[4];R.trace("Error during remoting call "+a[2]+': Failed to unserialize this line in the response: "'+
b+'"',{fileName:"RemotingUtil.hx",lineNumber:137,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});R.trace('The line that failed: "'+b+'"',{fileName:"RemotingUtil.hx",lineNumber:138,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 5:b=a[3];R.trace("Error during remoting call "+a[2]+": No remoting result in data.",{fileName:"RemotingUtil.hx",lineNumber:140,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});R.trace("Returned data: "+
b,{fileName:"RemotingUtil.hx",lineNumber:141,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 6:R.trace("The remoting call "+a[2]+" functioned correctly, but the API returned a failure: "+a[3],{fileName:"RemotingUtil.hx",lineNumber:143,className:"ufront.remoting.RemotingUtil",methodName:"defaultErrorHandler"});break;case 7:R.trace("Unknown error encountered during remoting call: "+q.string(a[2]),{fileName:"RemotingUtil.hx",lineNumber:145,className:"ufront.remoting.RemotingUtil",
methodName:"defaultErrorHandler"})}};var Rc=function(a){null==a&&(a="/");this.setQueryString("");this.setPostString("");this.setQuery(new B);this.setPost(new B);this.setFiles(new B);this.setCookies(new B);this.setHostName("localhost");this.setClientIP("127.0.0.1");this.setUri(a);a=new B;this.setClientHeaders(a);this.setUserAgent(ka.fromString("Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:43.0) Gecko/20100101 Firefox/43.0"));this.setHttpMethod("GET");this.setScriptDirectory("/var/www/");this.setAuthorization(null);
this.setIsMultipart(!1)};f["ufront.test.MockHttpRequest"]=Rc;Rc.__name__=["ufront","test","MockHttpRequest"];Rc.__super__=Xa;Rc.prototype=M(Xa.prototype,{setParams:function(a){this.params=a;return this},get_queryString:function(){return this.queryString},setQueryString:function(a){this.queryString=a;return this},get_postString:function(){return this.postString},setPostString:function(a){this.postString=a;return this},get_query:function(){return this.query},setQuery:function(a){this.query=a;return this},
get_post:function(){return this.post},setPost:function(a){this.post=a;return this},get_files:function(){return this.files},setFiles:function(a){this.files=a;return this},get_cookies:function(){return this.cookies},setCookies:function(a){this.cookies=a;return this},get_hostName:function(){return this.hostName},setHostName:function(a){this.hostName=a;return this},get_clientIP:function(){return this.clientIP},setClientIP:function(a){this.clientIP=a;return this},get_uri:function(){return this.uri},setUri:function(a){this.uri=
a;return this},get_clientHeaders:function(){return this.clientHeaders},setClientHeaders:function(a){this.clientHeaders=a;return this},get_userAgent:function(){return this.userAgent},setUserAgent:function(a){this.userAgent=a;return this},get_httpMethod:function(){return this.httpMethod},setHttpMethod:function(a){this.httpMethod=a;return this},get_scriptDirectory:function(){return this.scriptDirectory},setScriptDirectory:function(a){this.scriptDirectory=a;return this},get_authorization:function(){return this.authorization},
setAuthorization:function(a){this.authorization=a;return this},setIsMultipart:function(a){a?C.set(this.get_clientHeaders(),"content-type","multipart/form-data; charset=UTF-8"):C.set(this.get_clientHeaders(),"content-type","application/x-www-form-urlencoded; charset=UTF-8");return this},parseMultipart:function(a,b,c){throw new k(r.wrap("parseMultipart is not supported in MockHttpRequest",null,{fileName:"MockHttpRequest.hx",lineNumber:158,className:"ufront.test.MockHttpRequest",methodName:"parseMultipart"}));
},__class__:Rc});var rd=function(){};f["ufront.test.TestUtils"]=rd;rd.__name__=["ufront","test","TestUtils"];var sd=function(){};f["ufront.test.NaturalLanguageTests"]=sd;sd.__name__=["ufront","test","NaturalLanguageTests"];var Ja=function(a){null==a&&(a=Ja.cacheEnabledByDefault);a&&(this.cache=new B);this.engines=[]};f["ufront.view.UFViewEngine"]=Ja;Ja.__name__=["ufront","view","UFViewEngine"];Ja.prototype={engines:null,cache:null,getTemplate:function(a,b){var c=this,d;null!=this.cache?(d=this.cache,
d=null!=m[a]?d.existsReserved(a):d.h.hasOwnProperty(a)):d=!1;if(d&&(d=this.cache,d=null!=m[a]?d.getReserved(a):d.h[a],null==b||b.type==d.a))return h.sync(l.Success(d.b));var e=new aa,g=O.extension(a),f=null;if(null!=b&&""!=g)f=a,this.getTemplateString(f)(function(b){switch(b[1]){case 0:switch(b[2][1]){case 0:b=l.Success(b[2][2]);if(null!=e.list){var c=e.list;e.list=null;e.result=b;s.invoke(c,b);s.clear(c)}break;case 1:b=l.Failure(new z(null,"Template "+a+" not found",{fileName:"UFViewEngine.hx",lineNumber:115,
className:"ufront.view.UFViewEngine",methodName:"getTemplate"})),null!=e.list&&(c=e.list,e.list=null,e.result=b,s.invoke(c,b),s.clear(c))}break;case 1:b=l.Failure(b[2]),null!=e.list&&(c=e.list,e.list=null,e.result=b,s.invoke(c,b),s.clear(c))}});else if(null!=b&&""==g){var u=b.extensions.slice(),n=null,n=function(){if(0<u.length){var d=u.shift();f=O.withExtension(a,d);c.getTemplateString(f)(function(a){switch(a[1]){case 0:switch(a[2][1]){case 0:a=l.Success(a[2][2]);if(null!=e.list){var b=e.list;e.list=
null;e.result=a;s.invoke(b,a);s.clear(b)}break;case 1:n()}break;case 1:a=l.Failure(a[2]),null!=e.list&&(b=e.list,e.list=null,e.result=a,s.invoke(b,a),s.clear(b))}})}else if(d=l.Failure(new z(null,"No template found for "+a+" with extensions "+q.string(b.extensions),{fileName:"UFViewEngine.hx",lineNumber:131,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})),null!=e.list){var g=e.list;e.list=null;e.result=d;s.invoke(g,d);s.clear(g)}};n()}else if(null==b&&""!=g){var p=this.engines.slice(),
r=null,r=function(){if(0<p.length){var d=p.shift();ya.has(d.extensions,g)?(f=O.normalize(a),c.getTemplateString(f)(function(c){switch(c[1]){case 0:switch(c[2][1]){case 0:c=c[2][2];b=d;c=l.Success(c);if(null!=e.list){var g=e.list;e.list=null;e.result=c;s.invoke(g,c);s.clear(g)}break;case 1:c=l.Failure(new z(null,"Template "+a+" not found",{fileName:"UFViewEngine.hx",lineNumber:147,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})),null!=e.list&&(g=e.list,e.list=null,e.result=c,s.invoke(g,
c),s.clear(g))}break;case 1:c=l.Failure(c[2]),null!=e.list&&(g=e.list,e.list=null,e.result=c,s.invoke(g,c),s.clear(g))}})):r()}else{var h=l.Failure(new z(null,"No templating engine found for "+a+" (None support extension "+g+")",{fileName:"UFViewEngine.hx",lineNumber:151,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}));if(null!=e.list){var k=e.list;e.list=null;e.result=h;s.invoke(k,h);s.clear(k)}}};r()}else if(null==b&&""==g){var t=this.engines.slice(),v=null,w=[],x=[],B=null,C=null,
C=function(){if(0==w.length&&0==t.length){var d=l.Failure(new z(null,"No template found for "+a+" with extensions "+q.string(x),{fileName:"UFViewEngine.hx",lineNumber:165,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}));if(null!=e.list){var g=e.list;e.list=null;e.result=d;s.invoke(g,d);s.clear(g)}}else 0==w.length&&(v=t.shift(),w=v.extensions.slice()),B=w.shift(),x.push(B),f=O.withExtension(a,B),c.getTemplateString(f)(function(a){switch(a[1]){case 0:switch(a[2][1]){case 0:a=a[2][2];
b=v;a=l.Success(a);if(null!=e.list){var c=e.list;e.list=null;e.result=a;s.invoke(c,a);s.clear(c)}break;case 1:C()}break;case 1:a=l.Failure(a[2]),null!=e.list&&(c=e.list,e.list=null,e.result=a,s.invoke(c,a),s.clear(c))}})};C()}return h._tryFailingMap(e.future,function(d){try{var e=b.factory(d);if(null!=c.cache){var g=c.cache,h=new ua(b.type,e);null!=m[a]?g.setReserved(a,h):g.h[a]=h}return l.Success(e)}catch(u){return y.lastException=u,u instanceof k&&(u=u.val),l.Failure(z.withData(null,"Failed to parse template "+
f+" using "+b.type,u,{fileName:"UFViewEngine.hx",lineNumber:205,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}))}})},getTemplateString:function(a){return h.sync(l.Failure(new z(null,"Attempting to fetch template "+a+" with UFViewEngine.  This is an abstract class, you must use one of the ViewEngine implementations.",{fileName:"UFViewEngine.hx",lineNumber:226,className:"ufront.view.UFViewEngine",methodName:"getTemplateString"})))},addTemplatingEngine:function(a){this.engines.push(a)},
__class__:Ja};var Xb=function(a){Ja.call(this,a)};f["ufront.view.FileViewEngine"]=Xb;Xb.__name__=["ufront","view","FileViewEngine"];Xb.__super__=Ja;Xb.prototype=M(Ja.prototype,{scriptDir:null,path:null,isPathAbsolute:null,get_isPathAbsolute:function(){return L.startsWith(this.path,"/")},viewDirectory:null,get_viewDirectory:function(){return this.get_isPathAbsolute()?O.addTrailingSlash(this.path):O.addTrailingSlash(this.scriptDir)+O.addTrailingSlash(this.path)},getTemplateString:function(a){this.get_viewDirectory();
return x.asSurpriseError("No implementation for non-sys platforms in FileViewEngine.getTemplateString().",null,{fileName:"FileViewEngine.hx",lineNumber:76,className:"ufront.view.FileViewEngine",methodName:"getTemplateString"})},__class__:Xb,__properties__:{get_viewDirectory:"get_viewDirectory",get_isPathAbsolute:"get_isPathAbsolute"}});var Tb=function(a){Ja.call(this,a)};f["ufront.view.HttpViewEngine"]=Tb;Tb.__name__=["ufront","view","HttpViewEngine"];Tb.__super__=Ja;Tb.prototype=M(Ja.prototype,{viewPath:null,
getTemplateString:function(a){L.startsWith(a,"/")&&(a=n.substr(a,1,null));var b=O.addTrailingSlash(this.viewPath)+a;try{var c=new aa,d=new Ib(b),e=-1;d.onStatus=function(a){e=a};d.onData=function(a){a=l.Success(Va.Some(a));if(null!=c.list){var b=c.list;c.list=null;c.result=a;s.invoke(b,a);s.clear(b)}};d.onError=function(a){if(404==e){if(a=l.Success(Va.None),null!=c.list){var d=c.list;c.list=null;c.result=a;s.invoke(d,a);s.clear(d)}}else a=l.Failure(z.withData(e,"Failed to load template "+b,a,{fileName:"HttpViewEngine.hx",
lineNumber:54,className:"ufront.view.HttpViewEngine",methodName:"getTemplateString"})),null!=c.list&&(d=c.list,c.list=null,c.result=a,s.invoke(d,a),s.clear(d))};d.request();return c.future}catch(g){return y.lastException=g,g instanceof k&&(g=g.val),h.sync(l.Failure(z.withData(null,"Failed to load template "+b,g,{fileName:"HttpViewEngine.hx",lineNumber:59,className:"ufront.view.HttpViewEngine",methodName:"getTemplateString"})))}},__class__:Tb});var D={};f["ufront.view._TemplateData.TemplateData_Impl_"]=
D;D.__name__=["ufront","view","_TemplateData","TemplateData_Impl_"];D._new=function(a){return null!=a?a:{}};D.toObject=function(a){return a};D.toMap=function(a){for(var b=new B,c=0,d=F.fields(a);c<d.length;){var e=d[c];++c;var g=F.field(a,e);null!=m[e]?b.setReserved(e,g):b.h[e]=g}return b};D.toStringMap=function(a){return D.toMap(a)};D.get=function(a,b){return F.field(a,b)};D.exists=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};D.set=function(a,b,c){a[b]=c;return null!=a?a:{}};D.array_set=
function(a,b,c){return a[b]=c};D.setMap=function(a,b){for(var c=b.keys();c.hasNext();){var d=c.next();D.set(a,d,null!=m[d]?b.getReserved(d):b.h[d])}return null!=a?a:{}};D.setObject=function(a,b){var c=v["typeof"](b);switch(c[1]){case 4:for(var d=0,c=F.fields(b);d<c.length;){var e=c[d];++d;D.set(a,e,F.field(b,e))}break;case 6:for(d=0,c=v.getInstanceFields(c[2]);d<c.length;)e=c[d],++d,D.set(a,e,F.getProperty(b,e))}return null!=a?a:{}};D.fromMap=function(a){var b={},b=null!=b?b:{};D.setMap(b,a);return b};
D.fromStringMap=function(a){return D.fromMap(a)};D.fromMany=function(a){var b={},b=null!=b?b:{};for(a=$(a)();a.hasNext();){var c=a.next();null!=c&&(t.__instanceof(c,B)?D.setMap(b,c):D.setObject(b,c))}return b};D.fromObject=function(a){var b={};return D.setObject(null!=b?b:{},a)};var G={};f["ufront.view._TemplateHelper.TemplateHelper_Impl_"]=G;G.__name__=["ufront","view","_TemplateHelper","TemplateHelper_Impl_"];G._new=function(a,b){if(7<a)throw new k("TemplateHelpers can have a maximum of 7 arguments");
return{numArgs:a,fn:b}};G.from0=function(a){return G._new(0,a)};G.from1=function(a){return G._new(1,a)};G.from2=function(a){return G._new(2,a)};G.from3=function(a){return G._new(3,a)};G.from4=function(a){return G._new(4,a)};G.from5=function(a){return G._new(5,a)};G.from6=function(a){return G._new(6,a)};G.from7=function(a){return G._new(7,a)};G.getFn=function(a){switch(a.numArgs){case 0:return function(){return G.call0(a)};case 1:return function(b){return G.call1(a,b)};case 2:return function(b,c){return G.call2(a,
b,c)};case 3:return function(b,c,d){return G.call3(a,b,c,d)};case 4:return function(b,c,d,e){return G.call4(a,b,c,d,e)};case 5:return function(b,c,d,e,g){return G.call5(a,b,c,d,e,g)};case 6:return function(b,c,d,e,g,f){return G.call6(a,b,c,d,e,g,f)};case 7:return function(b,c,d,e,g,f,h){return G.call7(a,b,c,d,e,g,f,h)};default:throw new k("TemplateHelpers can have a maximum of 7 arguments");}};G.call0=function(a){return a.fn.apply({},[])};G.call1=function(a,b){return a.fn.apply({},[b])};G.call2=function(a,
b,c){return a.fn.apply({},[b,c])};G.call3=function(a,b,c,d){return a.fn.apply({},[b,c,d])};G.call4=function(a,b,c,d,e){return a.fn.apply({},[b,c,d,e])};G.call5=function(a,b,c,d,e,g){return a.fn.apply({},[b,c,d,e,g])};G.call6=function(a,b,c,d,e,g,f){return a.fn.apply({},[b,c,d,e,g,f])};G.call7=function(a,b,c,d,e,g,f,h){return a.fn.apply({},[b,c,d,e,g,f,h])};var ma=function(){};f["ufront.view.TemplatingEngines"]=ma;ma.__name__=["ufront","view","TemplatingEngines"];ma.__properties__={get_haxe:"get_haxe"};
ma.get_haxe=function(){return{factory:function(a){var b=new S(a);return function(a,d){var e={};if(null!=d)for(var g=d.keys();g.hasNext();){var f=g.next(),h=ma.padHelperFnForHaxeTplMacro(null!=m[f]?d.getReserved(f):d.h[f]);e[f]=h}return b.execute(a,e)}},type:"haxe.Template",extensions:["html","tpl"]}};ma.padHelperFnForHaxeTplMacro=function(a){switch(a.numArgs){case 0:return function(b){return G.getFn(a)()};case 1:return function(b,c){return G.getFn(a)(c)};case 2:return function(b,c,d){return G.getFn(a)(c,
d)};case 3:return function(b,c,d,e){return G.getFn(a)(c,d,e)};case 4:return function(b,c,d,e,g){return G.getFn(a)(c,d,e,g)};case 5:return function(b,c,d,e,g,f){return G.getFn(a)(c,d,e,g,f)};case 6:return function(b,c,d,e,g,f,h){return G.getFn(a)(c,d,e,g,f,h)};case 7:return function(b,c,d,e,g,f,h,k){return G.getFn(a)(c,d,e,g,f,h,k)};default:throw new k("TemplateHelper supports a maximum of 7 arguments");}};var Cc={};f["ufront.view._UFTemplate.UFTemplate_Impl_"]=Cc;Cc.__name__=["ufront","view","_UFTemplate",
"UFTemplate_Impl_"];Cc._new=function(a){return a};Cc.fromSimpleCallback=function(a){return Cc._new(function(b,c){var d={};if(null!=c)for(var e=c.keys();e.hasNext();){var g=e.next();D.set(d,g,G.getFn(null!=m[g]?c.getReserved(g):c.h[g]))}D.setObject(d,b);return a(d)})};Cc.execute=function(a,b,c){return a(b,c)};var pb=function(){this.showStack=!1;this.catchErrors=!0};f["ufront.web.ErrorPageHandler"]=pb;pb.__name__=["ufront","web","ErrorPageHandler"];pb.__interfaces__=[Mb];pb.errorStackItems=function(a){return y.toString(a).split("\n")};
pb.prototype={catchErrors:null,showStack:null,handleError:function(a,b){var c=null!=a&&null!=a.data?" ("+q.string(a.data)+")":"",d=this.showStack?" "+y.toString(y.exceptionStack()):"";b.messages.push({msg:"Handling error: "+q.string(a)+c+d,pos:{fileName:"ErrorPageHandler.hx",lineNumber:44,className:"ufront.web.ErrorPageHandler",methodName:"handleError"},type:K.MError});0==(b.completion&1<<E.CRequestHandlersComplete[1])&&(b.response.clear(),b.response.status=a.code,b.response.set_contentType("text/html"),
b.response.write(this.renderError(a,this.showStack)),b.completion|=1<<E.CRequestHandlersComplete[1]);this.catchErrors||a.throwSelf();return x.success()},renderErrorContent:function(a,b){null==b&&(b=!1);var c=null!=a.data?'<p class="error-data">'+q.string(a.data)+"</p>":"",d=b?'<p class="error-pos">&gt; '+a.printPos()+"</p>":"",e=pb.errorStackItems(y.exceptionStack()),e=b&&0<e.length?'<div class="error-exception-stack"><h3>Exception Stack:</h3>\n\t\t\t\t\t<pre><code>'+e.join("\n")+"</pre></code>\n\t\t\t\t</div>":
"";return'\n\t\t\t<summary class="error-summary"><h1 class="error-message">'+a.message+'</h1></summary>\n\t\t\t<details class="error-details"> '+c+" "+d+" "+e+"</details>\n\t\t"},renderErrorPage:function(a,b){return"<!DOCTYPE html>\n<html>\n<head>\n\t<title>"+a+'</title>\n\t<style>\n\t\tbody {\n\t\t\tfont-family: sans-serif;\n\t\t}\n\t\t.container {\n\t\t\tmax-width: 800px;\n\t\t\tmargin: 30px auto;\n\t\t}\n\t\t.jumbotron {\n\t\t\tpadding: 30px;\n\t\t\tborder-radius: 30px;\n\t\t\tbackground-color: rgb(230,230,230);\n\t\t}\n\t\tp[frown] {\n\t\t\ttext-align: center;\n\t\t}\n\t\tp[frown] span { \n\t\t\ttransform: rotate(90deg);\n\t\t\tdisplay: inline-block;\n\t\t\tcolor: #bbb;\n\t\t\tfont-size: 3em;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div class="container">\n\t\t<div class="jumbotron">\n\t\t\t<p frown><span>:(</span></p>\n\t\t\t'+
b+"\n\t\t</div>\n\t</div>\n</body>\n</html>\n"},renderError:function(a,b){var c=this.renderErrorContent(a,b);return this.renderErrorPage(a.message,c)},__class__:pb};var ia=function(a,b,c,d,e,g,f){null==f&&(f=!1);null==g&&(g=!1);this.name=a;this.value=b;this.expires=c;this.domain=d;this.path=e;this.secure=g;this.httpOnly=f};f["ufront.web.HttpCookie"]=ia;ia.__name__=["ufront","web","HttpCookie"];ia.addPair=function(a,b,c,d){null==d&&(d=!1);if(d||null!=c)a.b+="; ",a.b+=null==b?"null":""+b,null!=c&&(a.b+=
"=",a.b+=null==c?"null":""+c)};ia.prototype={domain:null,expires:null,name:null,path:null,secure:null,httpOnly:null,value:null,expireNow:function(){this.expires=new Date(0)},toString:function(){return""+this.name+": "+this.get_description()},get_description:function(){var a=new Ka;a.b+=q.string(this.value);if(null!=this.expires){null==ia.tzOffset&&(ia.tzOffset=n.strDate("1970-01-01 00:00:00").getTime());var b=this.expires.getTime()+ia.tzOffset,c=new Date(b),d=function(a){for(a=""+a;2>a.length;)a=
"0"+a;return a},b=ia.dayNames[c.getDay()],e=d(c.getDate()),g=ia.monthNames[c.getMonth()],f=c.getFullYear(),h=d(c.getHours()),k=d(c.getMinutes()),c=d(c.getSeconds());ia.addPair(a,"expires",""+b+", "+e+"-"+g+"-"+f+" "+h+":"+k+":"+c+" GMT")}ia.addPair(a,"domain",this.domain);ia.addPair(a,"path",this.path);this.secure&&ia.addPair(a,"secure",null,!0);return a.b},__class__:ia,__properties__:{get_description:"get_description"}};var r=function(){};f["ufront.web.HttpError"]=r;r.__name__=["ufront","web","HttpError"];
r.wrap=function(a,b,c){null==b&&(b="Internal Server Error");return t.__instanceof(a,z)?a:z.withData(500,b,a,c)};r.badRequest=function(a,b){var c="Bad Request";null!=a&&(c+=": "+a);return new z(400,c,b)};r.internalServerError=function(a,b,c){null==a&&(a="Internal Server Error");return z.withData(500,a,b,c)};r.methodNotAllowed=function(a){return new z(405,"Method Not Allowed",a)};r.pageNotFound=function(a){return new z(404,"Page Not Found",a)};r.unauthorized=function(a,b){null==a&&(a="Unauthorized Access");
return new z(401,a,b)};r.unprocessableEntity=function(a){return new z(422,"Unprocessable Entity",a)};r.authError=function(a,b){var c;switch(a[1]){case 0:c="Not Logged In";break;case 1:c="Login Failed: "+a[2];break;case 2:c="Not Logged In As "+q.string(a[2]);break;case 3:c="Permission "+q.string(a[2])+" denied"}return z.typed(401,c,a,b)};r.remotingError=function(a,b){switch(a[1]){case 0:var c=a[3];return z.typed(c,"HTTP "+c+" Error during "+a[2],a,b);case 1:return z.typed(404,"Remoting API "+a[2]+
" not found: "+a[3],a,b);case 2:var c=a[2],d=a[3],d=d instanceof z?d:null;return null!=d?z.typed(d.code,d.message,a,b):z.typed(500,"Internal Server Error while executing "+c,a,b);case 3:return z.typed(500,"Error during callback after "+a[2]+": "+q.string(a[3]),a,b);case 4:return z.typed(422,"Remoting serialization failed for call "+a[2]+": could not process "+a[3],a,b);case 5:return z.typed(500,"Error with response for "+a[2]+": no remoting response found",a,b);case 6:return c=a[3],d=a[2],t.__instanceof(c,
z)?z.typed(c.code,c.message,a,c.pos):z.typed(500,"Call to "+d+" failed: "+q.string(c),a,b);case 7:return z.typed(500,"Unknown exception during remoting call",a,b)}};r.notImplemented=function(a){return new z(500,"Internal Server Error: "+(a.className+"."+a.methodName)+" is not implemented on this platform",a)};r.abstractMethod=function(a){return new z(500,"Internal Server Error: "+(a.className+"."+a.methodName)+" is an abstract method and should be overridden by a subclass",a)};r.throwIfNull=function(a,
b,c){null==b&&(b="argument");if(null==a)throw new k(new z(500,""+b+" should not be null",c));};r.fakePosition=function(a,b,c){return{methodName:b,lineNumber:-1,fileName:"",customParams:c,className:v.getClassName(null==a?null:t.getClass(a))}};var Nb=function(a){this.indexController=a};f["ufront.web.MVCHandler"]=Nb;Nb.__name__=["ufront","web","MVCHandler"];Nb.__interfaces__=[Sb];Nb.prototype={indexController:null,handleRequest:function(a){var b=this;return h._tryFailingFlatMap(this.processRequest(a),
function(c){return b.executeResult(a)})},processRequest:function(a){a.actionContext.handler=this;var b=a.injector._instantiate(this.indexController);return h._tryMap(b.execute(),function(b){a.actionContext.actionResult=b;return J.Noise})},executeResult:function(a){try{return a.actionContext.actionResult.executeResult(a.actionContext)}catch(b){return y.lastException=b,b instanceof k&&(b=b.val),a=a.actionContext,v.getClassName(null==a?null:t.getClass(a)),h.sync(l.Failure(r.wrap(b,null,{fileName:"MVCHandler.hx",
lineNumber:70,className:"ufront.web.MVCHandler",methodName:"executeResult"})))}},toString:function(){return"ufront.web.MVCHandler"},__class__:Nb};var ka=function(a,b,c,d,e){this.browser=a;this.version=b;this.majorVersion=c;this.minorVersion=d;this.platform=e};f["ufront.web.UserAgent"]=ka;ka.__name__=["ufront","web","UserAgent"];ka.fromString=function(a){var b=new ka("unknown","",0,0,"unknown"),c=ka.searchString(ka.dataBrowser,a);null!=c&&(b.browser=c.app,c=ka.extractVersion(c.versionString,a),null!=
c&&(b.version=c.version,b.majorVersion=c.majorVersion,b.minorVersion=c.minorVersion));a=ka.searchString(ka.dataOS,a);null!=a&&(b.platform=a.app);return b};ka.extractVersion=function(a,b){var c=b.indexOf(a);if(0>c)return null;var d=new la("(\\d+)\\.(\\d+)[^ ();]*","");return d.match(n.substr(b,c+a.length+1,null))?{version:d.matched(0),majorVersion:q.parseInt(d.matched(1)),minorVersion:q.parseInt(d.matched(2))}:null};ka.searchString=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(0<=b.indexOf(d.subString))return{app:d.identity,
versionString:null==d.versionSearch?d.identity:d.versionSearch}}return null};ka.prototype={browser:null,version:null,majorVersion:null,minorVersion:null,platform:null,toString:function(){return""+this.browser+" v."+this.majorVersion+"."+this.minorVersion+" ("+this.version+") on "+this.platform},__class__:ka};var Sc=function(a){r.throwIfNull(a,"httpContext",{fileName:"ActionContext.hx",lineNumber:80,className:"ufront.web.context.ActionContext",methodName:"new"});this.httpContext=a};f["ufront.web.context.ActionContext"]=
Sc;Sc.__name__=["ufront","web","context","ActionContext"];Sc.prototype={httpContext:null,handler:null,controller:null,action:null,args:null,actionResult:null,uriParts:null,get_uriParts:function(){null==this.uriParts&&(this.uriParts=this.httpContext.getRequestUri().split("/"),0<this.uriParts.length&&""==this.uriParts[0]&&this.uriParts.shift(),0<this.uriParts.length&&""==this.uriParts[this.uriParts.length-1]&&this.uriParts.pop());return this.uriParts},toString:function(){return"ActionContext("+q.string(this.controller)+
", "+this.action+", "+q.string(this.args)+")"},__class__:Sc,__properties__:{get_uriParts:"get_uriParts"}};var nb=function(a,b,c,d,e,g,f){null==f&&(f="uf-content");r.throwIfNull(b,null,{fileName:"HttpContext.hx",lineNumber:214,className:"ufront.web.context.HttpContext",methodName:"new"});r.throwIfNull(a,null,{fileName:"HttpContext.hx",lineNumber:215,className:"ufront.web.context.HttpContext",methodName:"new"});this.request=a;this.response=b;this.urlFilters=null!=g?g:[];this._relativeContentDir=f;this.actionContext=
new Sc(this);this.messages=[];this.completion=0;this.injector=null!=c?c.createChildInjector():new ib;this.injector.mapType("ufront.web.context.HttpContext",null,null).toValue(this);this.injector.mapType("ufront.web.context.HttpRequest",null,null).toValue(a);this.injector.mapType("ufront.web.context.HttpResponse",null,null).toValue(b);this.injector.mapType("ufront.web.context.ActionContext",null,null).toValue(this.actionContext);this.injector.mapType("ufront.log.MessageList",null,null).toValue(new Pc(this.messages));
this.injector.mapType("minject.Injector",null,null).toValue(this.injector);null!=d&&(this.session=d);if(null==this.session)try{this.session=this.injector.getValueForType("ufront.web.session.UFHttpSession",null)}catch(h){y.lastException=h,h instanceof k&&(h=h.val),a="Failed to load UFHttpSession: "+q.string(h)+". Using VoidSession instead."+y.toString(y.exceptionStack()),this.messages.push({msg:a,pos:{fileName:"HttpContext.hx",lineNumber:236,className:"ufront.web.context.HttpContext",methodName:"new"},
type:K.MLog})}null==this.session&&(this.session=new Ub);this.injector.mapType("ufront.web.session.UFHttpSession",null,null).toValue(this.session);this.injector.mapRuntimeTypeOf(this.session).toValue(this.session);null!=e&&(this.auth=e);if(null==this.auth)try{this.auth=this.injector.getValueForType("ufront.auth.UFAuthHandler",null)}catch(l){y.lastException=l,l instanceof k&&(l=l.val),e="Failed to load UFAuthHandler: "+q.string(l)+". Using NobodyAuthHandler instead."+y.toString(y.exceptionStack()),
this.messages.push({msg:e,pos:{fileName:"HttpContext.hx",lineNumber:244,className:"ufront.web.context.HttpContext",methodName:"new"},type:K.MLog})}null==this.auth&&(this.auth=new Vb);this.injector.mapType("ufront.auth.UFAuthHandler",null,null).toValue(this.auth);this.injector.mapRuntimeTypeOf(this.auth).toValue(this.auth)};f["ufront.web.context.HttpContext"]=nb;nb.__name__=["ufront","web","context","HttpContext"];nb.createContext=function(a,b,c,d,e,g,f){null==f&&(f="uf-content");null==a&&(a=Xa.create());
null==b&&(b=ca.create());return new nb(a,b,c,d,e,g,f)};nb.prototype={injector:null,request:null,response:null,session:null,sessionID:null,auth:null,currentUser:null,currentUserID:null,actionContext:null,completion:null,urlFilters:null,messages:null,contentDirectory:null,_requestUri:null,_relativeContentDir:null,_contentDir:null,getRequestUri:function(){if(null==this._requestUri){for(var a=Ca.parse(this.request.get_uri()),b=0,c=this.urlFilters;b<c.length;){var d=c[b];++b;d.filterIn(a)}this._requestUri=
a.toString()}return this._requestUri},generateUri:function(a,b){null==b&&(b=!1);for(var c=db.parse(a,b),d=this.urlFilters.length-1;0<=d;)this.urlFilters[d--].filterOut(c);return c.toString()},setUrlFilters:function(a){this.urlFilters=null!=a?a:[];this._requestUri=null},commitSession:function(){return null!=this.session?this.session.commit():h.sync(l.Success(J.Noise))},ufTrace:function(a,b){this.messages.push({msg:a,pos:b,type:K.MTrace})},ufLog:function(a,b){this.messages.push({msg:a,pos:b,type:K.MLog})},
ufWarn:function(a,b){this.messages.push({msg:a,pos:b,type:K.MWarning})},ufError:function(a,b){this.messages.push({msg:a,pos:b,type:K.MError})},toString:function(){return"HttpContext"},get_sessionID:function(){return null!=this.session?this.session.get_id():null},get_currentUser:function(){return null!=this.auth?this.auth.get_currentUser():null},get_currentUserID:function(){return null!=this.auth&&null!=this.auth.get_currentUser()?this.auth.get_currentUser().get_userID():null},get_contentDirectory:function(){null==
this._contentDir&&(null!=this.request.get_scriptDirectory()?this._contentDir=O.addTrailingSlash(this.request.get_scriptDirectory())+O.addTrailingSlash(this._relativeContentDir):this._contentDir=O.addTrailingSlash(this._relativeContentDir));return this._contentDir},__class__:nb,__properties__:{get_contentDirectory:"get_contentDirectory",get_currentUserID:"get_currentUserID",get_currentUser:"get_currentUser",get_sessionID:"get_sessionID"}};var E=f["ufront.web.context.RequestCompletion"]={__ename__:["ufront",
"web","context","RequestCompletion"],__constructs__:"CRequestMiddlewareComplete CRequestHandlersComplete CResponseMiddlewareComplete CLogHandlersComplete CFlushComplete CErrorHandlersTriggered CErrorHandlersComplete".split(" ")};E.CRequestMiddlewareComplete=["CRequestMiddlewareComplete",0];E.CRequestMiddlewareComplete.toString=w;E.CRequestMiddlewareComplete.__enum__=E;E.CRequestHandlersComplete=["CRequestHandlersComplete",1];E.CRequestHandlersComplete.toString=w;E.CRequestHandlersComplete.__enum__=
E;E.CResponseMiddlewareComplete=["CResponseMiddlewareComplete",2];E.CResponseMiddlewareComplete.toString=w;E.CResponseMiddlewareComplete.__enum__=E;E.CLogHandlersComplete=["CLogHandlersComplete",3];E.CLogHandlersComplete.toString=w;E.CLogHandlersComplete.__enum__=E;E.CFlushComplete=["CFlushComplete",4];E.CFlushComplete.toString=w;E.CFlushComplete.__enum__=E;E.CErrorHandlersTriggered=["CErrorHandlersTriggered",5];E.CErrorHandlersTriggered.toString=w;E.CErrorHandlersTriggered.__enum__=E;E.CErrorHandlersComplete=
["CErrorHandlersComplete",6];E.CErrorHandlersComplete.toString=w;E.CErrorHandlersComplete.__enum__=E;var Q=function(){};f["ufront.web.result.ActionResult"]=Q;Q.__name__=["ufront","web","result","ActionResult"];Q.transformUri=function(a,b){return L.startsWith(b,"~/")?a.httpContext.generateUri(n.substr(b,2,null)):b};Q.wrap=function(a){if(null==a)return new Hb;var b=a instanceof Q?a:null;null==b&&(b=new Sa(q.string(a)));return b};Q.prototype={executeResult:function(a){return x.success()},__class__:Q};
var $b=function(){};f["ufront.web.result.WrappedResult"]=$b;$b.__name__=["ufront","web","result","WrappedResult"];$b.prototype={originalResult:null,__class__:$b};var oa=function(a){this.originalResult=a;this.scripts=[]};f["ufront.web.result.CallJavascriptResult"]=oa;oa.__name__=["ufront","web","result","CallJavascriptResult"];oa.__interfaces__=[$b];oa.addInlineJsToResult=function(a,b){return(new oa(a)).addInlineJs(b)};oa.addJsScriptToResult=function(a,b){return(new oa(a)).addJsScript(b)};oa.executeScripts=
function(a,b){var c=window.document.createElement("div");c.innerHTML=b.join("");for(var d=0,e=c.children.length;d<e;){var g=d++,g=c.children[g],f=window.document.createElement("script");f.setAttribute("type","text/javascript");var h=g.getAttribute("src");null!=h&&f.setAttribute("src",h);f.innerHTML=g.innerHTML;window.document.body.appendChild(f);window.document.body.removeChild(f)}};oa.insertScriptsBeforeBodyTag=function(a,b){var c=b.join(""),d=a.lastIndexOf("</body>");return a=-1==d?a+c:a.substring(0,
d)+c+n.substr(a,d,null)};oa.__super__=Q;oa.prototype=M(Q.prototype,{originalResult:null,scripts:null,addInlineJs:function(a){this.scripts.push('<script type="text/javascript">'+a+"\x3c/script>");return this},addJsScript:function(a){this.scripts.push('<script type="text/javascript" src="'+a+'">\x3c/script>');return this},executeResult:function(a){var b=this;return h._tryMap(this.originalResult.executeResult(a),function(c){c=a.httpContext.response;"text/html"==c.get_contentType()&&0<b.scripts.length&&
oa.executeScripts(c,b.scripts);return J.Noise})},__class__:oa});var fa=function(a,b,c){oa.call(this,a);this.action=b;this.actionData=c};f["ufront.web.result.AddClientActionResult"]=fa;fa.__name__=["ufront","web","result","AddClientActionResult"];fa.__interfaces__=[$b];fa.addClientAction=function(a,b,c){return new fa(a,b,c)};fa.__super__=oa;fa.prototype=M(oa.prototype,{action:null,actionData:null,executeResult:function(a){var b=this;return h._tryMap(this.originalResult.executeResult(a),function(a){xa.ufExecuteAction(b.action,
b.actionData);return J.Noise})},__class__:fa});var pa=function(a,b){this.contentType=a;this.fileDownloadName=b;null==a&&this.setContentTypeByFilename()};f["ufront.web.result.FileResult"]=pa;pa.__name__=["ufront","web","result","FileResult"];pa.__super__=Q;pa.prototype=M(Q.prototype,{contentType:null,fileDownloadName:null,setContentTypeByFilename:function(a){null==a&&(a=this.fileDownloadName);if(null!=a){a=O.extension(a);var b=pa.extMap;if(null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=pa.extMap,
this.contentType=null!=m[a]?b.getReserved(a):b.h[a]}},executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"FileResult.hx",lineNumber:79,className:"ufront.web.result.FileResult",methodName:"executeResult"});null!=this.contentType&&a.httpContext.response.set_contentType(this.contentType);null!=this.fileDownloadName&&a.httpContext.response.setHeader("content-disposition","attachment; filename="+this.fileDownloadName);return x.success()},__class__:pa});var Tc=function(a,b,c){pa.call(this,
b,c);this.bytes=a};f["ufront.web.result.BytesResult"]=Tc;Tc.__name__=["ufront","web","result","BytesResult"];Tc.__super__=pa;Tc.prototype=M(pa.prototype,{bytes:null,executeResult:function(a){pa.prototype.executeResult.call(this,a);a.httpContext.response.writeBytes(this.bytes,0,this.bytes.length);return x.success()},__class__:Tc});var Sa=function(a,b){this.content=null!=a?a:"";this.contentType=b};f["ufront.web.result.ContentResult"]=Sa;Sa.__name__=["ufront","web","result","ContentResult"];Sa.create=
function(a){return new Sa(a,null)};Sa.replaceVirtualLinks=function(a,b){var c=new la("(')(~/[^'\\s]*)'","gi"),d=new la('(")(~/[^"\\s]*)"',"gi"),e=function(b){var c=b.matched(1);b=b.matched(2);b=Q.transformUri(a,b);return c+b+c};b=c.map(b,e);return b=d.map(b,e)};Sa.__super__=Q;Sa.prototype=M(Q.prototype,{content:null,contentType:null,executeResult:function(a){null!=this.contentType&&a.httpContext.response.set_contentType(this.contentType);"text/html"==a.httpContext.response.get_contentType()&&(this.content=
Sa.replaceVirtualLinks(a,this.content));a.httpContext.response.write(this.content);return x.success()},__class__:Sa});var Uc=function(a){this.filePath=a};f["ufront.web.result.DirectFilePathResult"]=Uc;Uc.__name__=["ufront","web","result","DirectFilePathResult"];Uc.__super__=Q;Uc.prototype=M(Q.prototype,{filePath:null,executeResult:function(a){r.throwIfNull(a,null,{fileName:"DirectFilePathResult.hx",lineNumber:35,className:"ufront.web.result.DirectFilePathResult",methodName:"executeResult"});throw new k(r.notImplemented({fileName:"DirectFilePathResult.hx",
lineNumber:52,className:"ufront.web.result.DirectFilePathResult",methodName:"executeResult"}));},__class__:Uc});var Hb=function(a){null==a&&(a=!1);this.preventFlush=a};f["ufront.web.result.EmptyResult"]=Hb;Hb.__name__=["ufront","web","result","EmptyResult"];Hb.__super__=Q;Hb.prototype=M(Q.prototype,{preventFlush:null,executeResult:function(a){this.preventFlush&&a.httpContext.response.preventFlush();return x.success()},__class__:Hb});var Vc=function(a,b,c){pa.call(this,b,c);this.fileName=a};f["ufront.web.result.FilePathResult"]=
Vc;Vc.__name__=["ufront","web","result","FilePathResult"];Vc.__super__=pa;Vc.prototype=M(pa.prototype,{fileName:null,executeResult:function(a){pa.prototype.executeResult.call(this,a);throw new k(r.notImplemented({fileName:"FilePathResult.hx",lineNumber:45,className:"ufront.web.result.FilePathResult",methodName:"executeResult"}));},__class__:Vc});var ac=function(a,b){this.message=a;this.failureMessage=null!=b?b:a};f["ufront.web.result.HttpAuthResult"]=ac;ac.__name__=["ufront","web","result","HttpAuthResult"];
ac.requireAuth=function(a,b,c,d,e,f){a=a.request.get_authorization();if(null!=a&&a.user==b&&a.pass==c)return f();b=new ac(d,e);return h.sync(l.Success(b))};ac.__super__=Q;ac.prototype=M(Q.prototype,{message:null,failureMessage:null,executeResult:function(a){a.httpContext.response.requireAuthentication(this.message);a.httpContext.response.write(this.failureMessage);return x.success()},__class__:ac});var bc=function(a){r.throwIfNull(a,"content",{fileName:"JsonResult.hx",lineNumber:26,className:"ufront.web.result.JsonResult",
methodName:"new"});this.content=a};f["ufront.web.result.JsonResult"]=bc;bc.__name__=["ufront","web","result","JsonResult"];bc.create=function(a){return new bc(a)};bc.__super__=Q;bc.prototype=M(Q.prototype,{content:null,executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"JsonResult.hx",lineNumber:31,className:"ufront.web.result.JsonResult",methodName:"executeResult"});var b=JSON.stringify(this.content);a.httpContext.response.write(b);a.httpContext.response.set_contentType("application/json");
return x.success()},__class__:bc});var H=function(a,b,c){null==a&&(a={},a=D.setObject(null!=a?a:{},{}));this.data=a;this.helpers=new B;this.partials=new B;this.templateSource=null!=b?U.TFromEngine(b,c):U.TUnknown;this.layoutSource=U.TUnknown;this.finalOutputTrigger=new aa;this.finalOutput=this.finalOutputTrigger.future};f["ufront.web.result.ViewResult"]=H;H.__name__=["ufront","web","result","ViewResult"];H.create=function(a){var b={};return new H(D.setObject(null!=b?b:{},a))};H.getCombinedMap=function(a){for(var b=
new B,c=0;c<a.length;){var d=a[c];++c;for(var e=d.keys();e.hasNext();){var f=e.next(),h=null!=m[f]?d.getReserved(f):d.h[f];null!=m[f]?b.setReserved(f,h):b.h[f]=h}}return b};H.getViewFolder=function(a){var b=a.controller,b=null==b?null:t.getClass(b),b=N.getType(b).viewFolder;null!=b&&0<b.length?(a=""+q.string(b[0]),a=O.removeTrailingSlashes(a)):(a=a.controller,a=v.getClassName(null==a?null:t.getClass(a)).split(".").pop(),a=a.charAt(0).toLowerCase()+n.substr(a,1,null),L.endsWith(a,"Controller")&&(a=
n.substr(a,0,a.length-10)));return a};H.inferViewPathFromContext=function(a){var b=a.controller,b=null==b?null:t.getClass(b),b=N.getFields(b),b=F.field(b,a.action);if(null!=b&&null!=b.template&&0<b.template.length)a=""+q.string(b.template[0]);else{a=a.action;var b=L.startsWith(a,"do"),c=2<a.length&&a.charAt(2)==a.charAt(2).toUpperCase();b&&c&&(a=n.substr(a,2,null));a=a.charAt(0).toLowerCase()+n.substr(a,1,null)}return U.TFromEngine(a,null)};H.inferLayoutFromContext=function(a){var b=null,c=a.controller,
d=null==c?null:t.getClass(c),c=N.getType(d),d=N.getFields(d),d=F.field(d,a.action);if(null!=d&&null!=d.layout&&0<d.layout.length)b=""+q.string(d.layout[0]);else if(null!=c.layout&&0<c.layout.length)b=""+q.string(c.layout[0]);else try{b=a.httpContext.injector.getValueForType("String","defaultLayout"),null!=b&&!1==L.startsWith(b,"/")&&(b="/"+b)}catch(e){y.lastException=e}return null!=b?U.TFromEngine(b,null):U.TNone};H.addViewFolderToPath=function(a,b){if(1==a[1]){var c=a[3],d=a[2],d=L.startsWith(d,
"/")?n.substr(d,1,null):""+b+"/"+d;return U.TFromEngine(d,c)}return a};H.loadTemplateFromSource=function(a,b){switch(a[1]){case 0:var c=a[3],d=a[2];try{return h.sync(l.Success(c.factory(d)))}catch(e){return y.lastException=e,h.sync(H.error("Failed to parse template.",""+('Templating Engine: "'+c.type+'"')+"\n"+('String template: "'+d+'"'),{fileName:"ViewResult.hx",lineNumber:630,className:"ufront.web.result.ViewResult",methodName:"loadTemplateFromSource"}))}case 1:return b.getTemplate(a[2],a[3]);
case 2:case 3:return h.sync(l.Success(null))}};H.loadPartialTemplates=function(a,b){for(var c=H.getCombinedMap(a),d=new B,e=new B,f=[],k=c.keys();k.hasNext();){var n=[k.next()],p=[null!=m[n[0]]?c.getReserved(n[0]):c.h[n[0]]],s=H.loadTemplateFromSource(p[0],b);s(function(a,b){return function(c){switch(c[1]){case 0:c=c[2];null!=c?null!=m[b[0]]?d.setReserved(b[0],c):d.h[b[0]]=c:(c=r.internalServerError("Partial "+b[0]+" must be either TFromString or TFromEngine, was "+q.string(a[0]),null,{fileName:"ViewResult.hx",
lineNumber:647,className:"ufront.web.result.ViewResult",methodName:"loadPartialTemplates"}),null!=m[b[0]]?e.setReserved(b[0],c):e.h[b[0]]=c);break;case 1:c=c[2],null!=m[b[0]]?e.setReserved(b[0],c):e.h[b[0]]=c}}}(p,n));f.push(s)}return h.map(h.ofMany(f),function(a){switch(ya.count(e)){case 0:return l.Success(d);case 1:a=[];for(var b=e.arrayKeys(),b=new eb(e,b);b.hasNext();){var c=b.next();a.push(c)}return l.Failure(a[0]);default:a=[];for(b=e.keys();b.hasNext();)c=b.next(),a.push(c);return H.error("Partials "+
q.string(a)+" failed to load: "+e.toString(),e,{fileName:"ViewResult.hx",lineNumber:661,className:"ufront.web.result.ViewResult",methodName:"loadPartialTemplates"})}})};H.addHelpersForPartials=function(a,b,c){for(var d=a.keys();d.hasNext();){var e=[d.next()],f=function(a,d){return function(e){var f={};D.setObject(f,b);D.setObject(f,e);D.set(f,"__current__",e);return ha.sure(H.executeTemplate("Partial["+d[0]+"]",l.Success(a[0]),f,c))}}([null!=m[e[0]]?a.getReserved(e[0]):a.h[e[0]]],e),f=G.from1(f);
null!=m[e[0]]?c.setReserved(e[0],f):c.h[e[0]]=f}};H.executeTemplate=function(a,b,c,d){switch(b[1]){case 0:b=b[2];try{return l.Success(b(c,d))}catch(e){return y.lastException=e,e instanceof k&&(e=e.val),H.error("Unable to execute "+a+" template: "+q.string(e),e,{fileName:"ViewResult.hx",lineNumber:693,className:"ufront.web.result.ViewResult",methodName:"executeTemplate"})}case 1:return c=b[2],H.error("Unable to load "+a+" template: "+q.string(c),c,{fileName:"ViewResult.hx",lineNumber:696,className:"ufront.web.result.ViewResult",
methodName:"executeTemplate"})}};H.error=function(a,b,c){return l.Failure(r.internalServerError(a,b,c))};H.__super__=Q;H.prototype=M(Q.prototype,{data:null,helpers:null,partials:null,viewFolder:null,templateSource:null,layoutSource:null,finalOutput:null,finalOutputTrigger:null,withLayout:function(a,b){this.layoutSource=U.TFromEngine(a,b);return this},withoutLayout:function(){this.layoutSource=U.TNone;return this},usingTemplateString:function(a,b,c){null==c&&(c=ma.get_haxe());null!=a&&(this.templateSource=
U.TFromString(a,c));null!=b&&(this.layoutSource=U.TFromString(b,c));return this},setVar:function(a,b){D.array_set(this.data,a,b);return this},setVars:function(a,b){null!=a&&D.setMap(this.data,a);null!=b&&D.setObject(this.data,b);return this},addHelper:function(a,b){var c=this.helpers;null!=m[a]?c.setReserved(a,b):c.h[a]=b;return this},addHelpers:function(a){for(var b=a.keys();b.hasNext();){var c=b.next();this.addHelper(c,null!=m[c]?a.getReserved(c):a.h[c])}return this},addPartial:function(a,b,c){b=
U.TFromEngine(b,c);c=this.partials;null!=m[a]?c.setReserved(a,b):c.h[a]=b;return this},addPartialString:function(a,b,c){b=U.TFromString(b,c);c=this.partials;null!=m[a]?c.setReserved(a,b):c.h[a]=b;return this},addPartials:function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();this.addPartial(d,null!=m[d]?a.getReserved(d):a.h[d],b)}return this},addPartialStrings:function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();this.addPartialString(d,null!=m[d]?a.getReserved(d):a.h[d],b)}return this},
executeResult:function(a){var b=this;3==this.layoutSource[1]&&(this.layoutSource=H.inferLayoutFromContext(a));3==this.templateSource[1]&&(this.templateSource=H.inferViewPathFromContext(a));null==this.viewFolder&&(this.viewFolder=H.getViewFolder(a));var c;try{c=a.httpContext.injector.getValueForType("ufront.view.UFViewEngine",null)}catch(d){return y.lastException=d,d instanceof k&&(d=d.val),x.asSurpriseError(d,"Failed to find a UFViewEngine in ViewResult.executeResult(), please make sure that one is made available in your application's injector",
{fileName:"ViewResult.hx",lineNumber:456,className:"ufront.web.result.ViewResult",methodName:"executeResult"})}var e={},f=a.controller,f=f instanceof Ua?f:null;null!=f&&D.set(e,"baseUri",f.baseUri);return h._tryMap(this.renderResult(c,e),function(c){c=Sa.replaceVirtualLinks(a,c);b.writeResponse(c,a);var d=b.finalOutputTrigger;if(null!=d.list){var e=d.list;d.list=null;d.result=c;s.invoke(e,c);s.clear(e)}return J.Noise})},renderResult:function(a,b){var c=this;if(3==this.layoutSource[1])return x.asSurpriseError(null,
"No layout template source was set on the ViewResult",{fileName:"ViewResult.hx",lineNumber:491,className:"ufront.web.result.ViewResult",methodName:"renderResult"});if(3==this.templateSource[1])return x.asSurpriseError(null,"No view template source was set on the ViewResult",{fileName:"ViewResult.hx",lineNumber:493,className:"ufront.web.result.ViewResult",methodName:"renderResult"});if(null==b){var d={};b=D.setObject(null!=d?d:{},{})}null!=this.viewFolder&&(this.templateSource=H.addViewFolderToPath(this.templateSource,
this.viewFolder),this.layoutSource=H.addViewFolderToPath(this.layoutSource,this.viewFolder));var d=H.loadTemplateFromSource(this.templateSource,a),e=H.loadTemplateFromSource(this.layoutSource,a),f=H.loadPartialTemplates([H.globalPartials,this.partials],a),n=h.ofMany([d,e,f]);return function(a){return h.map(n,function(b){return a(b[0],b[1],b[2])})}(function(a,d,e){try{var f=D.fromMany([b,H.globalValues,c.data]),g=H.getCombinedMap([H.globalHelpers,c.helpers]);H.addHelpersForPartials(ha.sure(e),f,g);
var h=ha.sure(H.executeTemplate("view",a,f,g));if(0==d[1]&&null==d[2])return l.Success(h);var n=ha.sure(H.executeTemplate("layout",d,D.set(f,"viewContent",h),g));return l.Success(n)}catch(m){y.lastException=m;m instanceof k&&(m=m.val);if(t.__instanceof(m,z))return l.Failure(m);throw m;}})},writeResponse:function(a,b){b.httpContext.response.set_contentType("text/html");b.httpContext.response.write(a)},__class__:H});var T=function(a,b,c){H.call(this,a,b,c);T.startLoadingAnimations()};f["ufront.web.result.PartialViewResult"]=
T;T.__name__=["ufront","web","result","PartialViewResult"];T.create=function(a){var b={};return new T(D.setObject(null!=b?b:{},a))};T.getAttr=function(a,b){if(null!=a){var c=a.attributes.getNamedItem(b);if(null!=c)return c.value}return null};T.startLoadingAnimations=function(){for(var a=window.document.querySelectorAll("[data-uf-partial]"),b=0,c=a.length;b<c;){var d=b++,d=a.item(d);(d instanceof HTMLElement?d:null).classList.add("uf-partial-outgoing")}};T.__super__=H;T.prototype=M(H.prototype,{writeResponse:function(a,
b){var c=b.httpContext.response;c.set_contentType("text/html");var d=window.document.implementation.createHTMLDocument("");d.documentElement.innerHTML=a;if(T.getAttr(window.document.body,"data-uf-layout")==T.getAttr(d.body,"data-uf-layout")){window.document.title=d.title;for(var e=window.document.querySelectorAll("[data-uf-partial]"),f=0,h=e.length;f<h;){var k=f++,k=e.item(k),k=k instanceof HTMLElement?k:null,l=T.getAttr(k,"data-uf-partial"),l=[d.querySelector("[data-uf-partial="+l+"]")],m=q.parseInt(T.getAttr(k,
"data-uf-transition-timeout"));null==m&&(m=T.transitionTimeout);l[0].classList.add("uf-partial-incoming");za.replaceNode(k,l[0],m);window.setTimeout(function(a){return function(){a[0].classList.remove("uf-partial-incoming")}}(l),1)}window.scrollTo(0,0);za.reloadScripts(window.document);c.preventFlushContent()}else H.prototype.writeResponse.call(this,a,b)},__class__:T});var qb=function(a,b){null==b&&(b=!1);r.throwIfNull(a,"url",{fileName:"RedirectResult.hx",lineNumber:38,className:"ufront.web.result.RedirectResult",
methodName:"new"});this.url=a;this.permanentRedirect=b};f["ufront.web.result.RedirectResult"]=qb;qb.__name__=["ufront","web","result","RedirectResult"];qb.create=function(a){return new qb(a,!1)};qb.createPermanent=function(a){return new qb(a,!0)};qb.__super__=Q;qb.prototype=M(Q.prototype,{url:null,permanentRedirect:null,executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"RedirectResult.hx",lineNumber:44,className:"ufront.web.result.RedirectResult",methodName:"executeResult"});a.httpContext.response.clearContent();
a.httpContext.response.clearHeaders();var b=Q.transformUri(a,this.url);this.permanentRedirect?a.httpContext.response.permanentRedirect(b):a.httpContext.response.redirect(b);return x.success()},__class__:qb});var ra=f["ufront.web.result.ResultWrapRequired"]={__ename__:["ufront","web","result","ResultWrapRequired"],__constructs__:["WRFuture","WROutcome","WRResultOrError"]};ra.WRFuture=["WRFuture",0];ra.WRFuture.toString=w;ra.WRFuture.__enum__=ra;ra.WROutcome=["WROutcome",1];ra.WROutcome.toString=w;
ra.WROutcome.__enum__=ra;ra.WRResultOrError=["WRResultOrError",2];ra.WRResultOrError.toString=w;ra.WRResultOrError.__enum__=ra;var U=f["ufront.web.result.TemplateSource"]={__ename__:["ufront","web","result","TemplateSource"],__constructs__:["TFromString","TFromEngine","TNone","TUnknown"]};U.TFromString=function(a,b){var c=["TFromString",0,a,b];c.__enum__=U;c.toString=w;return c};U.TFromEngine=function(a,b){var c=["TFromEngine",1,a,b];c.__enum__=U;c.toString=w;return c};U.TNone=["TNone",2];U.TNone.toString=
w;U.TNone.__enum__=U;U.TUnknown=["TUnknown",3];U.TUnknown.toString=w;U.TUnknown.__enum__=U;var rb=function(){};f["ufront.web.session.UFHttpSession"]=rb;rb.__name__=["ufront","web","session","UFHttpSession"];rb.prototype={get_id:null,id:null,init:null,clear:null,get:null,set:null,exists:null,remove:null,isActive:null,isReady:null,close:null,setExpiry:null,commit:null,triggerCommit:null,regenerateID:null,__class__:rb,__properties__:{get_id:"get_id"}};var Fa=function(){this.expiryFlag=this.regenerateFlag=
this.closeFlag=this.commitFlag=this.started=!1;this.oldSessionID=this.sessionID=this.sessionData=null};f["ufront.web.session.CacheSession"]=Fa;Fa.__name__=["ufront","web","session","CacheSession"];Fa.__interfaces__=[rb];Fa.isValidID=function(a){return null!=a?wa.isValid(a):!1};Fa.prototype={started:null,commitFlag:null,closeFlag:null,regenerateFlag:null,expiryFlag:null,sessionID:null,oldSessionID:null,sessionData:null,cache:null,context:null,sessionName:null,expiry:null,savePath:null,injectConfig:function(a,
b){this.context=a;this.sessionName=a.injector.hasMappingForType("String","sessionName")?a.injector.getValueForType("String","sessionName"):Fa.defaultSessionName;this.expiry=a.injector.hasMappingForType("Int","sessionExpiry")?a.injector.getValueForType("Int","sessionExpiry"):Fa.defaultExpiry;this.savePath=a.injector.hasMappingForType("String","sessionSavePath")?a.injector.getValueForType("String","sessionSavePath"):Fa.defaultSavePath;if(null==b)throw new k(r.internalServerError("No UFCacheConnection was injected into CacheSession",
null,{fileName:"CacheSession.hx",lineNumber:166,className:"ufront.web.session.CacheSession",methodName:"injectConfig"}));this.cache=b.getNamespace(this.savePath)},setExpiry:function(a){this.expiry=a},init:function(){var a=this,b=function(){a.regenerateID();a.sessionData=new B;a.started=!0;return l.Success(J.Noise)};if(this.started)return h.sync(l.Success(J.Noise));this.get_id();var c;null!=this.sessionID?(c=this.sessionID,c=!(null!=c&&wa.isValid(c))):c=!0;return c?x.asSurprise(b()):h.map(this.cache.get(this.sessionID),
function(c){switch(c[1]){case 0:var e=c[2];a.sessionData=e instanceof B?e:null;if(null!=a.sessionData)return a.started=!0,l.Success(J.Noise);c=a.context;e="Failed to unserialize session "+a.sessionID+" (Was "+q.string(v["typeof"](e))+", expected StringMap), starting a fresh session instead.";c.messages.push({msg:e,pos:{fileName:"CacheSession.hx",lineNumber:214,className:"ufront.web.session.CacheSession",methodName:"init"},type:K.MWarning});return b();case 1:switch(c[2][1]){case 0:return a.context.messages.push({msg:"Client requested session "+
a.sessionID+", but it did not exist in the cache. Starting a fresh session instead.",pos:{fileName:"CacheSession.hx",lineNumber:218,className:"ufront.web.session.CacheSession",methodName:"init"},type:K.MWarning}),b();case 2:return a.context.messages.push({msg:"Failed to read cache for session "+a.sessionID+": "+c[2][2]+". Starting a fresh session instead.",pos:{fileName:"CacheSession.hx",lineNumber:221,className:"ufront.web.session.CacheSession",methodName:"init"},type:K.MWarning}),b();default:return l.Failure(z.withData(null,
"Failed to initialize session",c[2],{fileName:"CacheSession.hx",lineNumber:224,className:"ufront.web.session.CacheSession",methodName:"init"}))}}})},commit:function(){var a=this,b=this.sessionID,c=null==this.sessionID||this.regenerateFlag?this.findNewSessionID():h.sync(l.Success(this.sessionID));return h._tryFailingFlatMap(h._tryMap(h._tryFailingFlatMap(h._tryFailingFlatMap(h._tryMap(c,function(b){a.sessionID=b;return J.Noise}),function(c){return a.regenerateFlag?(a.commitFlag=!0,null!=b?x.changeFailureToError(a.cache.remove(b),
null,{fileName:"CacheSession.hx",lineNumber:255,className:"ufront.web.session.CacheSession",methodName:"commit"}):x.success()):h.sync(l.Success(J.Noise))}),function(b){if(a.commitFlag&&null!=a.sessionData){b=a.cache;var c=a.sessionID,f=h.sync(a.sessionData);return x.changeFailureToError(x.changeSuccessTo(b.set(c,f),J.Noise),null,{fileName:"CacheSession.hx",lineNumber:262,className:"ufront.web.session.CacheSession",methodName:"commit"})}return h.sync(l.Success(J.Noise))}),function(b){a.expiryFlag&&
!a.closeFlag&&a.setCookie(a.sessionID,a.expiry);return J.Noise}),function(b){return a.closeFlag?(a.setCookie("",-1),x.changeFailureToError(a.cache.remove(a.sessionID),null,{fileName:"CacheSession.hx",lineNumber:275,className:"ufront.web.session.CacheSession",methodName:"commit"})):h.sync(l.Success(J.Noise))})},findNewSessionID:function(){var a=this,b=wa.create();return h.flatMap(this.cache.get(b),function(c){switch(c[1]){case 0:return a.findNewSessionID();case 1:if(0==c[2][1]){a.setCookie(b,a.expiry);
c=a.cache;var d=h.sync(new B);return h.map(c.set(b,d),function(a){switch(a[1]){case 0:return l.Success(b);case 1:return l.Failure(z.withData(null,"Failed to reserve session ID "+b,a[2],{fileName:"CacheSession.hx",lineNumber:294,className:"ufront.web.session.CacheSession",methodName:"findNewSessionID"}))}})}return h.sync(l.Failure(z.withData(null,"Failed to find new session ID, cache error",c[2],{fileName:"CacheSession.hx",lineNumber:297,className:"ufront.web.session.CacheSession",methodName:"findNewSessionID"})))}})},
setCookie:function(a,b){var c;0>=b?c=null:(c=(new Date).getTime()+1E3*b,c=new Date(c));c=new ia(this.sessionName,a,c,null,"/",!1);0>b&&c.expireNow();this.context.response.setCookie(c)},get:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:320,className:"ufront.web.session.CacheSession",methodName:"get"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));
if(null!=this.sessionData){var b=this.sessionData;return null!=m[a]?b.getReserved(a):b.h[a]}return null},set:function(a,b){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:332,className:"ufront.web.session.CacheSession",methodName:"set"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));if(null!=this.sessionData){var c=this.sessionData;null!=
m[a]?c.setReserved(a,b):c.h[a]=b;this.commitFlag=!0}},exists:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:345,className:"ufront.web.session.CacheSession",methodName:"exists"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=this.sessionData;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)}return!1},
remove:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:355,className:"ufront.web.session.CacheSession",methodName:"remove"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.remove(a),this.commitFlag=!0)},clear:function(){null==this.sessionData||!this.started&&null==this.get_id()||(this.sessionData=
new B,this.commitFlag=!0)},triggerCommit:function(){this.commitFlag=!0},regenerateID:function(){this.regenerateFlag=!0},isActive:function(){return this.started?!0:null!=this.get_id()},isReady:function(){return this.started},get_id:function(){null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_cookies(),this.sessionName));null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_params(),this.sessionName));return this.sessionID},close:function(){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",
{fileName:"CacheSession.hx",lineNumber:411,className:"ufront.web.session.CacheSession",methodName:"close"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));this.sessionData=null;this.closeFlag=!0},toString:function(){return null!=this.sessionData?this.sessionData.toString():"{}"},generateSessionID:function(){return wa.create()},checkStarted:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",
a,{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));},__class__:Fa,__properties__:{get_id:"get_id"}};var va=function(){this.expiryFlag=this.regenerateFlag=this.closeFlag=this.commitFlag=this.started=!1;this.sessionID=this.sessionData=null};f["ufront.web.session.FileSession"]=va;va.__name__=["ufront","web","session","FileSession"];va.__interfaces__=[rb];va.testValidId=function(a){return null!=a?wa.isValid(a):!1};va.notImplemented=function(a){return x.asSurpriseError("FileSession is not implemented on this platform",
null,a)};va.prototype={started:null,commitFlag:null,closeFlag:null,regenerateFlag:null,expiryFlag:null,sessionID:null,sessionData:null,context:null,injectConfig:function(a){this.sessionName=a.injector.hasMappingForType("String","sessionName")?a.injector.getValueForType("String","sessionName"):va.defaultSessionName;this.expiry=a.injector.hasMappingForType("Int","sessionExpiry")?a.injector.getValueForType("Int","sessionExpiry"):va.defaultExpiry;this.savePath=a.injector.hasMappingForType("String","sessionSavePath")?
a.injector.getValueForType("String","sessionSavePath"):va.defaultSavePath;this.savePath=O.addTrailingSlash(this.savePath);L.startsWith(this.savePath,"/")||(this.savePath=a.get_contentDirectory()+this.savePath)},sessionName:null,expiry:null,savePath:null,setExpiry:function(a){this.expiry=a},init:function(){var a=this;if(this.started)return x.success();this.get_id();this.sessionData=new B;return h._tryMap(h._tryMap(h._tryFailingFlatMap(this.doCreateSessionDirectory(),X(this,this.doReadSessionFile)),
X(this,this.doUnserializeSessionData)),function(b){a.started=!0;return J.Noise})},doCreateSessionDirectory:function(){O.removeTrailingSlashes(this.savePath);return x.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:219,className:"ufront.web.session.FileSession",methodName:"doCreateSessionDirectory"})},doReadSessionFile:function(a){a=this.sessionID;if(null!=a&&wa.isValid(a))return x.asSurpriseError("FileSession is not implemented on this platform",
null,{fileName:"FileSession.hx",lineNumber:239,className:"ufront.web.session.FileSession",methodName:"doReadSessionFile"});this.context.messages.push({msg:"Session ID "+this.sessionID+" was invalid, resetting session.",pos:{fileName:"FileSession.hx",lineNumber:243,className:"ufront.web.session.FileSession",methodName:"doReadSessionFile"},type:K.MWarning});this.sessionID=null;return x.asGoodSurprise(null)},doUnserializeSessionData:function(a){if(null!=a)try{this.sessionData=t.__cast(W.run(a),B)}catch(b){y.lastException=
b,b instanceof k&&(b=b.val),this.context.messages.push({msg:"Failed to unserialize session data: "+q.string(b),pos:{fileName:"FileSession.hx",lineNumber:256,className:"ufront.web.session.FileSession",methodName:"doUnserializeSessionData"},type:K.MWarning})}return J.Noise},setCookie:function(a,b){var c;0>=b?c=null:(c=(new Date).getTime()+1E3*b,c=new Date(c));c=new ia(this.sessionName,a,c,null,"/",!1);0>b&&c.expireNow();this.context.response.setCookie(c)},commit:function(){null==this.sessionID&&null!=
this.sessionData&&this.regenerateID();return h._tryFailingFlatMap(h._tryFailingFlatMap(h._tryFailingFlatMap(this.doRegenerateID(),X(this,this.doSaveSessionContent)),X(this,this.doSetExpiry)),X(this,this.doCloseSession))},doRegenerateID:function(){return this.regenerateFlag?x.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:334,className:"ufront.web.session.FileSession",methodName:"doRegenerateID"}):x.success()},doSaveSessionContent:function(a){if(this.commitFlag&&
null!=this.sessionData){try{V.run(this.sessionData)}catch(b){return y.lastException=b,b instanceof k&&(b=b.val),b.asSurpriseError("Failed to serialize session content")}return x.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:358,className:"ufront.web.session.FileSession",methodName:"doSaveSessionContent"})}return x.success()},doSetExpiry:function(a){this.expiryFlag&&this.setCookie(this.sessionID,this.expiry);return x.success()},doCloseSession:function(a){return this.closeFlag?
(this.setCookie("",-1),x.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:383,className:"ufront.web.session.FileSession",methodName:"doCloseSession"})):x.success()},get:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=
this.sessionData;return null!=m[a]?b.getReserved(a):b.h[a]}return null},set:function(a,b){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));if(null!=this.sessionData){var c=this.sessionData;null!=m[a]?c.setReserved(a,b):c.h[a]=b;this.commitFlag=!0}},exists:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",
null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));if(null!=this.sessionData){var b=this.sessionData;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)}return!1},remove:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));null!=this.sessionData&&
(this.sessionData.remove(a),this.commitFlag=!0)},clear:function(){null==this.sessionData||!this.started&&null==this.get_id()||(this.sessionData=new B,this.commitFlag=!0)},triggerCommit:function(){this.commitFlag=!0},regenerateID:function(){this.regenerateFlag=!0},isActive:function(){return this.started?!0:null!=this.get_id()},isReady:function(){return this.started},get_id:function(){null==this.sessionID&&(this.sessionID=C.get(this.context.request.get_cookies(),this.sessionName));null==this.sessionID&&
(this.sessionID=C.get(this.context.request.get_params(),this.sessionName));return this.sessionID},close:function(){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));this.sessionData=null;this.closeFlag=!0},toString:function(){return null!=this.sessionData?this.sessionData.toString():"{}"},getSessionFilePath:function(a){return""+
this.savePath+a+".sess"},generateSessionID:function(){return wa.create()},checkStarted:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:509,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));},__class__:va,__properties__:{get_id:"get_id"}};var yb=function(){};f["ufront.web.session.InlineSessionMiddleware"]=yb;yb.__name__=["ufront","web","session","InlineSessionMiddleware"];
yb.__interfaces__=[Rb];yb.prototype={requestIn:function(a){return yb.alwaysStart||null!=a.session.get_id()&&""!=a.session.get_id()?a.session.init():x.success()},responseOut:function(a){return null!=a.session&&a.session.isReady()?a.session.commit():x.success()},__class__:yb};var Wc=function(){this.map=new B;this.id=wa.create()};f["ufront.web.session.TestSession"]=Wc;Wc.__name__=["ufront","web","session","TestSession"];Wc.__interfaces__=[rb];Wc.prototype={id:null,map:null,setExpiry:function(a){},init:function(){return h.sync(l.Success(J.Noise))},
commit:function(){return h.sync(l.Success(J.Noise))},triggerCommit:function(){},isActive:function(){return!0},isReady:function(){return!0},get:function(a){var b=this.map;return null!=m[a]?b.getReserved(a):b.h[a]},set:function(a,b){var c=this.map;null!=m[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){var b=this.map;return null!=m[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},remove:function(a){this.map.remove(a)},clear:function(){for(var a=this.map.keys();a.hasNext();){var b=a.next();this.map.remove(b)}},
regenerateID:function(){},close:function(){},get_id:function(){return this.id},__class__:Wc,__properties__:{get_id:"get_id"}};var Ub=function(){};f["ufront.web.session.VoidSession"]=Ub;Ub.__name__=["ufront","web","session","VoidSession"];Ub.__interfaces__=[rb];Ub.prototype={id:null,setExpiry:function(a){},init:function(){return h.sync(l.Success(J.Noise))},commit:function(){return h.sync(l.Success(J.Noise))},triggerCommit:function(){},isActive:function(){return!1},isReady:function(){return!1},get:function(a){return null},
set:function(a,b){},exists:function(a){return!1},remove:function(a){},clear:function(){},regenerateID:function(){},close:function(){},get_id:function(){return null},__class__:Ub,__properties__:{get_id:"get_id"}};var Ra=function(a,b,c,d){this.postName=a;this.originalFileName=O.withoutDirectory(b);this.size=c;this.contentType=d};f["ufront.web.upload.BaseUpload"]=Ra;Ra.__name__=["ufront","web","upload","BaseUpload"];Ra.prototype={postName:null,originalFileName:null,size:null,contentType:null,attachedUpload:null,
hxSerialize:function(a){var b=a instanceof Da?a:null,c;c=null!=b?0==b.direction[1]?!0:!1:!1;a.serialize(c);if(c){if(!1==t.__instanceof(this,Bb))throw new k("BaseUpload can only be serialized if the sub-class matches the UFFileUpload interface");c=this.postName+"_"+wa.create();C.add(b.uploads,c,this);a.serialize(c)}a.serialize(this.postName);a.serialize(this.originalFileName);a.serialize(this.size);a.serialize(this.contentType)},hxUnserialize:function(a){var b=a.unserialize(),c=a instanceof Qa?a:null;
if(b){if(null==c)throw new k("Unable to Unserialize upload. It was serialized with RemotingSerializer, it must be unserialized with RemotingUnserializer");var b=a.unserialize(),d=c.uploads;if(null!=m[b]?d.existsReserved(b):d.h.hasOwnProperty(b))this.attachedUpload=C.get(c.uploads,b);else throw new k("Unable to find upload attached as "+b);}this.postName=a.unserialize();this.originalFileName=a.unserialize();this.size=a.unserialize();this.contentType=a.unserialize()},__class__:Ra};var Bb=function(){};
f["ufront.web.upload.UFFileUpload"]=Bb;Bb.__name__=["ufront","web","upload","UFFileUpload"];Bb.prototype={postName:null,originalFileName:null,size:null,contentType:null,getBytes:null,getString:null,writeToFile:null,process:null,__class__:Bb};var Ab=function(a,b){Ra.call(this,a,b.name,b.size,b.type);this.file=b};f["ufront.web.upload.BrowserFileUpload"]=Ab;Ab.__name__=["ufront","web","upload","BrowserFileUpload"];Ab.__interfaces__=[Bb];Ab.__super__=Ra;Ab.prototype=M(Ra.prototype,{file:null,getBytes:function(){if(null!=
this.attachedUpload)return this.attachedUpload.getBytes();var a=new aa,b=new FileReader;b.onload=function(){var c=sa.ofString(b.result),c=l.Success(c);if(null!=a.list){var d=a.list;a.list=null;a.result=c;s.invoke(d,c);s.clear(d)}};b.onabort=function(b){b=l.Failure(r.internalServerError("Error during BrowserFileUpload.getBytes(), readAsBinaryString() was aborted",null,{fileName:"BrowserFileUpload.hx",lineNumber:45,className:"ufront.web.upload.BrowserFileUpload",methodName:"getBytes"}));if(null!=a.list){var d=
a.list;a.list=null;a.result=b;s.invoke(d,b);s.clear(d)}};b.onerror=function(b){b=l.Failure(r.wrap(b,"Error during BrowserFileUpload.getBytes(), readAsBinaryString() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:46,className:"ufront.web.upload.BrowserFileUpload",methodName:"getBytes"}));if(null!=a.list){var d=a.list;a.list=null;a.result=b;s.invoke(d,b);s.clear(d)}};b.readAsBinaryString(this.file);return a.future},getString:function(a){null==a&&(a="UTF-8");if(null!=this.attachedUpload)return this.attachedUpload.getString(a);
var b=new aa,c=new FileReader;c.onload=function(){var a=l.Success(c.result);if(null!=b.list){var e=b.list;b.list=null;b.result=a;s.invoke(e,a);s.clear(e)}};c.onabort=function(a){a=l.Failure(r.internalServerError("Error during BrowserFileUpload.getString(), readAsText() was aborted",null,{fileName:"BrowserFileUpload.hx",lineNumber:69,className:"ufront.web.upload.BrowserFileUpload",methodName:"getString"}));if(null!=b.list){var c=b.list;b.list=null;b.result=a;s.invoke(c,a);s.clear(c)}};c.onerror=function(a){a=
l.Failure(r.wrap(a,"Error during BrowserFileUpload.getString(), readAsText() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:70,className:"ufront.web.upload.BrowserFileUpload",methodName:"getString"}));if(null!=b.list){var c=b.list;b.list=null;b.result=a;s.invoke(c,a);s.clear(c)}};c.readAsText(this.file,a);return b.future},writeToFile:function(a){if(null!=this.attachedUpload)return this.attachedUpload.writeToFile(a);throw new k(r.notImplemented({fileName:"BrowserFileUpload.hx",lineNumber:85,
className:"ufront.web.upload.BrowserFileUpload",methodName:"writeToFile"}));},process:function(a,b){var c=this;if(null!=this.attachedUpload)return this.attachedUpload.process(a,b);null==b&&(b=16384);var d=new aa,e=0,f=null,f=function(){var m=!1,n,p=c.file.slice(e,e+b),q=new FileReader;q.onload=function(){var b=sa.ofString(q.result);0==b.length&&(m=!0);try{n=a(b,e,b.length)}catch(c){y.lastException=c,c instanceof k&&(c=c.val),n=h.sync(l.Failure(r.wrap(c,"Error during TmpFileUpload.process",{fileName:"BrowserFileUpload.hx",
lineNumber:125,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"})))}};q.onabort=function(a){n=h.sync(l.Failure(r.internalServerError("Error during BrowserFileUpload.process(), readAsBinaryString() was aborted",null,{fileName:"BrowserFileUpload.hx",lineNumber:128,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"})))};q.onerror=function(a){n=h.sync(l.Failure(r.wrap(a,"Error during BrowserFileUpload.process(), readAsBinaryString() raised an error",{fileName:"BrowserFileUpload.hx",
lineNumber:129,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"})))};q.readAsBinaryString(p);n(function(a){switch(a[1]){case 0:if(!1==m)e+=b,f();else if(a=l.Success(J.Noise),null!=d.list){var c=d.list;d.list=null;d.result=a;s.invoke(c,a);s.clear(c)}break;case 1:a=l.Failure(a[2]),null!=d.list&&(c=d.list,d.list=null,d.result=a,s.invoke(c,a),s.clear(c))}})};f();return d.future},__class__:Ab});var sc=function(){};f["ufront.web.upload.BrowserFileUploadMiddleware"]=sc;sc.__name__=["ufront",
"web","upload","BrowserFileUploadMiddleware"];sc.__interfaces__=[Qb];sc.prototype={requestIn:function(a){if(a.request.isMultipart())for(var b=p.currentUploads,c=0,d=F.fields(b);c<d.length;){var e=d[c];++c;for(var f=F.field(b,e),h=0,k=f.length;h<k;){var l=h++,l=new Ab(e,f[l]);C.add(a.request.get_files(),e,l)}}return x.success()},__class__:sc};var cc=function(a,b,c,d,e){Ra.call(this,b,O.withoutDirectory(c),d,e);this.tmpFileName=a};f["ufront.web.upload.TmpFileUpload"]=cc;cc.__name__=["ufront","web",
"upload","TmpFileUpload"];cc.__interfaces__=[Bb];cc.__super__=Ra;cc.prototype=M(Ra.prototype,{tmpFileName:null,getBytes:function(){if(null!=this.attachedUpload)return this.attachedUpload.getBytes();throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:51,className:"ufront.web.upload.TmpFileUpload",methodName:"getBytes"}));},getString:function(a){null==a&&(a="UTF-8");if(null!=this.attachedUpload)return this.attachedUpload.getString(a);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",
lineNumber:69,className:"ufront.web.upload.TmpFileUpload",methodName:"getString"}));},writeToFile:function(a){if(null!=this.attachedUpload)return this.attachedUpload.writeToFile(a);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:89,className:"ufront.web.upload.TmpFileUpload",methodName:"writeToFile"}));},process:function(a,b){if(null!=this.attachedUpload)return this.attachedUpload.process(a,b);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:154,className:"ufront.web.upload.TmpFileUpload",
methodName:"process"}));},deleteTemporaryFile:function(){throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:171,className:"ufront.web.upload.TmpFileUpload",methodName:"deleteTemporaryFile"}));},__class__:cc});var Wb=function(){};f["ufront.web.upload.TmpFileUploadMiddleware"]=Wb;Wb.__name__=["ufront","web","upload","TmpFileUploadMiddleware"];Wb.__interfaces__=[Rb];Wb.prototype={requestIn:function(a){if("post"==a.request.get_httpMethod().toLowerCase()&&a.request.isMultipart())throw new k(r.notImplemented({fileName:"TmpFileUploadMiddleware.hx",
lineNumber:108,className:"ufront.web.upload.TmpFileUploadMiddleware",methodName:"requestIn"}));return x.success()},responseOut:function(a){if("post"==a.request.get_httpMethod().toLowerCase()&&a.request.isMultipart())for(var b=$(C)(a.request.get_files());b.hasNext();){var c=b.next(),c=c instanceof cc?c:null;null!=c&&(c=c.deleteTemporaryFile(),1==c[1]&&a.messages.push({msg:c[2],pos:{fileName:"TmpFileUploadMiddleware.hx",lineNumber:125,className:"ufront.web.upload.TmpFileUploadMiddleware",methodName:"responseOut"},
type:K.MError}))}return x.success()},__class__:Wb};var Ca=function(){this.segments=[];this.query=[];this.fragment=null};f["ufront.web.url.PartialUrl"]=Ca;Ca.__name__=["ufront","web","url","PartialUrl"];Ca.parse=function(a){var b=new Ca;Ca.feed(b,a);return b};Ca.feed=function(a,b){var c=b.split("#");1<c.length&&(a.fragment=c[1]);c=c[0].split("?");if(1<c.length)for(var d=c[1].split("&"),e=0;e<d.length;){var f=d[e];++e;f=f.split("=");a.query.push({name:f[0],value:f[1],encoded:!0})}c=c[0].split("/");
""==c[0]&&c.shift();1==c.length&&""==c[0]&&c.pop();a.segments=c};Ca.prototype={segments:null,query:null,fragment:null,queryString:function(){for(var a=[],b=0,c=this.query;b<c.length;){var d=c[b];++b;var e;e=d.encoded?d.value:encodeURIComponent(d.value);a.push(d.name+"="+e)}return a.join("&")},toString:function(){var a="/"+this.segments.join("/"),b=this.queryString();0<b.length&&(a+="?"+b);null!=this.fragment&&(a+="#"+this.fragment);return a},__class__:Ca};var db=function(a){null==a&&(a=!1);Ca.call(this);
this.isPhysical=a};f["ufront.web.url.VirtualUrl"]=db;db.__name__=["ufront","web","url","VirtualUrl"];db.parse=function(a,b){null==b&&(b=!1);var c=new db(b);db.feed(c,a);return c};db.feed=function(a,b){Ca.feed(a,b);"~"==a.segments[0]&&(a.segments.shift(),1==a.segments.length&&""==a.segments[0]&&a.segments.pop(),a.isPhysical=!0)};db.__super__=Ca;db.prototype=M(Ca.prototype,{isPhysical:null,__class__:db});var Cb=function(){};f["ufront.web.url.filter.UFUrlFilter"]=Cb;Cb.__name__=["ufront","web","url",
"filter","UFUrlFilter"];Cb.prototype={filterIn:null,filterOut:null,__class__:Cb};var Ob=function(a){L.startsWith(a,"/")&&(a=n.substr(a,1,a.length));L.endsWith(a,"/")&&(a=n.substr(a,0,a.length-1));this.directory=a;this.segments=""!=a?a.split("/"):[]};f["ufront.web.url.filter.DirectoryUrlFilter"]=Ob;Ob.__name__=["ufront","web","url","filter","DirectoryUrlFilter"];Ob.__interfaces__=[Cb];Ob.prototype={directory:null,segments:null,filterIn:function(a){for(var b=0;0<a.segments.length&&a.segments[0]==this.segments[b++];)a.segments.shift()},
filterOut:function(a){a.segments=this.segments.concat(a.segments)},__class__:Ob};var Pb=function(a,b){null==b&&(b=!0);if(null==a)throw new k(r.internalServerError("Target not implemented, always pass a value for frontScript.",null,{fileName:"PathInfoUrlFilter.hx",lineNumber:31,className:"ufront.web.url.filter.PathInfoUrlFilter",methodName:"new"}));this.frontScript=a;this.useCleanRoot=b};f["ufront.web.url.filter.PathInfoUrlFilter"]=Pb;Pb.__name__=["ufront","web","url","filter","PathInfoUrlFilter"];
Pb.__interfaces__=[Cb];Pb.prototype={frontScript:null,useCleanRoot:null,filterIn:function(a){a.segments[0]==this.frontScript&&a.segments.shift()},filterOut:function(a){a.isPhysical||0==a.segments.length&&this.useCleanRoot||a.segments.unshift(this.frontScript)},__class__:Pb};var Xc=function(a,b,c){null==c&&(c=!0);null==a&&(a="q");if(null==b)throw new k(r.internalServerError("Target not implemented, always pass a value for frontScript",null,{fileName:"QueryStringUrlFilter.hx",lineNumber:35,className:"ufront.web.url.filter.QueryStringUrlFilter",
methodName:"new"}));this.frontScript=b;this.paramName=a;this.useCleanRoot=c};f["ufront.web.url.filter.QueryStringUrlFilter"]=Xc;Xc.__name__=["ufront","web","url","filter","QueryStringUrlFilter"];Xc.__interfaces__=[Cb];Xc.prototype={frontScript:null,paramName:null,useCleanRoot:null,filterIn:function(a){var b=this;if(a.segments[0]==this.frontScript){var c=ya.find(a.query,function(a){return a.name==b.paramName});null!=c&&(c.encoded&&decodeURIComponent(c.value.split("+").join(" ")),a.segments=Ca.parse(c.value).segments,
n.remove(a.query,c))}},filterOut:function(a){if(!(a.isPhysical||0==a.segments.length&&this.useCleanRoot)){var b="/"+a.segments.join("/");a.segments=[this.frontScript];a.query.push({name:this.paramName,value:b,encoded:!0})}},__class__:Xc};var td=0;f.Math=Math;String.prototype.__class__=f.String=String;String.__name__=["String"];f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var vd=f.Int={__name__:["Int"]},ud=f.Dynamic={__name__:["Dynamic"]},pd=f.Float=
Number;pd.__name__=["Float"];var od=f.Bool=Boolean;od.__ename__=["Bool"];var gd=f.Class={__name__:["Class"]},hd={},m={},Ec=fd.ArrayBuffer||Ia;null==Ec.prototype.slice&&(Ec.prototype.slice=Ia.sliceImpl);var ad=fd.Uint8Array||Wa._new;da.__meta__={obj:{classLists:[["null,true,ufront.web.Controller","controller.HomeController,ufront.app.DefaultUfrontController"],["null,true,ufront.api.UFApi","api.TestApi"],["null,true,ufront.web.client.UFClientAction","actions.ConfidantInterface"],["null,true,ufront.web.Controller",
"controller.HomeController,ufront.app.DefaultUfrontController"],["null,true,ufront.api.UFApi","api.TestApi"]]}};Eb.__meta__={obj:{rtti:[["cnx","haxe.remoting.Connection",""]]}};Fb.__meta__={obj:{asyncApi:["api.AsyncTestApi"]},fields:{getJson:{returnType:[3]},getItem:{returnType:[3]}}};Ta.__meta__={obj:{rtti:[["cnx","haxe.remoting.AsyncConnection",""]]}};Gb.__meta__={obj:{rtti:[["injectApi","minject.Injector","",""]]}};Ua.__meta__={obj:{rtti:[["injectContext","ufront.web.context.HttpContext","",""]]}};
ja.__meta__={obj:{rtti:[["testApi","api.AsyncTestApi",""]]},fields:{main:{wrapResult:[3]},about:{wrapResult:[3]},graphic:{wrapResult:[3],template:["/home/about.html"]},joomla:{wrapResult:[3],template:["/home/about.html"]},books:{wrapResult:[3],template:["/home/about.html"]},web:{wrapResult:[3],template:["/home/about.html"]},interactive:{wrapResult:[3],template:["/home/about.html"]},contact:{wrapResult:[3]},portfolio:{wrapResult:[4]},returnPortfolioItem:{wrapResult:[4]}}};fc.__meta__={obj:{"interface":null}};
V.USE_CACHE=!1;V.USE_ENUM_INDEX=!1;V.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";S.splitter=new la('(::[A-Za-z0-9_ ()&|!+=/><*."-]+::|\\$\\$([A-Za-z0-9_-]+)\\()',"");S.expr_splitter=new la('(\\(|\\)|[ \r\n\t]*"[^"]*"[ \r\n\t]*|[!+=/><*.&|-]+)',"");S.expr_trim=new la("^[ ]*([^ ]+)[ ]*$","");S.expr_int=new la("^[0-9]+$","");S.expr_float=new la("^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?$","");S.globals={};W.DEFAULT_RESOLVER=new gc;W.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
Ha.count=0;hc.__meta__={obj:{"interface":null}};ic.__meta__={obj:{"interface":null}};t.__toStr={}.toString;Wa.BYTES_PER_ELEMENT=1;ca.CONTENT_TYPE="Content-type";ca.LOCATION="Location";ca.DEFAULT_CONTENT_TYPE="text/html";ca.DEFAULT_CHARSET="utf-8";ca.DEFAULT_STATUS=200;ca.MOVED_PERMANENTLY=301;ca.FOUND=302;ca.UNAUTHORIZED=401;ca.NOT_FOUND=404;ca.INTERNAL_SERVER_ERROR=500;Lb.__meta__={obj:{"interface":null}};kb.__meta__={obj:{"interface":null}};Mb.__meta__={obj:{"interface":null}};p.ignoreAnchors=!0;
jd.__meta__={obj:{"interface":null}};pc.__meta__={obj:{rtti:[["new","haxe.remoting.AsyncConnection","",""]]}};xa._currentApps=[];wb.__meta__={obj:{"interface":null}};bb.__meta__={obj:{"interface":null}};qc.__meta__={obj:{"interface":null}};Qb.__meta__={obj:{"interface":null}};Rb.__meta__={obj:{"interface":null}};Sb.__meta__={obj:{"interface":null}};ob.__meta__={fields:{showMessage:{wrapResult:[7]}}};Yb.__meta__={obj:{"interface":null}};Kc.__meta__={obj:{"interface":null}};Lc.__meta__={obj:{"interface":null}};
uc.__meta__={obj:{"interface":null}};wc.__meta__={obj:{"interface":null}};xc.__meta__={obj:{"interface":null}};zc.__meta__={obj:{"interface":null}};Ac.__meta__={obj:{"interface":null}};Ba.__meta__={obj:{rtti:[["cacheConnection","ufront.cache.UFCacheConnection",""]]}};Ba.namespace="ufront.middleware.RequestCache";Ba.metaName="cacheRequest";Ba.contentTypesToCache="text/plain text/html text/xml text/css text/csv application/json application/javascript application/atom+xml application/rdf+xml application/rss+xml application/soap+xml application/xhtml+xml application/xml application/xml-dtd".split(" ");
Oa.REMOVENL=new la("[\n\r]","g");ab.TIMEOUT=10;Ja.cacheEnabledByDefault=!0;Xb.__meta__={obj:{rtti:[["scriptDir","String","scriptDirectory"],["path","String","viewPath"]]}};Tb.__meta__={obj:{rtti:[["viewPath","String","viewPath"]]}};ma.all=[ma.get_haxe()];ia.dayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");ia.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");ka.dataBrowser=[{subString:"Chrome",identity:"Chrome"},{subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},
{subString:"Apple",identity:"Safari",versionSearch:"Version"},{subString:"Opera",versionSearch:"Version",identity:"Opera"},{subString:"iCab",identity:"iCab"},{subString:"KDE",identity:"Konqueror"},{subString:"Firefox",identity:"Firefox"},{subString:"Camino",identity:"Camino"},{subString:"Netscape",identity:"Netscape"},{subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];
ka.dataOS=[{subString:"Win",identity:"Windows"},{subString:"Mac",identity:"Mac"},{subString:"iPhone",identity:"iPhone/iPod"},{subString:"Linux",identity:"Linux"}];$b.__meta__={obj:{"interface":null}};pa.extMap=function(a){a=new B;null!=m.jpg?a.setReserved("jpg","image/jpeg"):a.h.jpg="image/jpeg";null!=m.jpeg?a.setReserved("jpeg","image/jpeg"):a.h.jpeg="image/jpeg";null!=m.png?a.setReserved("png","image/png"):a.h.png="image/png";null!=m.gif?a.setReserved("gif","image/gif"):a.h.gif="image/gif";null!=
m.svg?a.setReserved("svg","image/svg+xml"):a.h.svg="image/svg+xml";null!=m.tiff?a.setReserved("tiff","image/tiff"):a.h.tiff="image/tiff";null!=m.zip?a.setReserved("zip","application/zip"):a.h.zip="application/zip";null!=m.atom?a.setReserved("atom","application/atom+xml"):a.h.atom="application/atom+xml";null!=m.json?a.setReserved("json","application/json"):a.h.json="application/json";null!=m.js?a.setReserved("js","application/javascript"):a.h.js="application/javascript";null!=m.ogg?a.setReserved("ogg",
"application/ogg"):a.h.ogg="application/ogg";null!=m.pdf?a.setReserved("pdf","application/pdf"):a.h.pdf="application/pdf";null!=m.ps?a.setReserved("ps","application/postscript"):a.h.ps="application/postscript";null!=m.rdf?a.setReserved("rdf","application/rdf"):a.h.rdf="application/rdf";null!=m.rss?a.setReserved("rss","application/rss"):a.h.rss="application/rss";null!=m.woff?a.setReserved("woff","application/woff"):a.h.woff="application/woff";null!=m.xml?a.setReserved("xml","application/xml"):a.h.xml=
"application/xml";null!=m.dtd?a.setReserved("dtd","application/xml-dtd"):a.h.dtd="application/xml-dtd";null!=m.gz?a.setReserved("gz","application/gzip"):a.h.gz="application/gzip";return a}(this);H.globalValues=function(a){a={};return D.setObject(null!=a?a:{},{})}(this);H.globalHelpers=new B;H.globalPartials=new B;T.transitionTimeout=0;rb.__meta__={obj:{"interface":null}};Fa.__meta__={obj:{rtti:["injectConfig ufront.web.context.HttpContext   ufront.cache.UFCacheConnection  ".split(" ")]}};Fa.defaultSessionName=
"UfrontSessionID";Fa.defaultSavePath="sessions";Fa.defaultExpiry=0;va.__meta__={obj:{rtti:[["context","ufront.web.context.HttpContext",""],["injectConfig","ufront.web.context.HttpContext","",""]]}};va.defaultSessionName="UfrontSessionID";va.defaultSavePath="sessions/";va.defaultExpiry=0;yb.alwaysStart=!1;Bb.__meta__={obj:{"interface":null}};Wb.subDir="uf-upload-tmp";Cb.__meta__={obj:{"interface":null}};Yc.main()})("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=
typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
