(function(Zc,pd,jd){function K(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=b[f];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function ea(a){return a instanceof Array?function(){return n.iter(a)}:"function"==typeof a.iterator?N(a,a.iterator):a.iterator}function N(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=wd++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var e={},u=function(){return w.__string_rec(this,"")},$c=function(){};e.Client=$c;$c.__name__=["Client"];$c.main=function(){q.init();(new ra({indexController:Ca,defaultLayout:"layout.html",clientActions:[Ia]})).listen()};var qd=function(){};e.CompileTime=qd;qd.__name__=["CompileTime"];var aa=function(){};e.CompileTimeClassList=aa;aa.__name__=["CompileTimeClassList"];aa.get=function(a){null==aa.lists&&aa.initialise();return aa.lists.get(a)};
aa.getTyped=function(a,b){return aa.get(a)};aa.initialise=function(){aa.lists=new v;var a=Q.getType(aa);if(null!=a.classLists)for(var b=0,a=a.classLists;b<a.length;){var c=a[b];++b;for(var d=c,c=d[0],f=new ba,h=0,d=d[1].split(",");h<d.length;){var m=d[h];++h;m=p.resolveClass(m);null!=m&&f.push(m)}aa.lists.set(c,f)}};var cc=function(){};e.DateTools=cc;cc.__name__=["DateTools"];cc.delta=function(a,b){var c=a.getTime()+b,d=new Date;d.setTime(c);return d};var fa=function(a,b){b=b.split("u").join("");
this.r=RegExp(a,b)};e.EReg=fa;fa.__name__=["EReg"];fa.prototype={r:null,match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new k("EReg::matched");},matchedRight:function(){if(null==this.r.m)throw new k("No string matched");var a=this.r.m.index+this.r.m[0].length;return n.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new k("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;this.r.m=this.r.exec(0>c?a:n.substr(a,0,b+c));if(b=null!=this.r.m)this.r.s=a;return b}if(c=this.match(0>c?n.substr(a,b,null):n.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return c},replace:function(a,b){return a.replace(this.r,b)},map:function(a,b){var c=0,d=new ga;do{if(c>=a.length)break;else if(!this.matchSub(a,c)){d.add(n.substr(a,c,null));break}var f=this.matchedPos();
d.add(n.substr(a,c,f.pos-c));d.add(b(this));0==f.len?(d.add(n.substr(a,f.pos,1)),c=f.pos+1):c=f.pos+f.len}while(this.r.global);!this.r.global&&0<c&&c<a.length&&d.add(n.substr(a,c,null));return d.b},__class__:fa};var n=function(){};e.HxOverrides=n;n.__name__=["HxOverrides"];n.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),f=a.getMinutes(),h=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>f?"0"+f:""+f)+":"+(10>h?
"0"+h:""+h)};n.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new k("Invalid date format : "+a);}};n.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};n.substr=function(a,b,c){if(null!=b&&0!=
b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};n.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};n.remove=function(a,b){var c=n.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};n.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var sa=function(){};e.Lambda=sa;sa.__name__=["Lambda"];
sa.has=function(a,b){for(var c=ea(a)();c.hasNext();)if(c.next()==b)return!0;return!1};sa.exists=function(a,b){for(var c=ea(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1};sa.filter=function(a,b){for(var c=new ba,d=ea(a)();d.hasNext();){var f=d.next();b(f)&&c.add(f)}return c};sa.count=function(a,b){var c=0;if(null==b)for(var d=ea(a)();d.hasNext();)d.next(),c++;else for(d=ea(a)();d.hasNext();){var f=d.next();b(f)&&c++}return c};sa.find=function(a,b){for(var c=ea(a)();c.hasNext();){var d=
c.next();if(b(d))return d}return null};var ba=function(){this.length=0};e.List=ba;ba.__name__=["List"];ba.prototype={h:null,q:null,length:null,add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},first:function(){return null==this.h?null:this.h[0]},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},isEmpty:function(){return null==
this.h},iterator:function(){return new Ec(this.h)},__class__:ba};var Ec=function(a){this.head=a;this.val=null};e["_List.ListIterator"]=Ec;Ec.__name__=["_List","ListIterator"];Ec.prototype={head:null,val:null,hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:Ec};Math.__name__=["Math"];var A=function(){};e.Reflect=A;A.__name__=["Reflect"];A.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};A.field=
function(a,b){try{return a[b]}catch(c){return x.lastException=c,c instanceof k&&(c=c.val),null}};A.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};A.setProperty=function(a,b,c){var d;if(a.__properties__&&(d=a.__properties__["set_"+b]))a[d](c);else a[b]=c};A.callMethod=function(a,b,c){return b.apply(a,c)};A.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,
d)&&b.push(d)}return b};A.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};A.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__||"function"==b&&null!=(a.__name__||a.__ename__)};A.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var s=function(){};e.Std=s;s.__name__=["Std"];s.instance=function(a,b){return a instanceof b?a:null};s.string=function(a){return w.__string_rec(a,
"")};s.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=n.cca(a,1)&&88!=n.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};s.parseFloat=function(a){return parseFloat(a)};var ga=function(){this.b=""};e.StringBuf=ga;ga.__name__=["StringBuf"];ga.prototype={b:null,add:function(a){this.b+=s.string(a)},__class__:ga};var C=function(){};e.StringTools=C;C.__name__=["StringTools"];C.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};C.startsWith=function(a,b){return a.length>=b.length&&
n.substr(a,0,b.length)==b};C.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&n.substr(a,d-c,c)==b};C.isSpace=function(a,b){var c=n.cca(a,b);return 8<c&&14>c||32==c};C.ltrim=function(a){for(var b=a.length,c=0;c<b&&C.isSpace(a,c);)c++;return 0<c?n.substr(a,c,b-c):a};C.rtrim=function(a){for(var b=a.length,c=0;c<b&&C.isSpace(a,b-c-1);)c++;return 0<c?n.substr(a,0,b-c):a};C.trim=function(a){return C.ltrim(C.rtrim(a))};C.replace=function(a,b,c){return a.split(b).join(c)};C.fastCodeAt=function(a,
b){return a.charCodeAt(b)};var G=e.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};G.TNull=["TNull",0];G.TNull.toString=u;G.TNull.__enum__=G;G.TInt=["TInt",1];G.TInt.toString=u;G.TInt.__enum__=G;G.TFloat=["TFloat",2];G.TFloat.toString=u;G.TFloat.__enum__=G;G.TBool=["TBool",3];G.TBool.toString=u;G.TBool.__enum__=G;G.TObject=["TObject",4];G.TObject.toString=u;G.TObject.__enum__=G;G.TFunction=["TFunction",5];G.TFunction.toString=
u;G.TFunction.__enum__=G;G.TClass=function(a){a=["TClass",6,a];a.__enum__=G;a.toString=u;return a};G.TEnum=function(a){a=["TEnum",7,a];a.__enum__=G;a.toString=u;return a};G.TUnknown=["TUnknown",8];G.TUnknown.toString=u;G.TUnknown.__enum__=G;var p=function(){};e.Type=p;p.__name__=["Type"];p.getClass=function(a){return null==a?null:w.getClass(a)};p.getSuperClass=function(a){return a.__super__};p.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};p.getEnumName=function(a){return a.__ename__.join(".")};
p.resolveClass=function(a){a=e[a];return null!=a&&a.__name__?a:null};p.resolveEnum=function(a){a=e[a];return null!=a&&a.__ename__?a:null};p.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new k("Too many arguments");}};p.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};p.createEnum=function(a,b,c){var d=A.field(a,b);if(null==d)throw new k("No such constructor "+b);if(A.isFunction(d)){if(null==c)throw new k("Constructor "+b+" need parameters");return A.callMethod(a,d,c)}if(null!=c&&0!=c.length)throw new k("Constructor "+b+" does not need parameters");return d};p.getInstanceFields=function(a){var b=
[],c;for(c in a.prototype)b.push(c);n.remove(b,"__class__");n.remove(b,"__properties__");return b};p.getEnumConstructs=function(a){return a.__constructs__.slice()};p["typeof"]=function(a){switch(typeof a){case "boolean":return G.TBool;case "string":return G.TClass(String);case "number":return Math.ceil(a)==a%2147483648?G.TInt:G.TFloat;case "object":if(null==a)return G.TNull;var b=a.__enum__;if(null!=b)return G.TEnum(b);a=w.getClass(a);return null!=a?G.TClass(a):G.TObject;case "function":return a.__name__||
a.__ename__?G.TObject:G.TFunction;case "undefined":return G.TNull;default:return G.TUnknown}};var dc=function(){};e["ufront.web.client.UFClientAction"]=dc;dc.__name__=["ufront","web","client","UFClientAction"];dc.prototype={execute:function(a,b){},toString:function(){return p.getClassName(w.getClass(this))},ufTrace:function(a,b){this.logToConsole((na=window.console,N(na,na.log)),a,b)},ufLog:function(a,b){this.logToConsole((na=window.console,N(na,na.info)),a,b)},ufWarn:function(a,b){this.logToConsole((na=
window.console,N(na,na.warn)),a,b)},ufError:function(a,b){this.logToConsole((na=window.console,N(na,na.error)),a,b)},logToConsole:function(a,b,c){a(""+c.className+"."+c.methodName+"()["+c.lineNumber+"]:",b)},__class__:dc};var Ia=function(){this.currentPath="";this.currentLevel=1};e["actions.ConfidantInterface"]=Ia;Ia.__name__=["actions","ConfidantInterface"];Ia.__super__=dc;Ia.prototype=K(dc.prototype,{currentLevel:null,currentPath:null,execute:function(a,b){this.delay(N(this,this.listen),500)},listen:function(){var a=
this;window.document.querySelector("#loader").className="";var b=q.currentPath.split("/"),b=b.splice(0,b.length-2);1>b.length&&(window.document.querySelector("#stage").className="");b=window.document.querySelector("#goback");null!=b&&b.addEventListener("click",function(){window.document.querySelector("#stage").className="reversed"});q.addEventListener(null,function(b,c){a.updateClasses()});this.updateClasses();this.supportsSVG()||(window.document.querySelector("#nav").className="no-svg");for(var b=
window.document.querySelectorAll("a"),c=0;c<b.length;){var d=b[c];++c;d.addEventListener("click",function(){window.document.querySelector("#loader").className="show"})}},supportsSVG:function(){try{na=window.document;N(na,na.createElementNS);var a;a=w.__cast(window.document.createElementNS("http://www.w3.org/2000/svg","svg"),SVGSVGElement);N(a,a.createSVGRect);return!0}catch(b){return x.lastException=b,b instanceof k&&(b=b.val),!1}},updateClasses:function(){this.currentLevel=q.currentPath.split("/").length-
1;for(var a=["#panel1","#panel2","#panel3"],b=["recessed0","recessed1","recessed2","recessed3"],b=b.slice(0,(0<=this.currentLevel?this.currentLevel+1:1)-1),c=0;c<a.length;){var d=a[c];++c;window.document.querySelector(d).className="";window.document.querySelector(d).className=b.join(" ");b.pop()}a=window.document.querySelector("body").className;1<this.currentLevel&&"revealGobackOnNextLoad"==a&&this.delay(function(){window.document.querySelector("body").className=""},1E3);1==this.currentLevel&&(window.document.querySelector("body").className=
"revealGobackOnNextLoad")},delay:function(a,b){Cb.delay(a,b)},__class__:Ia});var ad=function(a,b,c,d,f,h){this.html=a;this.title=b;this.prevLink=c;this.nextLink=d;this.nextLinkLabel=h;this.prevLinkLabel=f};e["api.PortfolioItem"]=ad;ad.__name__=["api","PortfolioItem"];ad.prototype={html:null,prevLink:null,nextLink:null,prevLinkLabel:null,nextLinkLabel:null,title:null,__class__:ad};var Db=function(){};e["ufront.api.UFApi"]=Db;Db.__name__=["ufront","api","UFApi"];Db.prototype={cnx:null,className:null,
_makeApiCall:function(a,b){null==this.className&&(this.className=p.getClassName(w.getClass(this)));var c=!1;try{var d=Q.getFields(w.getClass(this)),c=0!=(A.field(d,a).returnType[0]&1<<X.ARTFuture[1])}catch(f){x.lastException=f,f instanceof k&&(f=f.val)}d=this.cnx.resolve(this.className).resolve(a).call(b);return c?g.sync(d):d},toString:function(){return p.getClassName(w.getClass(this))},__class__:Db};var Eb=function(){};e["api.TestApi"]=Eb;Eb.__name__=["api","TestApi"];Eb.__super__=Db;Eb.prototype=
K(Db.prototype,{getJson:function(a){return this._makeApiCall("getJson",[a])},getItem:function(a){return this._makeApiCall("getItem",[a])},__class__:Eb});var Ta=function(){};e["ufront.api.UFAsyncApi"]=Ta;Ta.__name__=["ufront","api","UFAsyncApi"];Ta.getAsyncApi=function(a){a=Q.getType(a);return null!=a.asyncApi&&(a=a.asyncApi[0],null!=a)?p.resolveClass(a):null};Ta.prototype={className:null,cnx:null,_makeApiCall:function(a,b,c,d){var f=""+this.className+"."+a+"("+b.join(",")+")",h=new V;a=this.cnx.resolve(this.className).resolve(a);
a.setErrorHandler(Da.wrapErrorHandler(function(a){h.trigger(l.Failure(r.remotingError(a,d)))}));a.call(b,function(a){var b;if(0!=(c&1<<X.ARTVoid[1]))b=l.Success(I.Noise);else if(0!=(c&1<<X.ARTOutcome[1]))switch(a[1]){case 0:b=l.Success(a[2]);break;case 1:b=l.Failure(r.remotingError(M.RApiFailure(f,a[2]),d))}else b=l.Success(a);h.trigger(b)});return h.future},__class__:Ta};var Fb=function(){};e["api.AsyncTestApi"]=Fb;Fb.__name__=["api","AsyncTestApi"];Fb._getClass=function(){return Eb};Fb.__super__=
Ta;Fb.prototype=K(Ta.prototype,{getJson:function(a){return this._makeApiCall("getJson",[a],3,{methodName:"getJson",lineNumber:0,customParams:null,fileName:"src/api/TestApi.hx",className:"AsyncTestApi"})},getItem:function(a){return this._makeApiCall("getItem",[a],3,{methodName:"getItem",lineNumber:0,customParams:null,fileName:"src/api/TestApi.hx",className:"AsyncTestApi"})},injectApi:function(a){this.className="api.TestApi"},__class__:Fb});var Ua=function(){};e["ufront.web.Controller"]=Ua;Ua.__name__=
["ufront","web","Controller"];Ua.prototype={context:null,baseUri:null,injectContext:function(a){this.context=a;var b=a.actionContext.get_uriParts(),b=L.addTrailingSlash(b.join("/"));a=L.addTrailingSlash(a.getRequestUri());this.baseUri="~"+L.addTrailingSlash(n.substr(a,0,a.length-b.length))},execute:function(){return g.sync(l.Failure(r.internalServerError("Field execute() in ufront.web.Controller is an abstract method, please override it in "+this.toString()+" ",null,{fileName:"Controller.hx",lineNumber:219,
className:"ufront.web.Controller",methodName:"execute"})))},executeSubController:function(a){return this.context.injector._instantiate(a).execute()},toString:function(){return p.getClassName(w.getClass(this))},ufTrace:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:J.MTrace}):Va.trace(""+s.string(a),b)},ufLog:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:J.MLog}):Va.trace("Log: "+s.string(a),b)},ufWarn:function(a,b){null!=this.context?
this.context.messages.push({msg:a,pos:b,type:J.MWarning}):Va.trace("Warning: "+s.string(a),b)},ufError:function(a,b){null!=this.context?this.context.messages.push({msg:a,pos:b,type:J.MError}):Va.trace("Error: "+s.string(a),b)},wrapResult:function(a,b){if(null==a){var c=new Gb(!0);return g.sync(l.Success(c))}c=0!=(b&1<<oa.WRFuture[1])?this.wrapInFuture(a):a;c=0!=(b&1<<oa.WROutcome[1])?this.wrapInOutcome(c):c;return 0!=(b&1<<oa.WRResultOrError[1])?this.wrapResultOrError(c):c},wrapInFuture:function(a){return g.sync(a)},
wrapInOutcome:function(a){return g.map(a,function(a){return l.Success(a)})},wrapResultOrError:function(a){return g.map(a,function(a){switch(a[1]){case 0:return l.Success(O.wrap(a[2]));case 1:return l.Failure(r.wrap(a[2],null,{fileName:"Controller.hx",lineNumber:308,className:"ufront.web.Controller",methodName:"wrapResultOrError"}))}})},setContextActionResultWhenFinished:function(a){var b=this;a(function(a){switch(a[1]){case 0:b.context.actionContext.actionResult=a[2]}})},__class__:Ua};var Ca=function(){};
e["controller.HomeController"]=Ca;Ca.__name__=["controller","HomeController"];Ca.__super__=Ua;Ca.prototype=K(Ua.prototype,{testApi:null,main:function(){return ya.addClientAction(new T(D.setObject(function(a){a={};return null!=a?a:{}}(this),{title:"Confidant Communications : Graphic Design, HTML5 Games, Flash Programming and Joomla Developer in Saskatoon, Saskatchewan",panel1classes:"recessed0",panel2classes:"",panel3classes:""})),p.getClassName(Ia),{msg:"simpleAction"})},getHostName:function(){return window.location.hostname},
about:function(){return ya.addClientAction(new T(function(a){var b={title:"Confidant Communications : About Us",portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",gobackLink:"http://"+a.getHostName()+"/"};return D.setObject(function(a){a={};return null!=a?a:{}}(a),b)}(this)),p.getClassName(Ia),{msg:"simpleAction"})},contact:function(){return ya.addClientAction(new T(function(a){var b={title:"Confidant Communications : Contact Us",portfolioItem:null,panel1classes:"recessed0 recessed1",
panel2classes:"recessed0",panel3classes:"",gobackLink:"http://"+a.getHostName()+"/"};return D.setObject(function(a){a={};return null!=a?a:{}}(a),b)}(this)),p.getClassName(Ia),{msg:"simpleAction"})},portfolio:function(){var a=this;return g._tryMap(this.testApi.getJson("portfolio.json"),function(b){return ya.addClientAction(new T(function(c){var d={title:"Confidant Communications : Portfolio",content:a.processJson(b),portfolioItem:null,panel1classes:"recessed0 recessed1",panel2classes:"recessed0",panel3classes:"",
gobackLink:"http://"+a.getHostName()+"/"};return D.setObject(function(a){a={};return null!=a?a:{}}(c),d)}(this)),p.getClassName(Ia),{msg:"simpleAction"})})},returnPortfolioItem:function(a){return g._tryMap(this.testApi.getItem(a),function(a){return ya.addClientAction(new T(function(c){var d={title:"Confidant Communications : Portfolio : "+a.title,content:[],portfolioItem:a,panel1classes:"recessed0 recessed1 recessed2",panel2classes:"recessed0 recessed1",panel3classes:"recessed0",gobackLink:"/portfolio/"};
return D.setObject(function(a){a={};return null!=a?a:{}}(c),d)}(this),"portfolio.html"),p.getClassName(Ia),{msg:"simpleAction"})})},processJson:function(a){return JSON.parse(a).items},execute:function(){var a=this.context.actionContext.get_uriParts();this.context.request.get_params();var b=this.context.request.get_httpMethod();this.context.actionContext.controller=this;this.context.actionContext.action="execute";try{if("get"==b.toLowerCase()&&0==a.length){this.context.actionContext.action="main";
this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,0);var c;c=Q.getFields(Ca).main.wrapResult[0];var d=this.wrapResult(this.main(),c);this.setContextActionResultWhenFinished(d);return d}if("get"==b.toLowerCase()&&1==a.length&&"about"==a[0]){this.context.actionContext.action="about";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var f;f=Q.getFields(Ca).about.wrapResult[0];var h=this.wrapResult(this.about(),f);this.setContextActionResultWhenFinished(h);
return h}if("get"==b.toLowerCase()&&1==a.length&&"contact"==a[0]){this.context.actionContext.action="contact";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,1);var m;m=Q.getFields(Ca).contact.wrapResult[0];var Ja=this.wrapResult(this.contact(),m);this.setContextActionResultWhenFinished(Ja);return Ja}if("get"==b.toLowerCase()&&1==a.length&&"portfolio"==a[0]){this.context.actionContext.action="portfolio";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,
1);var e;e=Q.getFields(Ca).portfolio.wrapResult[0];var g=this.wrapResult(this.portfolio(),e);this.setContextActionResultWhenFinished(g);return g}if("get"==b.toLowerCase()&&2==a.length&&"portfolio"==a[0]&&0<a[1].length){var l=a[1];this.context.actionContext.action="returnPortfolioItem";this.context.actionContext.args=[l];this.context.actionContext.get_uriParts().splice(0,2);var n;n=Q.getFields(Ca).returnPortfolioItem.wrapResult[0];var q=this.wrapResult(this.returnPortfolioItem(l),n);this.setContextActionResultWhenFinished(q);
return q}throw new k(r.pageNotFound({fileName:"HomeController.hx",lineNumber:19,className:"controller.HomeController",methodName:"execute"}));}catch(p){return x.lastException=p,p instanceof k&&(p=p.val),t.asSurpriseError(p,"Uncaught error while executing "+s.string(this.context.actionContext.controller)+"."+this.context.actionContext.action+"()",{fileName:"HomeController.hx",lineNumber:19,className:"controller.HomeController",methodName:"execute"})}},__class__:Ca});var ca=e["haxe.StackItem"]={__ename__:["haxe",
"StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};ca.CFunction=["CFunction",0];ca.CFunction.toString=u;ca.CFunction.__enum__=ca;ca.Module=function(a){a=["Module",1,a];a.__enum__=ca;a.toString=u;return a};ca.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=ca;a.toString=u;return a};ca.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=ca;c.toString=u;return c};ca.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=ca;a.toString=u;return a};
var x=function(){};e["haxe.CallStack"]=x;x.__name__=["haxe","CallStack"];x.getStack=function(a){if(null==a)return[];var b=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var f=[],h=0;h<b.length;){var m=b[h];++h;null!=x.wrapCallSite&&(m=x.wrapCallSite(m));var Ja=null,e=m.getFunctionName();if(null!=e){var k=e.lastIndexOf(".");0<=k&&(Ja=n.substr(e,0,k),e=n.substr(e,k+1,null),Ja=ca.Method(Ja,e))}f.push(ca.FilePos(Ja,m.getFileName(),m.getLineNumber()))}return f};a=x.makeStack(a.stack);
Error.prepareStackTrace=b;return a};x.exceptionStack=function(){return x.getStack(x.lastException)};x.toString=function(a){for(var b=new ga,c=0;c<a.length;){var d=a[c];++c;b.b+="\nCalled from ";x.itemToString(b,d)}return b.b};x.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b=null==c?a.b+"null":a.b+(""+c);break;case 2:var c=b[4],d=b[3],f=b[2];null!=f&&(x.itemToString(a,f),a.b+=" (");a.b=null==d?a.b+"null":a.b+(""+d);a.b+=" line ";a.b=null==
c?a.b+"null":a.b+(""+c);null!=f&&(a.b+=")");break;case 3:c=b[3];d=b[2];a.b=null==d?a.b+"null":a.b+(""+d);a.b+=".";a.b=null==c?a.b+"null":a.b+(""+c);break;case 4:c=b[2],a.b+="local function #",a.b=null==c?a.b+"null":a.b+(""+c)}};x.makeStack=function(a){if(null==a)return[];if("string"==typeof a){a=a.split("\n");"Error"==a[0]&&a.shift();for(var b=[],c=new fa("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),d=0;d<a.length;){var f=a[d];++d;if(c.match(f)){var f=c.matched(1).split("."),h=
f.pop(),m=c.matched(2),Ja=s.parseInt(c.matched(3));b.push(ca.FilePos("Anonymous function"==h?ca.LocalFunction():"Global code"==h?null:ca.Method(f.join("."),h),m,Ja))}else b.push(ca.Module(C.trim(f)))}return b}return a};var ec=function(){};e["haxe.IMap"]=ec;ec.__name__=["haxe","IMap"];var Hb=function(a){this.url=a;this.headers=new ba;this.params=new ba;this.async=!0};e["haxe.Http"]=Hb;Hb.__name__=["haxe","Http"];Hb.prototype={url:null,responseData:null,async:null,postData:null,headers:null,params:null,
setHeader:function(a,b){this.headers=sa.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setParameter:function(a,b){this.params=sa.filter(this.params,function(b){return b.param!=a});this.params.push({param:a,value:b});return this},req:null,request:function(a){var b=this;b.responseData=null;var c=this.req=bd.createXMLHttpRequest(),d=function(a){if(4==c.readyState){var d;try{d=c.status}catch(f){x.lastException=f,f instanceof k&&(f=f.val),d=null}null!=
d&&(a=window.location.protocol.toLowerCase(),(new fa("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(a)&&(d=null!=c.responseText?200:404));void 0==d&&(d=null);if(null!=d)b.onStatus(d);if(null!=d&&200<=d&&400>d)b.req=null,b.onData(b.responseData=c.responseText);else if(null==d)b.req=null,b.onError("Failed to connect or resolve host");else switch(d){case 12029:b.req=null;b.onError("Failed to connect to host");break;case 12007:b.req=null;b.onError("Unknown host");break;default:b.req=
null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var f=this.postData;if(null!=f)a=!0;else for(var h=this.params.h,m=null;null!=h;)m=h[0],h=h[1],f=null==f?"":f+"&",f+=encodeURIComponent(m.param)+"="+encodeURIComponent(m.value);try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var Ja=1>=this.url.split("?").length;c.open("GET",this.url+(Ja?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(e){x.lastException=
e;e instanceof k&&(e=e.val);b.req=null;this.onError(e.toString());return}!sa.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=this.headers.h;for(h=null;null!=a;)h=a[0],a=a[1],c.setRequestHeader(h.header,h.value);c.send(f);this.async||d(null)},onData:function(a){},onError:function(a){},onStatus:function(a){},__class__:Hb};var Fc=function(a,b){this.high=a;this.low=b};e["haxe._Int64.___Int64"]=
Fc;Fc.__name__=["haxe","_Int64","___Int64"];Fc.prototype={high:null,low:null,__class__:Fc};var Va=function(){};e["haxe.Log"]=Va;Va.__name__=["haxe","Log"];Va.trace=function(a,b){w.__trace(a,b)};var Y=function(){this.buf=new ga;this.cache=[];this.useCache=Y.USE_CACHE;this.useEnumIndex=Y.USE_ENUM_INDEX;this.shash=new v;this.scount=0};e["haxe.Serializer"]=Y;Y.__name__=["haxe","Serializer"];Y.run=function(a){var b=new Y;b.serialize(a);return b.toString()};Y.prototype={buf:null,cache:null,shash:null,scount:null,
useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var f=c++,
h=this.cache[f];if(typeof h==b&&h==a)return this.buf.b+="r",this.buf.b=null==f?this.buf.b+"null":this.buf.b+(""+f),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=A.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(A.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=p["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:isNaN(a)?
this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var f=d++;null==a[f]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+
b)),b=0),this.serialize(a[f]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case ba:this.buf.b+="l";a=a.h;for(b=null;null!=a;)b=a[0],a=a[1],this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(a.getTime());break;case v:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=y[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Ib:this.buf.b+="q";for(b=
a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.h[c]);this.buf.b+="h";break;case fb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=A.field(c,"__id__"),A.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Ea:d=0;f=a.length-2;b=new ga;for(c=Y.BASE64;d<f;){var h=a.get(d++),m=a.get(d++),e=a.get(d++);b.add(c.charAt(h>>2));b.add(c.charAt((h<<4|m>>4)&63));b.add(c.charAt((m<<
2|e>>6)&63));b.add(c.charAt(e&63))}d==f?(f=a.get(d++),a=a.get(d++),b.add(c.charAt(f>>2)),b.add(c.charAt((f<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==f+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(p.getClassName(b)),
this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(p.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(w.__instanceof(a,kd))a=p.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(w.__instanceof(a,ld))this.buf.b+="B",this.serializeString(p.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;
this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(p.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=s.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=s.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw new k("Cannot serialize function");default:throw new k("Cannot serialize "+s.string(a));}},serializeException:function(a){this.buf.b+="x";this.serialize(a)},
__class__:Y};var U=e["haxe._Template.TemplateExpr"]={__ename__:["haxe","_Template","TemplateExpr"],__constructs__:"OpVar OpExpr OpIf OpStr OpBlock OpForeach OpMacro".split(" ")};U.OpVar=function(a){a=["OpVar",0,a];a.__enum__=U;a.toString=u;return a};U.OpExpr=function(a){a=["OpExpr",1,a];a.__enum__=U;a.toString=u;return a};U.OpIf=function(a,b,c){a=["OpIf",2,a,b,c];a.__enum__=U;a.toString=u;return a};U.OpStr=function(a){a=["OpStr",3,a];a.__enum__=U;a.toString=u;return a};U.OpBlock=function(a){a=["OpBlock",
4,a];a.__enum__=U;a.toString=u;return a};U.OpForeach=function(a,b){var c=["OpForeach",5,a,b];c.__enum__=U;c.toString=u;return c};U.OpMacro=function(a,b){var c=["OpMacro",6,a,b];c.__enum__=U;c.toString=u;return c};var P=function(a){a=this.parseTokens(a);this.expr=this.parseBlock(a);if(!a.isEmpty())throw new k("Unexpected '"+s.string(a.first().s)+"'");};e["haxe.Template"]=P;P.__name__=["haxe","Template"];P.prototype={expr:null,context:null,macros:null,stack:null,buf:null,execute:function(a,b){this.macros=
null==b?{}:b;this.context=a;this.stack=new ba;this.buf=new ga;this.run(this.expr);return this.buf.b},resolve:function(a){if(Object.prototype.hasOwnProperty.call(this.context,a))return A.field(this.context,a);for(var b=this.stack.h,c=null;null!=b;)if(c=b[0],b=b[1],Object.prototype.hasOwnProperty.call(c,a))return A.field(c,a);return"__current__"==a?this.context:A.field(P.globals,a)},parseTokens:function(a){for(var b=new ba;P.splitter.match(a);){var c=P.splitter.matchedPos();0<c.pos&&b.add({p:n.substr(a,
0,c.pos),s:!0,l:null});if(58==n.cca(a,c.pos))b.add({p:n.substr(a,c.pos+2,c.len-4),s:!1,l:null}),a=P.splitter.matchedRight();else{for(var c=c.pos+c.len,d=1,f=[],h="";;){var m=n.cca(a,c);c++;if(40==m)d++;else if(41==m){if(d--,0>=d)break}else if(null==m)throw new k("Unclosed macro parenthesis");44==m&&1==d?(f.push(h),h=""):h+=String.fromCharCode(m)}f.push(h);b.add({p:P.splitter.matched(2),s:!1,l:f});a=n.substr(a,c,a.length-c)}}0<a.length&&b.add({p:a,s:!0,l:null});return b},parseBlock:function(a){for(var b=
new ba;;){var c=a.first();if(null==c)break;if(!c.s&&("end"==c.p||"else"==c.p||"elseif "==n.substr(c.p,0,7)))break;b.add(this.parse(a))}return 1==b.length?b.first():U.OpBlock(b)},parse:function(a){var b=a.pop(),c=b.p;if(b.s)return U.OpStr(c);if(null!=b.l){a=new ba;for(var d=0,b=b.l;d<b.length;){var f=b[d];++d;a.add(this.parseBlock(this.parseTokens(f)))}return U.OpMacro(c,a)}if("if "==n.substr(c,0,3)){c=n.substr(c,3,c.length-3);c=this.parseExpr(c);d=this.parseBlock(a);b=a.first();if(null==b)throw new k("Unclosed 'if'");
if("end"==b.p)a.pop(),f=null;else if("else"==b.p){if(a.pop(),f=this.parseBlock(a),b=a.pop(),null==b||"end"!=b.p)throw new k("Unclosed 'else'");}else b.p=n.substr(b.p,4,b.p.length-4),f=this.parse(a);return U.OpIf(c,d,f)}if("foreach "==n.substr(c,0,8)){c=n.substr(c,8,c.length-8);c=this.parseExpr(c);d=this.parseBlock(a);a=a.pop();if(null==a||"end"!=a.p)throw new k("Unclosed 'foreach'");return U.OpForeach(c,d)}return P.expr_splitter.match(c)?U.OpExpr(this.parseExpr(c)):U.OpVar(c)},parseExpr:function(a){for(var b=
new ba,c=a;P.expr_splitter.match(a);){var d=P.expr_splitter.matchedPos();0!=d.pos&&b.add({p:n.substr(a,0,d.pos),s:!0});a=P.expr_splitter.matched(0);b.add({p:a,s:0<=a.indexOf('"')});a=P.expr_splitter.matchedRight()}0!=a.length&&b.add({p:a,s:!0});var f;try{if(f=this.makeExpr(b),!b.isEmpty())throw new k(b.first().p);}catch(h){x.lastException=h;h instanceof k&&(h=h.val);if(w.__instanceof(h,String))throw new k("Unexpected '"+h+"' in "+c);throw h;}return function(){try{return f()}catch(a){throw x.lastException=
a,a instanceof k&&(a=a.val),new k("Error : "+s.string(a)+" in "+c);}}},makeConst:function(a){P.expr_trim.match(a);a=P.expr_trim.matched(1);if(34==n.cca(a,0)){var b=n.substr(a,1,a.length-2);return function(){return b}}if(P.expr_int.match(a)){var c=s.parseInt(a);return function(){return c}}if(P.expr_float.match(a)){var d=parseFloat(a);return function(){return d}}var f=this;return function(){return f.resolve(a)}},makePath:function(a,b){var c=b.first();if(null==c||"."!=c.p)return a;b.pop();c=b.pop();
if(null==c||!c.s)throw new k(c.p);var d=c.p;P.expr_trim.match(d);d=P.expr_trim.matched(1);return this.makePath(function(){return A.field(a(),d)},b)},makeExpr:function(a){return this.makePath(this.makeExpr2(a),a)},makeExpr2:function(a){var b=a.pop();if(null==b)throw new k("<eof>");if(b.s)return this.makeConst(b.p);switch(b.p){case "(":var c=this.makeExpr(a),b=a.pop();if(null==b||b.s)break;if(")"==b.p)return c;var d=this.makeExpr(a);a=a.pop();if(null==a||")"!=a.p)throw new k(a.p);switch(b.p){case "+":return function(){return c()+
d()};case "-":return function(){return c()-d()};case "*":return function(){return c()*d()};case "/":return function(){return c()/d()};case ">":return function(){return c()>d()};case "<":return function(){return c()<d()};case ">=":return function(){return c()>=d()};case "<=":return function(){return c()<=d()};case "==":return function(){return c()==d()};case "!=":return function(){return c()!=d()};case "&&":return function(){return c()&&d()};case "||":return function(){return c()||d()};default:throw new k("Unknown operation "+
b.p);}case "!":var f=this.makeExpr(a);return function(){var a=f();return null==a||!1==a};case "-":var h=this.makeExpr(a);return function(){return-h()}}throw new k(b.p);},run:function(a){switch(a[1]){case 0:this.buf.add(s.string(this.resolve(a[2])));break;case 1:this.buf.add(s.string((0,a[2])()));break;case 2:var b=a[4],c=a[3];a=(0,a[2])();null==a||!1==a?null!=b&&this.run(b):this.run(c);break;case 3:b=a[2];this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b);break;case 4:b=a[2].h;for(a=null;null!=
b;)a=b[0],b=b[1],this.run(a);break;case 5:b=a[3];a=(0,a[2])();try{c=ea(a)();if(null==c.hasNext)throw new k(null);a=c}catch(d){x.lastException=d;d instanceof k&&(d=d.val);try{if(null==a.hasNext)throw new k(null);}catch(f){throw x.lastException=f,f instanceof k&&(f=f.val),new k("Cannot iter on "+s.string(a));}}for(this.stack.push(this.context);a.hasNext();)this.context=a.next(),this.run(b);this.context=this.stack.pop();break;case 6:var h=a[3];a=a[2];var c=A.field(this.macros,a),m=[],e=this.buf;m.push(N(this,
this.resolve));for(var h=h.h,g=null;null!=h;)switch(g=h[0],h=h[1],g[1]){case 0:m.push(this.resolve(g[2]));break;default:this.buf=new ga,this.run(g),m.push(this.buf.b)}this.buf=e;try{this.buf.add(s.string(A.callMethod(this.macros,c,m)))}catch(l){x.lastException=l;l instanceof k&&(l=l.val);try{b=m.join(",")}catch(n){x.lastException=n,n instanceof k&&(n=n.val),b="???"}b="Macro call "+a+"("+b+") failed ("+s.string(l)+")";throw new k(b);}}},__class__:P};var Cb=function(a){var b=this;this.id=setInterval(function(){b.run()},
a)};e["haxe.Timer"]=Cb;Cb.__name__=["haxe","Timer"];Cb.delay=function(a,b){var c=new Cb(b);c.run=function(){c.stop();a()};return c};Cb.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Cb};var S=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=S.DEFAULT_RESOLVER;null==a&&(a=p,S.DEFAULT_RESOLVER=a);this.setResolver(a)};e["haxe.Unserializer"]=S;S.__name__=["haxe","Unserializer"];S.initCodes=function(){for(var a=
[],b=0,c=S.BASE64.length;b<c;){var d=b++;a[S.BASE64.charCodeAt(d)]=d}return a};S.run=function(a){return(new S(a)).unserialize()};S.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=
c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return s.parseFloat(n.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new k("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new k("Invalid object key");var c=this.unserialize();
a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new k("Invalid enum format");var c=this.readDigits();if(0==c)return p.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return p.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-
this.pos<a)throw new k("Invalid string length");var b=n.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),
a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new k("Invalid reference");return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new k("Invalid string reference");return this.scache[a];case 120:throw new k(this.unserialize());case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);a=p.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);
if(null==b)throw new k("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+a);this.pos++;var c=this.readDigits(),d=p.getEnumConstructs(b)[c];if(null==d)throw new k("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new ba;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;
return a;case 98:a=new v;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Ib;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new k("Invalid IntMap format");return a;case 77:a=new fb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=
this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=n.substr(this.buf,this.pos,19),a=n.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();d=this.buf;if(58!=
this.get(this.pos++)||this.length-this.pos<a)throw new k("Invalid bytes length");var f=S.CODES;null==f&&(f=S.initCodes(),S.CODES=f);for(var h=this.pos,m=a&3,e=h+(a-m),b=Ea.alloc(3*(a>>2)+(2<=m?m-1:0)),c=0;h<e;){var g=f[C.fastCodeAt(d,h++)],l=f[C.fastCodeAt(d,h++)];b.set(c++,g<<2|l>>4);g=f[C.fastCodeAt(d,h++)];b.set(c++,l<<4|g>>2);l=f[C.fastCodeAt(d,h++)];b.set(c++,g<<6|l)}2<=m&&(l=f[C.fastCodeAt(d,h++)],e=f[C.fastCodeAt(d,h++)],b.set(c++,l<<2|e>>4),3==m&&(d=f[C.fastCodeAt(d,h++)],b.set(c++,e<<4|d>>
2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);a=p.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new k("Invalid custom data");return a;case 65:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new k("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new k("Enum not found "+
a);return b}this.pos--;throw new k("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:S};var Ib=function(){this.h={}};e["haxe.ds.IntMap"]=Ib;Ib.__name__=["haxe","ds","IntMap"];Ib.__interfaces__=[ec];Ib.prototype={h:null,set:function(a,b){this.h[a]=b},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return n.iter(a)},__class__:Ib};var fb=function(){this.h={};this.h.__keys__={}};e["haxe.ds.ObjectMap"]=fb;fb.__name__=["haxe","ds","ObjectMap"];
fb.__interfaces__=[ec];fb.prototype={h:null,set:function(a,b){var c=a.__id__||(a.__id__=++fb.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return n.iter(a)},__class__:fb};var Wa=e["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};Wa.Some=function(a){a=["Some",0,a];a.__enum__=Wa;a.toString=u;return a};Wa.None=["None",1];Wa.None.toString=u;Wa.None.__enum__=Wa;var Jb=
function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};e["haxe.ds._StringMap.StringMapIterator"]=Jb;Jb.__name__=["haxe","ds","_StringMap","StringMapIterator"];Jb.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:Jb};var v=function(){this.h={}};e["haxe.ds.StringMap"]=v;v.__name__=["haxe","ds","StringMap"];v.__interfaces__=[ec];v.prototype={h:null,rh:null,set:function(a,
b){null!=y[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=y[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=y[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=y[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;
delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return n.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Jb(this,this.arrayKeys())},toString:function(){var a=new ga;a.b+="{";for(var b=this.arrayKeys(),c=0,d=b.length;c<d;){var f=c++,h=b[f];a.b=null==h?a.b+"null":
a.b+(""+h);a.b+=" => ";a.add(s.string(null!=y[h]?this.getReserved(h):this.h[h]));f<b.length&&(a.b+=", ")}a.b+="}";return a.b},__class__:v};var Ea=function(a){this.length=a.byteLength;this.b=new cd(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};e["haxe.io.Bytes"]=Ea;Ea.__name__=["haxe","io","Bytes"];Ea.alloc=function(a){return new Ea(new dd(a))};Ea.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=C.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|C.fastCodeAt(a,c++)&1023);127>=
d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new Ea((new cd(b)).buffer)};Ea.prototype={length:null,b:null,get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new k(ia.OutsideBounds);for(var c="",d=this.b,f=String.fromCharCode,h=a,m=a+b;h<m;){var e=d[h++];if(128>e){if(0==e)break;c+=f(e)}else if(224>e)c+=f((e&63)<<6|d[h++]&
127);else if(240>e)var g=d[h++],c=c+f((e&31)<<12|(g&127)<<6|d[h++]&127);else var g=d[h++],l=d[h++],e=(e&15)<<18|(g&127)<<12|(l&127)<<6|d[h++]&127,c=c+f((e>>10)+55232),c=c+f(e&1023|56320)}return c},__class__:Ea};var ed=function(){};e["haxe.io.Eof"]=ed;ed.__name__=["haxe","io","Eof"];ed.prototype={toString:function(){return"Eof"},__class__:ed};var ia=e["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ia.Blocked=["Blocked",0];ia.Blocked.toString=
u;ia.Blocked.__enum__=ia;ia.Overflow=["Overflow",1];ia.Overflow.toString=u;ia.Overflow.__enum__=ia;ia.OutsideBounds=["OutsideBounds",2];ia.OutsideBounds.toString=u;ia.OutsideBounds.__enum__=ia;ia.Custom=function(a){a=["Custom",3,a];a.__enum__=ia;a.toString=u;return a};var Fa=function(){};e["haxe.io.FPHelper"]=Fa;Fa.__name__=["haxe","io","FPHelper"];Fa.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Fa.floatToI32=function(a){if(0==
a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};Fa.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Fa.doubleToI64=function(a){var b=Fa.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/
0.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var L=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=n.substr(a,0,c),a=n.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=n.substr(a,0,b),a=n.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=n.substr(a,b+1,null),this.file=n.substr(a,0,b)):(this.ext=
null,this.file=a)};e["haxe.io.Path"]=L;L.__name__=["haxe","io","Path"];L.withoutDirectory=function(a){a=new L(a);a.dir=null;return a.toString()};L.extension=function(a){a=new L(a);return null==a.ext?"":a.ext};L.withExtension=function(a,b){var c=new L(a);c.ext=b;return c.toString()};L.normalize=function(a){a=a.split("\\").join("/");if(null==a||"/"==a)return"/";var b=[],c=0;for(a=a.split("/");c<a.length;){var d=a[c];++c;".."==d&&0<b.length&&".."!=b[b.length-1]?b.pop():"."!=d&&b.push(d)}b=b.join("/");
(new fa("([^:])/+","g")).replace(b,"$1/");for(var c=new ga,d=a=!1,f=0,h=b.length;f<h;){var m=f++,e=m=n.cca(b,m);if(null!=m)switch(m){case 58:c.b+=":";a=!0;break;case 47:!1==a?d=!0:(a=!1,d&&(c.b+="/",d=!1),c.add(String.fromCharCode(e)));break;default:a=!1,d&&(c.b+="/",d=!1),c.add(String.fromCharCode(e))}else a=!1,d&&(c.b+="/",d=!1),c.add(String.fromCharCode(e))}return c.b};L.addTrailingSlash=function(a){if(0==a.length)return"/";var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return b<c?c!=a.length-
1?a+"\\":a:b!=a.length-1?a+"/":a};L.removeTrailingSlashes=function(a){try{for(;;){var b=n.cca(a,a.length-1);if(null!=b)switch(b){case 47:case 92:a=n.substr(a,0,-1);break;default:throw"__break__";}else throw"__break__";}}catch(c){if("__break__"!=c)throw c;}return a};L.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:L};var fc=function(){};e["haxe.remoting.AsyncConnection"]=
fc;fc.__name__=["haxe","remoting","AsyncConnection"];fc.prototype={resolve:null,call:null,setErrorHandler:null,__class__:fc};var gc=function(){};e["haxe.remoting.Connection"]=gc;gc.__name__=["haxe","remoting","Connection"];gc.prototype={resolve:null,call:null,__class__:gc};var Gc=function(){this.objects=new v};e["haxe.remoting.Context"]=Gc;Gc.__name__=["haxe","remoting","Context"];Gc.prototype={objects:null,addObject:function(a,b,c){this.objects.set(a,{obj:b,rec:c})},call:function(a,b){if(2>a.length)throw new k("Invalid path '"+
a.join(".")+"'");var c=this.objects.get(a[0]);if(null==c)throw new k("No such object "+a[0]);var d=c.obj,f=A.field(d,a[1]);if(2<a.length){if(!c.rec)throw new k("Can't access "+a.join("."));for(var c=2,h=a.length;c<h;)var m=c++,d=f,f=A.field(d,a[m])}if(!A.isFunction(f))throw new k("No such method "+a.join("."));return f.apply(d,b)},__class__:Gc};var gb=function(a,b){this.__data=a;this.__path=b};e["haxe.remoting.HttpAsyncConnection"]=gb;gb.__name__=["haxe","remoting","HttpAsyncConnection"];gb.__interfaces__=
[fc];gb.prototype={__data:null,__path:null,resolve:function(a){var b=new gb(this.__data,this.__path.slice());b.__path.push(a);return b},setErrorHandler:function(a){this.__data.error=a},call:function(a,b){var c=new Hb(this.__data.url),d=new Y;d.serialize(this.__path);d.serialize(a);c.setHeader("X-Haxe-Remoting","1");c.setParameter("__x",d.toString());var f=this.__data.error;c.onData=function(a){var c=!0,d;try{if("hxr"!=n.substr(a,0,3))throw new k("Invalid response : '"+a+"'");d=(new S(n.substr(a,3,
null))).unserialize()}catch(e){x.lastException=e,e instanceof k&&(e=e.val),d=null,c=!1,f(e)}c&&null!=b&&b(d)};c.onError=f;c.request(!0)},__class__:gb};var hb=function(a,b){this.__url=a;this.__path=b};e["haxe.remoting.HttpConnection"]=hb;hb.__name__=["haxe","remoting","HttpConnection"];hb.__interfaces__=[gc];hb.prototype={__url:null,__path:null,resolve:function(a){var b=new hb(this.__url,this.__path.slice());b.__path.push(a);return b},call:function(a){var b=null,c=new Hb(this.__url);c.async=!1;var d=
new Y;d.serialize(this.__path);d.serialize(a);c.setHeader("X-Haxe-Remoting","1");c.setParameter("__x",d.toString());c.onData=function(a){b=a};c.onError=function(a){throw new k(a);};c.request(!0);if("hxr"!=n.substr(b,0,3))throw new k("Invalid response : '"+b+"'");b=n.substr(b,3,null);return(new S(b)).unserialize()},__class__:hb};var Q=function(){};e["haxe.rtti.Meta"]=Q;Q.__name__=["haxe","rtti","Meta"];Q.getType=function(a){a=Q.getMeta(a);return null==a||null==a.obj?{}:a.obj};Q.getMeta=function(a){return a.__meta__};
Q.getFields=function(a){a=Q.getMeta(a);return null==a||null==a.fields?{}:a.fields};var k=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,k)};e["js._Boot.HaxeError"]=k;k.__name__=["js","_Boot","HaxeError"];k.__super__=Error;k.prototype=K(Error.prototype,{val:null,__class__:k});var w=function(){};e["js.Boot"]=w;w.__name__=["js","Boot"];w.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};
w.__trace=function(a,b){var c;c=null!=b?b.fileName+":"+b.lineNumber+": ":"";c+=w.__string_rec(a,"");if(null!=b&&null!=b.customParams)for(var d=0,f=b.customParams;d<f.length;){var h=f[d];++d;c+=","+w.__string_rec(h,"")}var m;"undefined"!=typeof document&&null!=(m=document.getElementById("haxe:trace"))?m.innerHTML+=w.__unhtml(c)+"<br/>":"undefined"!=typeof Zc&&null!=Zc.log&&Zc.log(c)};w.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=
w.__nativeClassName(a);return null!=a?w.__resolveNativeClass(a):null};w.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,f=a.length;d<f;)var h=d++,c=2!=h?c+(","+w.__string_rec(a[h],b)):c+w.__string_rec(a[h],b);return c+")"}c=a.length;d="[";b+="\t";for(f=0;f<c;)h=f++,d+=(0<h?",":"")+
w.__string_rec(a[h],b);return d+"]"}try{d=a.toString}catch(m){return x.lastException=m,m instanceof k&&(m=m.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";f=null!=a.hasOwnProperty;for(c in a)f&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+w.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";
case "string":return a;default:return String(a)}};w.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var h=d++,h=c[h];if(h==b||w.__interfLoop(h,b))return!0}return w.__interfLoop(a.__super__,b)};w.__instanceof=function(a,b){if(null==b)return!1;switch(b){case xd:return(a|0)===a;case rd:return"number"==typeof a;case sd:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==
a.__enum__;case yd:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||w.__interfLoop(w.getClass(a),b))return!0}else{if("object"==typeof b&&w.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==kd&&null!=a.__name__||b==ld&&null!=a.__ename__?!0:a.__enum__==b}};w.__cast=function(a,b){if(w.__instanceof(a,b))return a;throw new k("Cannot cast "+s.string(a)+" to "+s.string(b));};w.__nativeClassName=function(a){a=w.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==
a||"Math"==a||"JSON"==a?null:a};w.__isNativeObj=function(a){return null!=w.__nativeClassName(a)};w.__resolveNativeClass=function(a){return jd[a]};var bd=function(){};e["js.Browser"]=bd;bd.__name__=["js","Browser"];bd.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new k("Unable to create XMLHttpRequest object.");};var Ga=function(a){if(a instanceof Array&&null==
a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};e["js.html.compat.ArrayBuffer"]=Ga;Ga.__name__=["js","html","compat","ArrayBuffer"];Ga.sliceImpl=function(a,b){var c=new cd(this,a,null==b?null:b-a),d=new dd(c.byteLength);(new cd(d)).set(c);return d};Ga.prototype={byteLength:null,a:null,slice:function(a,b){return new Ga(this.a.slice(a,b))},__class__:Ga};var fd=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==
c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new k(ia.OutsideBounds);};e["js.html.compat.DataView"]=fd;fd.__name__=["js","html","compat","DataView"];fd.prototype={buf:null,offset:null,length:null,getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+
a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],f=this.buf.a[c++],h=this.buf.a[c++],c=this.buf.a[c++];return b?d|f<<8|h<<16|c<<24:c|h<<8|f<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Fa.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Fa.i64ToDouble(b?c:d,b?
d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=
b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Fa.floatToI32(b),c)},setFloat64:function(a,b,c){b=Fa.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:fd};var Xa=function(){};e["js.html.compat.Uint8Array"]=Xa;Xa.__name__=["js","html","compat","Uint8Array"];Xa._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<
a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Ga(c)}else if(w.__instanceof(a,Ga))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ga(c);else throw new k("TODO "+s.string(a));c.subarray=Xa._subarray;c.set=Xa._set;return c};Xa._set=function(a,b){if(w.__instanceof(a.buffer,Ga)){if(a.byteLength+b>this.byteLength)throw new k("set() outside of range");
for(var c=0,d=a.byteLength;c<d;){var f=c++;this[f+b]=a[f]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new k("set() outside of range");c=0;for(d=a.length;c<d;)f=c++,this[f+b]=a[f]}else throw new k("TODO");};Xa._subarray=function(a,b){var c=Xa._new(this.slice(a,b));c.byteOffset=a;return c};var Ya=function(){};e["ufront.web.context.HttpRequest"]=Ya;Ya.__name__=["ufront","web","context","HttpRequest"];Ya.create=function(){return new ib};Ya.prototype={params:null,
get_params:function(){null==this.params&&(this.params=B.combine([this.get_cookies(),this.get_query(),this.get_post()]));return this.params},queryString:null,get_queryString:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:111,className:"ufront.web.context.HttpRequest",methodName:"get_queryString"}));},postString:null,get_postString:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:121,className:"ufront.web.context.HttpRequest",methodName:"get_postString"}));
},query:null,get_query:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:131,className:"ufront.web.context.HttpRequest",methodName:"get_query"}));},post:null,get_post:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:149,className:"ufront.web.context.HttpRequest",methodName:"get_post"}));},files:null,get_files:function(){null==this.files&&(this.files=new v);return this.files},cookies:null,get_cookies:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:168,className:"ufront.web.context.HttpRequest",methodName:"get_cookies"}));},hostName:null,get_hostName:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:174,className:"ufront.web.context.HttpRequest",methodName:"get_hostName"}));},clientIP:null,get_clientIP:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:180,className:"ufront.web.context.HttpRequest",methodName:"get_clientIP"}));},uri:null,get_uri:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:191,className:"ufront.web.context.HttpRequest",methodName:"get_uri"}));},clientHeaders:null,get_clientHeaders:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:197,className:"ufront.web.context.HttpRequest",methodName:"get_clientHeaders"}));},userAgent:null,get_userAgent:function(){null==this.userAgent&&(this.userAgent=ha.fromString(function(a){a=a.get_clientHeaders();return B.get(a,"user-agent")}(this)));return this.userAgent},httpMethod:null,get_httpMethod:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",
lineNumber:219,className:"ufront.web.context.HttpRequest",methodName:"get_httpMethod"}));},scriptDirectory:null,get_scriptDirectory:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:231,className:"ufront.web.context.HttpRequest",methodName:"get_scriptDirectory"}));},authorization:null,get_authorization:function(){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:243,className:"ufront.web.context.HttpRequest",methodName:"get_authorization"}));},isMultipart:function(){return function(a){a=
a.get_clientHeaders();return null!=y["content-type"]?a.existsReserved("content-type"):a.h.hasOwnProperty("content-type")}(this)&&C.startsWith(function(a){a=a.get_clientHeaders();return B.get(a,"content-type")}(this),"multipart/form-data")},parseMultipart:function(a,b,c){throw new k(r.abstractMethod({fileName:"HttpRequest.hx",lineNumber:280,className:"ufront.web.context.HttpRequest",methodName:"parseMultipart"}));},__class__:Ya,__properties__:{get_authorization:"get_authorization",get_scriptDirectory:"get_scriptDirectory",
get_httpMethod:"get_httpMethod",get_userAgent:"get_userAgent",get_clientHeaders:"get_clientHeaders",get_uri:"get_uri",get_clientIP:"get_clientIP",get_hostName:"get_hostName",get_cookies:"get_cookies",get_files:"get_files",get_post:"get_post",get_query:"get_query",get_postString:"get_postString",get_queryString:"get_queryString",get_params:"get_params"}};var ib=function(){};e["js.ufront.web.context.HttpRequest"]=ib;ib.__name__=["js","ufront","web","context","HttpRequest"];ib.getMultiValueMapFromString=
function(a,b){null==b&&(b=!1);for(var c=new v,d=0,f=a.split("&");d<f.length;){var h=f[d];++d;var m=h.indexOf("=");if(0<m){var e=n.substr(h,0,m),h=n.substr(h,m+1,null);b&&(h=decodeURIComponent(h.split("+").join(" ")));B.add(c,e,h)}}return c};ib.__super__=Ya;ib.prototype=K(Ya.prototype,{get_queryString:function(){null==this.queryString&&(this.queryString=n.substr(window.document.location.search,1,null));return this.queryString},get_postString:function(){if("GET"==this.get_httpMethod())return"";null==
this.postString&&(this.postString=window.history.state.__postData);return this.postString},parseMultipart:function(a,b,c){return t.success()},get_query:function(){null==this.query&&(this.query=ib.getMultiValueMapFromString(this.get_queryString()));return this.query},get_post:function(){null==this.post&&("GET"==this.get_httpMethod()?this.post=new v:this.post=ib.getMultiValueMapFromString(this.get_postString(),!0));return this.post},get_cookies:function(){if(null==this.cookies){this.cookies=new v;for(var a=
0,b=window.document.cookie.split(";");a<b.length;){var c=b[a];++a;c=C.trim(c);c=c.split("=");B.add(this.cookies,c[0],c[1])}}return this.cookies},get_hostName:function(){null==this.hostName&&(this.hostName=window.document.location.hostname);return this.hostName},get_clientIP:function(){null==this.clientIP&&(this.clientIP="127.0.0.1");return this.clientIP},get_uri:function(){null==this.uri&&(this.uri=C.urlDecode(window.document.location.pathname));return this.uri},get_clientHeaders:function(){null==
this.clientHeaders&&(this.clientHeaders=new v);return this.clientHeaders},get_httpMethod:function(){null==this.httpMethod&&(null!=window.history.state&&A.hasField(window.history.state,"__postData")?this.httpMethod="POST":this.httpMethod="GET");return this.httpMethod},get_scriptDirectory:function(){if(null==this.scriptDirectory)throw new k(r.internalServerError("Cannot access request.scriptDirectory in ufront-client-mvc",null,{fileName:"HttpRequest.hx",lineNumber:134,className:"js.ufront.web.context.HttpRequest",
methodName:"get_scriptDirectory"}));return this.scriptDirectory},get_authorization:function(){return null},isMultipart:function(){return null!=q.currentUploads},__class__:ib});var Z=function(){this.clear();this._flushedContent=this._flushedHeaders=this._flushedCookies=this._flushedStatus=!1};e["ufront.web.context.HttpResponse"]=Z;Z.__name__=["ufront","web","context","HttpResponse"];Z.create=function(){return new ta};Z.prototype={charset:null,status:null,_buff:null,_headers:null,_cookies:null,_flushedStatus:null,
_flushedCookies:null,_flushedHeaders:null,_flushedContent:null,preventFlush:function(){this._flushedContent=this._flushedHeaders=this._flushedCookies=this._flushedStatus=!0},preventFlushContent:function(){this._flushedContent=!0},flush:function(){throw new k(r.notImplemented({fileName:"HttpResponse.hx",lineNumber:141,className:"ufront.web.context.HttpResponse",methodName:"flush"}));},clear:function(){this.clearCookies();this.clearHeaders();this.clearContent();this.set_contentType(null);this.charset=
"utf-8";this.status=200},clearCookies:function(){this._cookies=new v},clearContent:function(){this._buff=new ga},clearHeaders:function(){this._headers=new Hc},write:function(a){null!=a&&(this._buff.b=null==a?this._buff.b+"null":this._buff.b+(""+a))},writeChar:function(a){this._buff.b+=String.fromCharCode(a)},writeBytes:function(a,b,c){this._buff.add(a.getString(b,c))},setHeader:function(a,b){r.throwIfNull(a,null,{fileName:"HttpResponse.hx",lineNumber:219,className:"ufront.web.context.HttpResponse",
methodName:"setHeader"});r.throwIfNull(b,null,{fileName:"HttpResponse.hx",lineNumber:220,className:"ufront.web.context.HttpResponse",methodName:"setHeader"});this._headers.set(a,b)},setCookie:function(a){this._cookies.set(a.name,a)},getBuffer:function(){return this._buff.b},getCookies:function(){return this._cookies},getHeaders:function(){return this._headers},redirect:function(a){this.status=302;this.set_redirectLocation(a)},setOk:function(){this.status=200},setUnauthorized:function(){this.status=
401},requireAuthentication:function(a){this.setUnauthorized();this.setHeader("WWW-Authenticate",'Basic realm="'+a+'"')},setNotFound:function(){this.status=404},setInternalError:function(){this.status=500},permanentRedirect:function(a){this.status=301;this.set_redirectLocation(a)},isRedirect:function(){return 3==Math.floor(this.status/100)},isPermanentRedirect:function(){return 301==this.status},hxSerialize:function(a){a.serialize(this._buff.b);a.serialize(this._headers);a.serialize(this._cookies);
a.serialize(this._flushedStatus);a.serialize(this._flushedCookies);a.serialize(this._flushedHeaders);a.serialize(this._flushedContent)},hxUnserialize:function(a){this._buff=new ga;this._buff.add(a.unserialize());this._headers=a.unserialize();this._cookies=a.unserialize();this._flushedStatus=a.unserialize();this._flushedCookies=a.unserialize();this._flushedHeaders=a.unserialize();this._flushedContent=a.unserialize()},get_contentType:function(){return this._headers.get("Content-type")},set_contentType:function(a){null==
a?this._headers.set("Content-type","text/html"):this._headers.set("Content-type",a);return a},get_redirectLocation:function(){return this._headers.get("Location")},set_redirectLocation:function(a){null==a?this._headers.remove("Location"):this._headers.set("Location",a);return a},__class__:Z,__properties__:{set_redirectLocation:"set_redirectLocation",get_redirectLocation:"get_redirectLocation",set_contentType:"set_contentType",get_contentType:"get_contentType"}};var ta=function(){Z.call(this)};e["js.ufront.web.context.HttpResponse"]=
ta;ta.__name__=["js","ufront","web","context","HttpResponse"];ta.replaceChildren=function(a,b){for(;null!=b.firstChild;)b.removeChild(b.firstChild);if(null!=a)for(;null!=a.firstChild;)b.appendChild(a.firstChild)};ta.replaceNode=function(a,b,c){null==c&&(c=0);null!=b&&a.parentNode.insertBefore(b,a);var d=!1,f=function(){!1==d&&(a.parentNode.removeChild(a),d=!0)};0!=c?(b=A.hasField(window.document.documentElement.style,"WebkitTransition")?"webkitTransitionEnd":"transitionend",a.addEventListener(b,function(){f()}),
0<c&&window.setTimeout(function(){f()},c)):f()};ta.reloadScripts=function(a,b){var c=function(a){for(var b=0,c=a.length;b<c;){var m=b++,m=a.item(m),e=m.getAttribute("uf-reload");if(null!=e&&"false"!=e){e=window.document.createElement("script");e.setAttribute("type","text/javascript");var k=m.getAttribute("src");null!=k&&e.setAttribute("src",k);e.innerHTML=m.innerHTML;window.document.body.appendChild(e);window.document.body.removeChild(e)}}};null!=a&&c(a.getElementsByTagName("script"));null!=b&&c(b.getElementsByTagName("script"))};
ta.__super__=Z;ta.prototype=K(Z.prototype,{flush:function(){this._flushedStatus||(this._flushedStatus=!0,window.console.log("["+this.status+"] "+(window.location.pathname+window.location.search)));if(!this._flushedCookies){this._flushedCookies=!0;try{for(var a=this._cookies.iterator();a.hasNext();){var b=a.next();window.document.cookie=b.name+"="+b.get_description()}}catch(c){throw x.lastException=c,c instanceof k&&(c=c.val),new k(r.internalServerError("Cannot set cookies on response",c,{fileName:"HttpResponse.hx",
lineNumber:58,className:"js.ufront.web.context.HttpResponse",methodName:"flush"}));}}this._flushedHeaders||(this._flushedHeaders=!0,this.isRedirect()&&(this._flushedContent=!0,C.startsWith(this.get_redirectLocation(),"/")||C.startsWith(this.get_redirectLocation(),window.location.origin)?q.replace(this.get_redirectLocation()):window.document.location.href=this.get_redirectLocation()));this._flushedContent||(this._flushedContent=!0,"text/html"==this.get_contentType()?(a=window.document.implementation.createHTMLDocument(""),
a.documentElement.innerHTML=this._buff.b,window.document.title=a.title,ta.replaceNode(window.document.head,a.head),ta.replaceNode(window.document.body,a.body),window.scrollTo(0,0),ta.reloadScripts(window.document)):(window.console.log('Cannot use ufront-client-mvc to render content type "'+this.get_contentType()+'". Redirecting to server for rendering this content.'),window.document.location.reload()))},__class__:ta});var jb=function(a){this.infos=new v;this.mappings=new v;this.parent=a};e["minject.Injector"]=
jb;jb.__name__=["minject","Injector"];jb.getValueType=function(a){if("string"==typeof a)return"String";if(w.__instanceof(a,kd))return p.getClassName(a);if(w.__instanceof(a,ld))return p.getEnumName(a);var b;b=p["typeof"](a);switch(b[1]){case 1:b="Int";break;case 3:b="Bool";break;case 6:b=p.getClassName(b[2]);break;case 7:b=p.getEnumName(b[2]);break;default:b=null}if(null!=b)return b;throw new k("Could not determine type name of "+s.string(a));};jb.prototype={parent:null,mappings:null,infos:null,mapRuntimeTypeOf:function(a,
b){return this.mapType(jb.getValueType(a),b)},mapType:function(a,b,c){c=this.getMappingKey(a,b);if(this.mappings.exists(c))return this.mappings.get(c);a=new Ic(a,b);this.mappings.set(c,a);return a},unmapType:function(a,b){var c=this.getMappingKey(a,b);this.mappings.remove(c)},hasMappingForType:function(a,b){return null!=this.findMappingForType(a,b)},findMappingForType:function(a,b){var c;c=this.getMappingKey(a,b);c=this.mappings.get(c);return null!=c&&null!=c.provider?c:null!=this.parent?this.parent.findMappingForType(a,
b):null},getValueForType:function(a,b){var c=this.findMappingForType(a,b);if(null!=c)return c.getValue(this);var d=a.indexOf("<");-1<d&&(c=this.findMappingForType(n.substr(a,0,d),b));return null!=c?c.getValue(this):null},injectInto:function(a){var b=this.getInfo(p.getClass(a));if(null!=b)for(var c=0,b=b.fields;c<b.length;){var d=b[c];++c;d.applyInjection(a,this)}},_construct:function(a){return this.getInfo(a).ctor.createInstance(a,this)},_instantiate:function(a){a=this._construct(a);this.injectInto(a);
return a},getInstance:function(a,b){var c=p.getClassName(a),d=this.findMappingForType(c,b);if(null==d)throw new k('Error while getting mapping response: No mapping defined for class "'+c+'" '+('name "'+b+'"'));return d.getValue(this)},createChildInjector:function(){return new jb(this)},getInfo:function(a){var b=p.getClassName(a);if(this.infos.exists(b))return this.infos.get(b);a=this.createInfo(a);this.infos.set(b,a);return a},createInfo:function(a){var b=new Jc(null,[]);this.addClassToInfo(a,b,[]);
null==b.ctor&&(b.ctor=new Kb([]));return b},addClassToInfo:function(a,b,c){var d=Q.getType(a).rtti;if(null!=d)for(var f=0;f<d.length;){var h=d[f];++f;var m=h[0];-1<n.indexOf(c,m,0)||(c.push(m),"new"==m?b.ctor=new Kb(h.slice(1)):3==h.length?b.fields.push(new hc(m,h[1],h[2])):b.fields.push(new kb(m,h.slice(1))))}a=p.getSuperClass(a);null!=a&&this.addClassToInfo(a,b,c)},getMappingKey:function(a,b){null==b&&(b="");return""+a+"#"+b},__class__:jb};var Jc=function(a,b){this.ctor=a;this.fields=b};e["minject.InjectorInfo"]=
Jc;Jc.__name__=["minject","InjectorInfo"];Jc.prototype={ctor:null,fields:null,__class__:Jc};var Ic=function(a,b){this.type=a;this.name=b};e["minject.InjectorMapping"]=Ic;Ic.__name__=["minject","InjectorMapping"];Ic.prototype={type:null,name:null,injector:null,provider:null,getValue:function(a){null!=this.injector&&(a=this.injector);if(null!=this.provider)return this.provider.getValue(a);var b=a.findMappingForType(this.type,this.name);return null!=b?b.getValue(a):null},toValue:function(a){return this.toProvider(new ic(a))},
_toClass:function(a){return this.toProvider(new jc(a))},_toSingleton:function(a){return this.toProvider(new kc(a))},asSingleton:function(){return this._toSingleton(p.resolveClass(this.type))},toMapping:function(a){return this.toProvider(new lc(a))},toProvider:function(a){this.provider=a;return this},__class__:Ic};var Lb=function(){};e["minject.point.InjectionPoint"]=Lb;Lb.__name__=["minject","point","InjectionPoint"];Lb.prototype={field:null,applyInjection:null,__class__:Lb};var kb=function(a,b){this.field=
a;this.args=b};e["minject.point.MethodInjectionPoint"]=kb;kb.__name__=["minject","point","MethodInjectionPoint"];kb.__interfaces__=[Lb];kb.prototype={field:null,args:null,applyInjection:function(a,b){A.callMethod(a,A.field(a,this.field),this.gatherArgs(a,b));return a},gatherArgs:function(a,b){for(var c=[],d=0;d<this.args.length;){var f=this.args[d++],h=this.args[d++];d++;f=b.getValueForType(f,h);c.push(f)}return c},__class__:kb};var Kb=function(a){kb.call(this,"new",a)};e["minject.point.ConstructorInjectionPoint"]=
Kb;Kb.__name__=["minject","point","ConstructorInjectionPoint"];Kb.__super__=kb;Kb.prototype=K(kb.prototype,{createInstance:function(a,b){return p.createInstance(a,this.gatherArgs(a,b))},__class__:Kb});var hc=function(a,b,c){this.field=a;this.type=b;this.name=c};e["minject.point.PropertyInjectionPoint"]=hc;hc.__name__=["minject","point","PropertyInjectionPoint"];hc.__interfaces__=[Lb];hc.prototype={field:null,type:null,name:null,applyInjection:function(a,b){var c=b.getValueForType(this.type,this.name);
A.setProperty(a,this.field,c);return a},__class__:hc};var lb=function(){};e["minject.provider.DependencyProvider"]=lb;lb.__name__=["minject","provider","DependencyProvider"];lb.prototype={getValue:null,__class__:lb};var jc=function(a){this.type=a};e["minject.provider.ClassProvider"]=jc;jc.__name__=["minject","provider","ClassProvider"];jc.__interfaces__=[lb];jc.prototype={type:null,getValue:function(a){return a._instantiate(this.type)},__class__:jc};var lc=function(a){this.mapping=a};e["minject.provider.OtherMappingProvider"]=
lc;lc.__name__=["minject","provider","OtherMappingProvider"];lc.__interfaces__=[lb];lc.prototype={mapping:null,getValue:function(a){return this.mapping.getValue(a)},__class__:lc};var kc=function(a){this.type=a};e["minject.provider.SingletonProvider"]=kc;kc.__name__=["minject","provider","SingletonProvider"];kc.__interfaces__=[lb];kc.prototype={type:null,value:null,getValue:function(a){null==this.value&&(this.value=a._construct(this.type),a.injectInto(this.value));return this.value},__class__:kc};
var ic=function(a){this.value=a};e["minject.provider.ValueProvider"]=ic;ic.__name__=["minject","provider","ValueProvider"];ic.__interfaces__=[lb];ic.prototype={value:null,getValue:function(a){return this.value},__class__:ic};var q=function(){};e["pushstate.PushState"]=q;q.__name__=["pushstate","PushState"];q.init=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);null==a&&(a="");q.listeners=[];q.preventers=[];q.uploadCache=new v;q.basePath=a;q.ignoreAnchors=c;window.document.addEventListener("DOMContentLoaded",
function(a){window.document.addEventListener("click",function(a){if(0==a.button&&!a.metaKey&&!a.ctrlKey){for(var b=null,c=s.instance(a.target,Node);null==b&&null!=c;)b=c instanceof HTMLAnchorElement?c:null,c=c.parentNode;null==b||"pushstate"!=b.rel&&!b.classList.contains("pushstate")||(q.push(b.pathname+b.search+b.hash),a.preventDefault())}});window.document.addEventListener("submit",function(a){var b=s.instance(a.target,HTMLFormElement);b.classList.contains("pushstate")&&(a.preventDefault(),q.interceptFormSubmit(b))});
window.onpopstate=q.handleOnPopState;b?q.handleOnPopState(null):(q.currentPath=q.stripURL(window.document.location.pathname+window.document.location.search+window.document.location.hash),q.currentState=null,q.currentUploads=null)})};q.hasClass=function(a,b){return a.classList.contains(b)};q.interceptFormSubmit=function(a){for(var b=[],c=null,d=function(a,c){null!=a&&""!=a&&b.push({name:a,val:c})},f=function(a,b){for(var f=0,h=b.length;f<h;){var e=f++;d(a,b[e].name)}null==c&&(c={});c[a]=b},h=0,m=a.elements.length;h<
m;){var e=h++,e=a.elements.item(e);switch(e.nodeName.toUpperCase()){case "INPUT":e=e instanceof HTMLInputElement?e:null;switch(e.type){case "text":case "hidden":case "password":case "search":case "email":case "url":case "tel":case "number":case "range":case "date":case "month":case "week":case "time":case "datetime":case "datetime-local":case "color":d(e.name,e.value);break;case "checkbox":e.checked&&d(e.name,e.value);break;case "radio":e.checked&&d(e.name,e.value);break;case "file":null!=e.files&&
0<e.files.length&&f(e.name,e.files)}break;case "TEXTAREA":e=e instanceof HTMLTextAreaElement?e:null;d(e.name,e.value);break;case "SELECT":switch(e=e instanceof HTMLSelectElement?e:null,e.type){case "select-one":d(e.name,e.value);break;case "select-multiple":for(var k=0,g=e.options.length;k<g;){var l=k++,l=e.options[l];l.selected&&d(e.name,l.value)}}}}f=s.instance(window.document.activeElement,HTMLInputElement);h=s.instance(window.document.activeElement,HTMLButtonElement);null!=f&&"submit"==f.type?
d(f.name,f.value):null!=h&&"submit"==h.type?d(h.name,h.value):(h=a.querySelector("input[type=submit], button[type=submit]"),f=h instanceof HTMLInputElement?h:null,h=h instanceof HTMLButtonElement?h:null,null!=f?d(f.name,f.value):null!=h&&d(h.name,h.value));f=b.map(function(a){return""+a.name+"="+encodeURIComponent(a.val)}).join("&");if("POST"==a.method.toUpperCase()){h={};for(m=0;m<b.length;)e=b[m],++m,Object.prototype.hasOwnProperty.call(h,e.name)?A.field(h,e.name).push(e.val):h[e.name]=[e.val];
h.__postData=f;null!=c&&q.setUploadsForState(a.action,h,c);q.push(a.action,h,c)}else q.push(a.action+"?"+f,null)};q.setUploadsForState=function(a,b,c){var d;d=n.dateStr(new Date);var f=Math.random();a=""+a+"-"+d+"-"+f;q.uploadCache.set(a,c);c;b.__postFilesCacheID=a};q.getUploadsForState=function(a){if(null==a||!1==Object.prototype.hasOwnProperty.call(a,"__postFilesCacheID"))return null;a=a.__postFilesCacheID;return!1==q.uploadCache.exists(a)?null:q.uploadCache.get(a)};q.handleOnPopState=function(a){var b=
q.stripURL(window.document.location.pathname+window.document.location.search+window.document.location.hash),c;c=null!=a?a.state:null;var d;d=null!=c&&null!=c.__postFilesCacheID?q.uploadCache.get(c.__postFilesCacheID):null;if(!q.ignoreAnchors||b!=q.currentPath){if(null!=a)for(var f=0,h=q.preventers;f<h.length;){var e=h[f];++f;if(!e(b,c,d)){a.preventDefault();window.history.replaceState(q.currentState,"",q.currentPath);return}}q.currentPath=b;q.currentState=c;q.currentUploads=q.getUploadsForState(c);
q.dispatch(q.currentPath,q.currentState,q.currentUploads)}};q.stripURL=function(a){n.substr(a,0,q.basePath.length)==q.basePath&&(a=n.substr(a,q.basePath.length,null));if(q.ignoreAnchors&&-1<a.indexOf("#")){var b=a.indexOf("#");a=n.substr(a,0,b)}return a};q.addEventListener=function(a,b,c){if(null==a)if(null!=b)a=function(a,c,h){b(a,c)};else if(null!=c)a=function(a,b,h){c(a)};else throw new k("No listener provided");q.listeners.push(a);return a};q.removeEventListener=function(a){n.remove(q.listeners,
a)};q.clearEventListeners=function(){for(;0<q.listeners.length;)q.listeners.pop()};q.addPreventer=function(a,b,c){if(null==a)if(null!=b)a=function(a,c,h){return b(a,c)};else if(null!=c)a=function(a,b,h){return c(a)};else throw new k("No preventer provided");q.preventers.push(a);return a};q.removePreventer=function(a){n.remove(q.preventers,a)};q.clearPreventers=function(){for(;0<q.preventers.length;)q.preventers.pop()};q.dispatch=function(a,b,c){for(var d=0,f=q.listeners;d<f.length;){var h=f[d];++d;
h(a,b,c)}};q.push=function(a,b,c){var d=q.stripURL(a);null==b&&(b={});for(var f=0,h=q.preventers;f<h.length;){var e=h[f];++f;if(!e(d,b,c))return!1}q.setUploadsForState(d,b,c);window.history.pushState(b,"",a);q.currentPath=d;q.currentState=b;q.currentUploads=c;q.dispatch(d,b,c);return!0};q.replace=function(a,b,c){var d=q.stripURL(a);null==b&&(b={});for(var f=0,h=q.preventers;f<h.length;){var e=h[f];++f;if(!e(d,b,c))return!1}q.silentReplace(a,b,c);q.dispatch(d,b,c);return!0};q.silentReplace=function(a,
b,c){var d=q.stripURL(a);null==b&&(b={});q.setUploadsForState(d,b,c);window.history.replaceState(b,"",a);q.currentPath=d;q.currentState=b;q.currentUploads=c};var md={};e["tink.core._Any.Any_Impl_"]=md;md.__name__=["tink","core","_Any","Any_Impl_"];md.__promote=function(a){return a};var mc={};e["tink.core._Callback.Callback_Impl_"]=mc;mc.__name__=["tink","core","_Callback","Callback_Impl_"];mc._new=function(a){return a};mc.invoke=function(a,b){a(b)};mc.fromNiladic=function(a){return function(b){a()}};
mc.fromMany=function(a){return function(b){for(var c=0;c<a.length;){var d=a[c];++c;d(b)}}};var mb={};e["tink.core._Callback.CallbackLink_Impl_"]=mb;mb.__name__=["tink","core","_Callback","CallbackLink_Impl_"];mb._new=function(a){return a};mb.dissolve=function(a){null!=a&&a()};mb.toCallback=function(a){return function(b){a()}};mb.fromFunction=function(a){return a};mb.fromMany=function(a){return function(){for(var b=0;b<a.length;){var c=a[b];++b;null!=c&&c()}}};var pa={};e["tink.core._Callback.CallbackList_Impl_"]=
pa;pa.__name__=["tink","core","_Callback","CallbackList_Impl_"];pa.__properties__={get_length:"get_length"};pa._new=function(){return[]};pa.get_length=function(a){return a.length};pa.add=function(a,b){var c,d;d=Array(1);d[0]=b;c=d;a.push(c);return function(){n.remove(a,c)&&(c[0]=null);c=null}};pa.invoke=function(a,b){for(var c=0,d=a.slice();c<d.length;){var f=d[c];++c;if(null!=f[0])f[0](b)}};pa.clear=function(a){var b=0;for(a=a.splice(0,a.length);b<a.length;){var c=a[b];++b;c[0]=null}};var Za=e["tink.core.Either"]=
{__ename__:["tink","core","Either"],__constructs__:["Left","Right"]};Za.Left=function(a){a=["Left",0,a];a.__enum__=Za;a.toString=u;return a};Za.Right=function(a){a=["Right",1,a];a.__enum__=Za;a.toString=u;return a};var z=function(a,b,c){null==a&&(a=500);this.code=a;this.message=b;this.pos=c};e["tink.core.TypedError"]=z;z.__name__=["tink","core","TypedError"];z.withData=function(a,b,c,d){return z.typed(a,b,c,d)};z.typed=function(a,b,c,d){a=new z(a,b,d);a.data=c;return a};z.catchExceptions=function(a,
b){try{return l.Success(a())}catch(c){x.lastException=c;c instanceof k&&(c=c.val);if(w.__instanceof(c,z))return l.Failure(c);var d=c;return l.Failure(null==b?z.withData(null,"Unexpected Error",d,{fileName:"Error.hx",lineNumber:97,className:"tink.core.TypedError",methodName:"catchExceptions"}):b(d))}};z.reporter=function(a,b,c){return function(d){return z.withData(a,b,d,c)}};z.rethrow=function(a){throw new k(a);};z.prototype={message:null,code:null,data:null,pos:null,printPos:function(){return this.pos.className+
"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var a="Error: "+this.message;null!=this.pos&&(a+=" "+this.printPos());return a},throwSelf:function(){throw new k(this);},__class__:z};var g={};e["tink.core._Future.Future_Impl_"]=g;g.__name__=["tink","core","_Future","Future_Impl_"];g._new=function(a){return a};g.handle=function(a,b){return a(b)};g.gather=function(a){var b=new V,c=a;return g._new(function(d){null!=c&&(a(N(b,b.trigger)),c=null);return b.future(d)})};g.first=function(a,
b){return g.async(function(c){a(c);b(c)})};g.map=function(a,b,c){null==c&&(c=!0);var d=g._new(function(c){return a(function(a){a=b(a);c(a)})});return c?g.gather(d):d};g.flatMap=function(a,b,c){null==c&&(c=!0);a=g.flatten(g.map(a,b,c));return c?g.gather(a):a};g.merge=function(a,b,c,d){null==d&&(d=!0);return g.flatMap(a,function(a){return g.map(b,function(b){return c(a,b)},!1)},d)};g.flatten=function(a){return g._new(function(b){var c=null;return c=a(function(a){c=a(function(a){b(a)})})})};g.fromTrigger=
function(a){return a.future};g.ofMany=function(a,b){null==b&&(b=!0);for(var c=g.sync([]),d=0;d<a.length;){var f=[a[d]];++d;c=g.flatMap(c,function(a){return function(b){return g.map(a[0],function(){return function(a){return b.concat([a])}}(),!1)}}(f),!1)}return b?g.gather(c):c};g.fromMany=function(a){return g.ofMany(a)};g.lazy=function(a){return g._new(function(b){var c=a();b(c);return null})};g.sync=function(a){return g._new(function(b){b(a);return null})};g.async=function(a,b){null==b&&(b=!1);if(b)return g.flatten(g.lazy(Ka.ofFunc(function(a,
b,c){return function(){return a(b,c)}}(g.async,a,!1))));var c=new V;a(N(c,c.trigger));return c.future};g.or=function(a,b){return g.first(a,b)};g.either=function(a,b){return g.first(g.map(a,Za.Left,!1),g.map(b,Za.Right,!1))};g.and=function(a,b){return g.merge(a,b,function(a,b){return new qa(a,b)})};g._tryFailingFlatMap=function(a,b){return g.flatMap(a,function(a){switch(a[1]){case 0:return b(a[2]);case 1:return g.sync(l.Failure(a[2]))}})};g._tryFlatMap=function(a,b){return g.flatMap(a,function(a){switch(a[1]){case 0:return g.map(b(a[2]),
l.Success);case 1:return g.sync(l.Failure(a[2]))}})};g._tryFailingMap=function(a,b){return g.map(a,function(a){return $.flatMap(a,$a.withSameError(b))})};g._tryMap=function(a,b){return g.map(a,function(a){return $.map(a,b)})};g._flatMap=function(a,b){return g.flatMap(a,b)};g._map=function(a,b){return g.map(a,b)};g.trigger=function(){return new V};var V=function(){var a=this;this.list=[];this.future=g._new(function(b){return null==a.list?(b(a.result),null):pa.add(a.list,b)})};e["tink.core.FutureTrigger"]=
V;V.__name__=["tink","core","FutureTrigger"];V.prototype={result:null,list:null,future:null,asFuture:function(){return this.future},trigger:function(a){if(null==this.list)return!1;var b=this.list;this.list=null;this.result=a;pa.invoke(b,a);pa.clear(b);return!0},__class__:V};var Ka={};e["tink.core._Lazy.Lazy_Impl_"]=Ka;Ka.__name__=["tink","core","_Lazy","Lazy_Impl_"];Ka._new=function(a){return a};Ka.get=function(a){return a()};Ka.ofFunc=function(a){var b=null;return function(){null!=a&&(b=a(),a=null);
return b}};Ka.map=function(a,b){return Ka.ofFunc(function(){return b(a())})};Ka.flatMap=function(a,b){return Ka.ofFunc(function(){return b(a())()})};Ka.ofConst=function(a){return function(){return a}};var I=e["tink.core.Noise"]={__ename__:["tink","core","Noise"],__constructs__:["Noise"]};I.Noise=["Noise",0];I.Noise.toString=u;I.Noise.__enum__=I;var l=e["tink.core.Outcome"]={__ename__:["tink","core","Outcome"],__constructs__:["Success","Failure"]};l.Success=function(a){a=["Success",0,a];a.__enum__=
l;a.toString=u;return a};l.Failure=function(a){a=["Failure",1,a];a.__enum__=l;a.toString=u;return a};var $=function(){};e["tink.core.OutcomeTools"]=$;$.__name__=["tink","core","OutcomeTools"];$.sure=function(a){switch(a[1]){case 0:return a[2];case 1:a=a[2];if(w.__instanceof(a,z))return a.throwSelf();throw new k(a);}};$.toOption=function(a){switch(a[1]){case 0:return Wa.Some(a[2]);case 1:return Wa.None}};$.toOutcome=function(a,b){switch(a[1]){case 0:return l.Success(a[2]);case 1:return l.Failure(new z(404,
"Some value expected but none found in "+b.fileName+"@line "+b.lineNumber,{fileName:"Outcome.hx",lineNumber:37,className:"tink.core.OutcomeTools",methodName:"toOutcome"}))}};$.orNull=function(a){switch(a[1]){case 0:return a[2];case 1:return null}};$.orUse=function(a,b){switch(a[1]){case 0:return a[2];case 1:return b()}};$.orTry=function(a,b){switch(a[1]){case 0:return a;case 1:return b()}};$.equals=function(a,b){switch(a[1]){case 0:return a[2]==b;case 1:return!1}};$.map=function(a,b){switch(a[1]){case 0:return l.Success(b(a[2]));
case 1:return l.Failure(a[2])}};$.isSuccess=function(a){switch(a[1]){case 0:return!0;default:return!1}};$.flatMap=function(a,b){return $a.apply(b,a)};$.attempt=function(a,b){try{return l.Success(a())}catch(c){return x.lastException=c,c instanceof k&&(c=c.val),l.Failure(b(c))}};var $a={};e["tink.core._Outcome.OutcomeMapper_Impl_"]=$a;$a.__name__=["tink","core","_Outcome","OutcomeMapper_Impl_"];$a._new=function(a){return{f:a}};$a.apply=function(a,b){return a.f(b)};$a.withSameError=function(a){return $a._new(function(b){switch(b[1]){case 0:return a(b[2]);
case 1:return l.Failure(b[2])}})};$a.withEitherError=function(a){return $a._new(function(b){switch(b[1]){case 0:b=a(b[2]);switch(b[1]){case 0:return l.Success(b[2]);case 1:return l.Failure(Za.Right(b[2]))}break;case 1:return l.Failure(Za.Left(b[2]))}})};var nb={};e["tink.core._Pair.Pair_Impl_"]=nb;nb.__name__=["tink","core","_Pair","Pair_Impl_"];nb.__properties__={get_b:"get_b",get_a:"get_a"};nb._new=function(a,b){return new qa(a,b)};nb.get_a=function(a){return a.a};nb.get_b=function(a){return a.b};
nb.toBool=function(a){return null!=a};nb.isNil=function(a){return null==a};nb.nil=function(){return null};var qa=function(a,b){this.a=a;this.b=b};e["tink.core.MPair"]=qa;qa.__name__=["tink","core","MPair"];qa.prototype={a:null,b:null,__class__:qa};var tb={};e["tink.core._Ref.Ref_Impl_"]=tb;tb.__name__=["tink","core","_Ref","Ref_Impl_"];tb.__properties__={set_value:"set_value",get_value:"get_value"};tb._new=function(){return Array(1)};tb.get_value=function(a){return a[0]};tb.set_value=function(a,b){return a[0]=
b};tb.toString=function(a){return"@["+s.string(a[0])+"]"};tb.to=function(a){var b;b=Array(1);b[0]=a;return b};var W={};e["tink.core._Signal.Signal_Impl_"]=W;W.__name__=["tink","core","_Signal","Signal_Impl_"];W._new=function(a){return a};W.handle=function(a,b){return a(b)};W.map=function(a,b,c){null==c&&(c=!0);var d=function(c){return a(function(a){a=b(a);c(a)})};return c?W.gather(d):d};W.flatMap=function(a,b,c){null==c&&(c=!0);var d=function(c){return a(function(a){b(a)(c)})};return c?W.gather(d):
d};W.filter=function(a,b,c){null==c&&(c=!0);var d=function(c){return a(function(a){b(a)&&c(a)})};return c?W.gather(d):d};W.join=function(a,b,c){null==c&&(c=!0);var d=function(c){return mb.fromMany([a(c),b(c)])};return c?W.gather(d):d};W.next=function(a){var b=new V,c=mb.toCallback(a(N(b,b.trigger)));a(c);return b.future};W.noise=function(a){return W.map(a,function(a){return I.Noise})};W.gather=function(a){var b=W.trigger();a(function(a){pa.invoke(b,a)});return ub.asSignal(b)};W.trigger=function(){return[]};
W.ofClassical=function(a,b,c){null==c&&(c=!0);var d=function(c){var d=function(a){c(a)};a(d);return function(a,b){return function(){a(b)}}(b,d)};return c?W.gather(d):d};var ub={};e["tink.core._Signal.SignalTrigger_Impl_"]=ub;ub.__name__=["tink","core","_Signal","SignalTrigger_Impl_"];ub._new=function(){return[]};ub.trigger=function(a,b){pa.invoke(a,b)};ub.getLength=function(a){return a.length};ub.clear=function(a){pa.clear(a)};ub.asSignal=function(a){return function(a){return function(c){return pa.add(a,
c)}}(a)};var td=function(){};e["ufront.MVC"]=td;td.__name__=["ufront","MVC"];var X=e["ufront.api.ApiReturnType"]={__ename__:["ufront","api","ApiReturnType"],__constructs__:["ARTFuture","ARTOutcome","ARTVoid"]};X.ARTFuture=["ARTFuture",0];X.ARTFuture.toString=u;X.ARTFuture.__enum__=X;X.ARTOutcome=["ARTOutcome",1];X.ARTOutcome.toString=u;X.ARTOutcome.__enum__=X;X.ARTVoid=["ARTVoid",2];X.ARTVoid.toString=u;X.ARTVoid.__enum__=X;var nd=function(){};e["ufront.api.RequireAsyncCallbackApi"]=nd;nd.__name__=
["ufront","api","RequireAsyncCallbackApi"];var gd=function(a,b){this.cnx=ab.urlConnect(a,b)};e["ufront.api.UFApiClientContext"]=gd;gd.__name__=["ufront","api","UFApiClientContext"];gd.prototype={cnx:null,__class__:gd};var nc=function(){};e["ufront.api.UFApiContext"]=nc;nc.__name__=["ufront","api","UFApiContext"];nc.getApisInContext=function(a){var b=[],c=Q.getType(a);if(null!=c.apiList)for(a=0,c=c.apiList;a<c.length;){var d=c[a];++a;d=p.resolveClass(d);null!=d&&b.push(d)}return b};nc.prototype={injector:null,
__class__:nc};var oc=function(a){this.cnx=a};e["ufront.api.UFCallbackApi"]=oc;oc.__name__=["ufront","api","UFCallbackApi"];oc.getCallbackApi=function(a){a=Q.getType(a);return null!=a.callbackApi&&(a=a.callbackApi[0],null!=a)?p.resolveClass(a):null};oc.prototype={className:null,cnx:null,_makeApiCall:function(a,b,c,d,f){null==this.className&&(this.className=p.getClassName(w.getClass(this)));var h=""+this.className+"."+a+"("+b.join(",")+")";a=this.cnx.resolve(this.className).resolve(a);null!=f&&a.setErrorHandler(function(a){f(a)});
a.call(b,function(a){if(0!=(c&1<<X.ARTVoid[1]))d(null);else if(0!=(c&1<<X.ARTOutcome[1]))switch(a[1]){case 0:d(a[2]);break;case 1:a=M.RApiFailure(h,a[2]),f(a)}else d(a)})},__class__:oc};var ja=function(){this.pathToContentDir=null;this.requestMiddleware=[];this.requestHandlers=[];this.responseMiddleware=[];this.logHandlers=[];this.errorHandlers=[];this.urlFilters=[];this.messages=[];this.injector=new jb;this.injector.mapType("minject.Injector",null).toValue(this.injector)};e["ufront.app.HttpApplication"]=
ja;ja.__name__=["ufront","app","HttpApplication"];ja.prototype={injector:null,requestMiddleware:null,requestHandlers:null,responseMiddleware:null,logHandlers:null,errorHandlers:null,urlFilters:null,originalTrace:null,messages:null,modulesReady:null,currentModule:null,pathToContentDir:null,init:function(){var a=this;this.originalTrace=Va.trace;Va.trace=function(b,c){a.messages.push({msg:b,pos:c,type:J.MTrace})};if(null==this.modulesReady){for(var b=[],c=0,d=this.getModulesThatRequireInit();c<d.length;){var f=
d[c];++c;b.push(f.init(this))}this.modulesReady=g.map(g.ofMany(b),function(a){for(var b=0;b<a.length;){var c=a[b];++b;switch(c[1]){case 1:return l.Failure(c[2])}}return l.Success(I.Noise)})}return this.modulesReady},dispose:function(){for(var a=this,b=[],c=0,d=this.getModulesThatRequireInit();c<d.length;){var f=d[c];++c;b.push(f.dispose(this))}return g.map(g.ofMany(b),function(b){a.modulesReady=null;for(var c=0;c<b.length;){var d=b[c];++c;switch(d[1]){case 1:return d}}Va.trace=a.originalTrace;return l.Success(I.Noise)})},
getModulesThatRequireInit:function(){for(var a=[this.requestMiddleware,this.requestHandlers,this.responseMiddleware,this.logHandlers,this.errorHandlers],b=[],c=0;c<a.length;){var d=a[c];++c;for(var f=0;f<d.length;){var h=d[f];++f;w.__instanceof(h,vb)&&b.push(h)}}return b},addRequestMiddleware:function(a,b,c){null==c&&(c=!1);return this.addModule(this.requestMiddleware,a,b,c)},addRequestHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.requestHandlers,a,b,c)},addErrorHandler:function(a,
b,c){null==c&&(c=!1);return this.addModule(this.errorHandlers,a,b,c)},addResponseMiddleware:function(a,b,c){null==c&&(c=!1);return this.addModule(this.responseMiddleware,a,b,!c)},addMiddleware:function(a,b,c){null==c&&(c=!1);this.addModule(this.requestMiddleware,a,b,c);this.addModule(this.responseMiddleware,a,b,!c);return this},addLogHandler:function(a,b,c){null==c&&(c=!1);return this.addModule(this.logHandlers,a,b,c)},addModule:function(a,b,c,d){null!=b&&(this.injector.injectInto(b),d?a.unshift(b):
a.push(b));if(null!=c)for(b=ea(c)();b.hasNext();)c=b.next(),this.injector.injectInto(c),d?a.unshift(c):a.push(c);return this},execute:function(a){var b=this;a.setUrlFilters(this.urlFilters);var c=this.requestMiddleware.map(function(a){var b=function(a){return function(b){return a(b)}}(N(a,a.requestIn));a={methodName:"requestIn",lineNumber:-1,fileName:"",customParams:[],className:p.getClassName(p.getClass(a))};return new qa(b,a)}),d=this.requestHandlers.map(function(a){var b=function(a){return function(b){return a(b)}}(N(a,
a.handleRequest));a={methodName:"handleRequest",lineNumber:-1,fileName:"",customParams:[],className:p.getClassName(p.getClass(a))};return new qa(b,a)}),f=this.responseMiddleware.map(function(a){var b=function(a){return function(b){return a(b)}}(N(a,a.responseOut));a={methodName:"requestOut",lineNumber:-1,fileName:"",customParams:[],className:p.getClassName(p.getClass(a))};return new qa(b,a)}),h=this.logHandlers.map(function(a){var c=function(a,b){return function(c){return a(c,b)}}(N(a,a.log),b.messages);
a={methodName:"log",lineNumber:-1,fileName:"",customParams:["httpContext","appMessages"],className:p.getClassName(p.getClass(a))};return new qa(c,a)});this.logModule(a,"Begin executing request "+a.getRequestUri());var e=g._tryFailingFlatMap(this.init(),function(e){return g._tryFailingFlatMap(b.executeModules(c,a,H.CRequestMiddlewareComplete),function(c){return g._tryFailingFlatMap(b.executeModules(d,a,H.CRequestHandlersComplete),function(c){return g._tryFailingFlatMap(b.executeModules(f,a,H.CResponseMiddlewareComplete),
function(c){return g._tryFailingFlatMap(b.executeModules(h,a,H.CLogHandlersComplete),function(c){return g._tryMap(b.clearMessages(),function(c){return b.flush(a)})})})})})});e(function(c){return function(c){b.logModule(a,"End executing request "+a.getRequestUri())}}(this));return e},logModule:function(a,b){},executeModules:function(a,b,c){var d=this,f=new V,h=null,h=function(){var e=a.shift();if(null!=c&&0!=(b.completion&1<<c[1]))f.trigger(l.Success(I.Noise));else if(null==e)null!=c&&(b.completion|=
1<<c[1]),f.trigger(l.Success(I.Noise));else{var n=e.a;d.currentModule=e.b;var q;try{q=n(b)}catch(p){x.lastException=p,p instanceof k&&(p=p.val),b.messages.push({msg:"Caught error "+s.string(p)+" while executing module "+d.currentModule.className+"."+d.currentModule.methodName+" in HttpApplication.executeModules()",pos:{fileName:"HttpApplication.hx",lineNumber:422,className:"ufront.app.HttpApplication",methodName:"executeModules"},type:J.MLog}),q=g.sync(l.Failure(r.wrap(p,null,d.currentModule)))}q(function(a){switch(a[1]){case 0:h();
break;case 1:d.handleError(a[2],b,f)}})}};h();return f.future},handleError:function(a,b,c){var d=this;if(0==(b.completion&1<<H.CErrorHandlersTriggered[1])){b.completion|=1<<H.CErrorHandlersTriggered[1];var f=this.errorHandlers.map(function(b){var c=function(a,b){return function(c){return a(b,c)}}(N(b,b.handleError),a);b=r.fakePosition(b,"handleError",[a.toString()]);return new qa(c,b)}),h=this.responseMiddleware.map(function(a){var b=function(a){return function(b){return a(b)}}(N(a,a.responseOut));
a={methodName:"requestOut",lineNumber:-1,fileName:"",customParams:[],className:p.getClassName(p.getClass(a))};return new qa(b,a)}),e=this.logHandlers.map(function(a){var b=function(a,b){return function(c){return a(c,b)}}(N(a,a.log),d.messages);a={methodName:"log",lineNumber:-1,fileName:"",customParams:["httpContext","appMessages"],className:p.getClassName(p.getClass(a))};return new qa(b,a)});g._tryFailingFlatMap(g._tryFailingFlatMap(this.executeModules(f,b,H.CErrorHandlersComplete),function(a){b.completion|=
1<<H.CRequestHandlersComplete[1];return t.success()}),function(a){return g._tryFailingFlatMap(d.executeModules(h,b,H.CResponseMiddlewareComplete),function(a){return g._tryFailingFlatMap(d.executeModules(e,b,H.CLogHandlersComplete),function(a){return g._tryMap(d.clearMessages(),function(a){return d.flush(b)})})})})(function(b){return function(b){c.trigger(l.Failure(a))}}(this))}else throw new k(""+("You had an error after your error handler had already run.  Last active module: "+this.currentModule.className+
"."+this.currentModule.methodName)+" \nError: "+s.string(a)+" \nError Data: "+s.string(a.data));},clearMessages:function(){for(var a=0,b=this.messages.length;a<b;)a++,this.messages.pop();return t.success()},flush:function(a){0==(a.completion&1<<H.CFlushComplete[1])&&(a.response.flush(),a.completion|=1<<H.CFlushComplete[1]);return I.Noise},executeRequest:function(){var a;a=null!=this.pathToContentDir?ob.createContext(null,null,this.injector,null,null,this.urlFilters,this.pathToContentDir):ob.createContext(null,
null,this.injector,null,null,this.urlFilters);return this.execute(a)},useModNekoCache:function(){},addUrlFilter:function(a){r.throwIfNull(a,"filter",{fileName:"HttpApplication.hx",lineNumber:592,className:"ufront.app.HttpApplication",methodName:"addUrlFilter"});this.urlFilters.push(a)},clearUrlFilters:function(){this.urlFilters=[]},setContentDirectory:function(a){this.pathToContentDir=a},__class__:ja};var ra=function(a){ja.call(this);this.configuration=hd.get();for(var b=0,c=A.fields(a);b<c.length;){var d=
c[b];++b;var f=A.field(a,d);this.configuration[d]=f}this.mvcHandler=new Mb(this.configuration.indexController);for(a=ea(this.configuration.controllers)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b)._toClass(b);for(a=ea(this.configuration.apis)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b).asSingleton(),b=Ta.getAsyncApi(b),null!=b&&this.injector.mapRuntimeTypeOf(b).asSingleton();null!=this.configuration.remotingPath&&(a=bb.urlConnect("/"),b=ab.urlConnect("/"),this.injector.mapType("haxe.remoting.Connection",
null,null).toValue(a),this.injector.mapType("haxe.remoting.AsyncConnection",null,null).toValue(b));this.addModule(this.requestMiddleware,null,this.configuration.requestMiddleware,!1);this.addModule(this.requestHandlers,null,[this.mvcHandler],!1);this.addModule(this.responseMiddleware,null,this.configuration.responseMiddleware,!0);this.addModule(this.errorHandlers,null,this.configuration.errorHandlers,!1);this.configuration.disableBrowserTrace||this.addLogHandler(new La,null,null);a=this.configuration.basePath;
C.endsWith(a,"/")&&(a=n.substr(a,0,a.length-1));C.startsWith(a,"/")&&(a=n.substr(a,1,null));0<a.length&&ja.prototype.addUrlFilter.call(this,new Nb(a));!0!=this.configuration.urlRewrite&&ja.prototype.addUrlFilter.call(this,new Ob);null!=this.configuration.sessionImplementation&&(this.injector.mapType("ufront.web.session.UFHttpSession",null,null)._toClass(this.configuration.sessionImplementation),this.injector.mapRuntimeTypeOf(this.configuration.sessionImplementation)._toClass(this.configuration.sessionImplementation));
null!=this.configuration.authImplementation&&(this.injector.mapType("ufront.auth.UFAuthHandler",null,null)._toClass(this.configuration.authImplementation),this.injector.mapRuntimeTypeOf(this.configuration.authImplementation)._toClass(this.configuration.authImplementation));null!=this.configuration.defaultLayout&&this.injector.mapType("String","defaultLayout",null).toValue(this.configuration.defaultLayout);if(null!=this.configuration.viewEngine){this.injector.mapType("String","viewPath",null).toValue(this.configuration.viewPath);
this.injector.mapType("ufront.view.UFViewEngine",null,null)._toSingleton(this.configuration.viewEngine);this.injector.mapRuntimeTypeOf(this.configuration.viewEngine).toValue(this.injector.getValueForType("ufront.view.UFViewEngine",null));try{this.viewEngine=this.injector.getValueForType("ufront.view.UFViewEngine",null);a=0;for(var h=this.configuration.templatingEngines;a<h.length;){var e=h[a];++a;this.viewEngine.engines.push(e)}}catch(g){x.lastException=g,g instanceof k&&(g=g.val),null}}if(null!=
this.configuration.clientActions)for(h=ea(this.configuration.clientActions)();h.hasNext();)e=h.next(),this.registerAction(e);ra._currentApps.push(this)};e["ufront.app.ClientJsApplication"]=ra;ra.__name__=["ufront","app","ClientJsApplication"];ra.ufExecuteAction=pd.ufExecuteAction=function(a,b){for(var c=0,d=ra._currentApps;c<d.length;){var f=d[c];++c;f.executeAction(a,b)}};ra.ufExecuteSerializedAction=pd.ufExecuteSerializedAction=function(a,b){var c;c=null==b?null:S.run(b);ra.ufExecuteAction(a,c)};
ra.__super__=ja;ra.prototype=K(ja.prototype,{configuration:null,mvcHandler:null,viewEngine:null,currentContext:null,listen:function(){var a=this;q.init(null,!1);q.addEventListener(null,function(b,c){a.executeRequest()});return this},executeRequest:function(){this.loadCurrentContext();return this.execute(this.get_currentContext())},dispose:function(){n.remove(ra._currentApps,this);return ja.prototype.dispose.call(this)},registerAction:function(a){this.injector.mapRuntimeTypeOf(a).asSingleton();return this},
executeAction:function(a,b){if(this.injector.hasMappingForType(a,null))this.injector.getValueForType(a).execute(this.get_currentContext(),b);else throw new k("UFClientAction "+a+" was not registered with the ClientJsApplication.");},get_currentContext:function(){null==this.currentContext&&this.loadCurrentContext();return this.currentContext},loadCurrentContext:function(){this.currentContext=ob.createContext(null,null,this.injector,null,null,this.urlFilters)},__class__:ra,__properties__:{get_currentContext:"get_currentContext"}});
var pc=function(){};e["ufront.app.UFErrorHandler"]=pc;pc.__name__=["ufront","app","UFErrorHandler"];pc.prototype={handleError:null,__class__:pc};var vb=function(){};e["ufront.app.UFInitRequired"]=vb;vb.__name__=["ufront","app","UFInitRequired"];vb.prototype={init:null,dispose:null,__class__:vb};var cb=function(){};e["ufront.app.UFLogHandler"]=cb;cb.__name__=["ufront","app","UFLogHandler"];cb.prototype={log:null,__class__:cb};var qc=function(){};e["ufront.app.UFResponseMiddleware"]=qc;qc.__name__=
["ufront","app","UFResponseMiddleware"];qc.prototype={responseOut:null,__class__:qc};var Pb=function(){};e["ufront.app.UFRequestMiddleware"]=Pb;Pb.__name__=["ufront","app","UFRequestMiddleware"];Pb.prototype={requestIn:null,__class__:Pb};var Qb=function(){};e["ufront.app.UFMiddleware"]=Qb;Qb.__name__=["ufront","app","UFMiddleware"];Qb.__interfaces__=[qc,Pb];var Rb=function(){};e["ufront.app.UFRequestHandler"]=Rb;Rb.__name__=["ufront","app","UFRequestHandler"];Rb.prototype={handleRequest:null,toString:null,
__class__:Rb};var Kc=function(a){this.appTemplatingEngines=new ba;this.firstRun=!0;ja.call(this);this.configuration=id.get();for(var b=0,c=A.fields(a);b<c.length;){var d=c[b];++b;var f=A.field(a,d);this.configuration[d]=f}this.mvcHandler=new Mb(this.configuration.indexController);this.remotingHandler=new rc;null!=this.configuration.remotingApi&&this.remotingHandler.loadApiContext(this.configuration.remotingApi);for(a=ea(this.configuration.controllers)();a.hasNext();)b=a.next(),this.injector.mapRuntimeTypeOf(b)._toClass(b);
this.addModule(this.requestMiddleware,null,this.configuration.requestMiddleware,!1);this.addModule(this.requestHandlers,null,[this.remotingHandler,this.mvcHandler],!1);this.addModule(this.responseMiddleware,null,this.configuration.responseMiddleware,!0);this.addModule(this.errorHandlers,null,this.configuration.errorHandlers,!1);this.configuration.disableServerTrace||this.addLogHandler(new Ma,null,null);this.configuration.disableBrowserTrace||(this.addLogHandler(new La,null,null),this.addLogHandler(new wb,
null,null));null!=this.configuration.logFile&&this.addLogHandler(new Na(this.configuration.logFile),null,null);a=this.configuration.basePath;C.endsWith(a,"/")&&(a=n.substr(a,0,a.length-1));C.startsWith(a,"/")&&(a=n.substr(a,1,null));0<a.length&&ja.prototype.addUrlFilter.call(this,new Nb(a));!0!=this.configuration.urlRewrite&&ja.prototype.addUrlFilter.call(this,new Ob);null!=this.configuration.sessionImplementation&&(this.injector.mapType("ufront.web.session.UFHttpSession",null,null)._toClass(this.configuration.sessionImplementation),
this.injector.mapRuntimeTypeOf(this.configuration.sessionImplementation)._toClass(this.configuration.sessionImplementation));null!=this.configuration.authImplementation&&(this.injector.mapType("ufront.auth.UFAuthHandler",null,null)._toClass(this.configuration.authImplementation),this.injector.mapRuntimeTypeOf(this.configuration.authImplementation)._toClass(this.configuration.authImplementation));null!=this.configuration.viewEngine&&(this.injector.mapType("String","viewPath",null).toValue(this.configuration.viewPath),
this.injector.mapType("ufront.view.UFViewEngine",null,null)._toSingleton(this.configuration.viewEngine));null!=this.configuration.contentDirectory&&this.setContentDirectory(this.configuration.contentDirectory);null!=this.configuration.defaultLayout&&this.injector.mapType("String","defaultLayout",null).toValue(this.configuration.defaultLayout);a=0;for(b=this.configuration.templatingEngines;a<b.length;)c=b[a],++a,this.addTemplatingEngine(c)};e["ufront.app.UfrontApplication"]=Kc;Kc.__name__=["ufront",
"app","UfrontApplication"];Kc.__super__=ja;Kc.prototype=K(ja.prototype,{configuration:null,mvcHandler:null,remotingHandler:null,viewEngine:null,execute:function(a){r.throwIfNull(a,"httpContext",{fileName:"UfrontApplication.hx",lineNumber:173,className:"ufront.app.UfrontApplication",methodName:"execute"});this.firstRun&&this.initOnFirstExecute(a);for(var b=ea(this.configuration.apis)();b.hasNext();){var c=b.next();a.injector.mapRuntimeTypeOf(c)._toSingleton(c);c=Ta.getAsyncApi(c);null!=c&&a.injector.mapRuntimeTypeOf(c)._toSingleton(c)}return ja.prototype.execute.call(this,
a)},firstRun:null,initOnFirstExecute:function(a){this.firstRun=!1;this.injector.mapType("String","scriptDirectory",null).toValue(a.request.get_scriptDirectory());this.injector.mapType("String","contentDirectory",null).toValue(a.get_contentDirectory());if(null!=this.configuration.viewEngine)try{this.viewEngine=this.injector.getValueForType("ufront.view.UFViewEngine",null);for(var b=this.appTemplatingEngines.h,c=null;null!=b;){var d=void 0,c=b[0],b=b[1],d=c;this.viewEngine.engines.push(d)}}catch(f){x.lastException=
f,f instanceof k&&(f=f.val),a.ufWarn("Failed to load view engine "+p.getClassName(this.configuration.viewEngine)+": "+s.string(f),{fileName:"UfrontApplication.hx",lineNumber:206,className:"ufront.app.UfrontApplication",methodName:"initOnFirstExecute"})}},loadApiContext:function(a){this.remotingHandler.loadApiContext(a);return this},appTemplatingEngines:null,addTemplatingEngine:function(a){this.appTemplatingEngines.add(a);null!=this.viewEngine&&this.viewEngine.engines.push(a);return this},__class__:Kc});
var hd=function(){};e["ufront.app.DefaultUfrontClientConfiguration"]=hd;hd.__name__=["ufront","app","DefaultUfrontClientConfiguration"];hd.get=function(){return{indexController:pb,urlRewrite:!0,basePath:"/",remotingPath:"/",disableBrowserTrace:!1,controllers:aa.get("null,true,ufront.web.Controller"),apis:aa.get("null,true,ufront.api.UFApi"),clientActions:aa.get("null,true,ufront.web.client.UFClientAction"),viewEngine:Sb,templatingEngines:Oa.all,viewPath:"/view/",defaultLayout:null,sessionImplementation:Tb,
requestMiddleware:[new sc],responseMiddleware:[],errorHandlers:[new qb],authImplementation:Ub}};var id=function(){};e["ufront.app.DefaultUfrontConfiguration"]=id;id.__name__=["ufront","app","DefaultUfrontConfiguration"];id.get=function(){var a=new xb,b=new Vb;return{indexController:pb,remotingApi:null,urlRewrite:!0,basePath:"/",contentDirectory:"../uf-content",logFile:null,disableBrowserTrace:!1,disableServerTrace:!1,controllers:aa.get("null,true,ufront.web.Controller"),apis:aa.get("null,true,ufront.api.UFApi"),
viewEngine:Wb,templatingEngines:Oa.all,viewPath:"view/",defaultLayout:null,sessionImplementation:ka,requestMiddleware:[b,a],responseMiddleware:[a,b],errorHandlers:[new qb],authImplementation:tc}};var pb=function(){};e["ufront.app.DefaultUfrontController"]=pb;pb.__name__=["ufront","app","DefaultUfrontController"];pb.__super__=Ua;pb.prototype=K(Ua.prototype,{showMessage:function(){this.ufTrace("Your Ufront App is almost ready.",{fileName:"UfrontConfiguration.hx",lineNumber:279,className:"ufront.app.DefaultUfrontController",
methodName:"showMessage"});return'<!DOCTYPE html>\n<html>\n<head>\n\t<title>New Ufront App</title>\n\t<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />\n</head>\n<body style="padding-top: 30px;">\n\t<div class="container">\n\t\t<div class="jumbotron">\n\t\t\t<h1>Almost done!</h1>\n\t\t\t<p>Your new Ufront App is almost ready to go. You will need to add some routes and let ufront know about them:</p>\n\t\t\t<pre><code>\n\tapp = new UfrontApplication({\n\t\tindexController: MySiteController,\n\t});\n\tapp.executeRequest();\n\t\t\t</code></pre>\n\t\t\t<p>See the Getting Started tutorial for more information.</p>\n\t\t</div>\n\t</div>\n</body>\n</html>\n'},
execute:function(){this.context.actionContext.get_uriParts();this.context.request.get_params();this.context.request.get_httpMethod();this.context.actionContext.controller=this;this.context.actionContext.action="execute";try{this.context.actionContext.action="showMessage";this.context.actionContext.args=[];this.context.actionContext.get_uriParts().splice(0,0);var a;a=Q.getFields(pb).showMessage.wrapResult[0];var b=this.wrapResult(this.showMessage(),a);this.setContextActionResultWhenFinished(b);return b}catch(c){return x.lastException=
c,c instanceof k&&(c=c.val),t.asSurpriseError(c,"Uncaught error while executing "+s.string(this.context.actionContext.controller)+"."+this.context.actionContext.action+"()",{fileName:"UfrontConfiguration.hx",lineNumber:276,className:"ufront.app.DefaultUfrontController",methodName:"execute"})}},__class__:pb});var ua=e["ufront.auth.AuthError"]={__ename__:["ufront","auth","AuthError"],__constructs__:["ANotLoggedIn","ALoginFailed","ANotLoggedInAs","ANoPermission"]};ua.ANotLoggedIn=["ANotLoggedIn",0];
ua.ANotLoggedIn.toString=u;ua.ANotLoggedIn.__enum__=ua;ua.ALoginFailed=function(a){a=["ALoginFailed",1,a];a.__enum__=ua;a.toString=u;return a};ua.ANotLoggedInAs=function(a){a=["ANotLoggedInAs",2,a];a.__enum__=ua;a.toString=u;return a};ua.ANoPermission=function(a){a=["ANoPermission",3,a];a.__enum__=ua;a.toString=u;return a};var Xb=function(){};e["ufront.auth.UFAuthHandler"]=Xb;Xb.__name__=["ufront","auth","UFAuthHandler"];Xb.prototype={get_currentUser:null,isLoggedIn:null,requireLogin:null,isLoggedInAs:null,
requireLoginAs:null,hasPermission:null,hasPermissions:null,requirePermission:null,requirePermissions:null,toString:null,__class__:Xb,__properties__:{get_currentUser:"get_currentUser"}};var Ub=function(){};e["ufront.auth.NobodyAuthHandler"]=Ub;Ub.__name__=["ufront","auth","NobodyAuthHandler"];Ub.__interfaces__=[Xb];Ub.prototype={isLoggedIn:function(){return!1},requireLogin:function(){throw new k(r.authError(ua.ANotLoggedIn,{fileName:"NobodyAuthHandler.hx",lineNumber:20,className:"ufront.auth.NobodyAuthHandler",
methodName:"requireLogin"}));},isLoggedInAs:function(a){return!1},requireLoginAs:function(a){throw new k(r.authError(ua.ANotLoggedInAs(a),{fileName:"NobodyAuthHandler.hx",lineNumber:24,className:"ufront.auth.NobodyAuthHandler",methodName:"requireLoginAs"}));},hasPermission:function(a){return!1},hasPermissions:function(a){return!1},requirePermission:function(a){throw new k(r.authError(ua.ANoPermission(a),{fileName:"NobodyAuthHandler.hx",lineNumber:30,className:"ufront.auth.NobodyAuthHandler",methodName:"requirePermission"}));
},requirePermissions:function(a){for(a=ea(a)();a.hasNext();)throw a=a.next(),new k(r.authError(ua.ANoPermission(a),{fileName:"NobodyAuthHandler.hx",lineNumber:32,className:"ufront.auth.NobodyAuthHandler",methodName:"requirePermissions"}));},toString:function(){return"NobodyAuthHandler"},get_currentUser:function(){return null},__class__:Ub,__properties__:{get_currentUser:"get_currentUser"}};var Lc=function(){};e["ufront.auth.UFAuthAdapter"]=Lc;Lc.__name__=["ufront","auth","UFAuthAdapter"];Lc.prototype=
{authenticate:null,__class__:Lc};var Mc=function(){};e["ufront.auth.UFAuthAdapterSync"]=Mc;Mc.__name__=["ufront","auth","UFAuthAdapterSync"];Mc.prototype={authenticateSync:null,__class__:Mc};var uc=function(){};e["ufront.auth.UFAuthUser"]=uc;uc.__name__=["ufront","auth","UFAuthUser"];uc.prototype={get_userID:null,can:null,userID:null,__class__:uc,__properties__:{get_userID:"get_userID"}};var tc=function(){};e["ufront.auth.YesBossAuthHandler"]=tc;tc.__name__=["ufront","auth","YesBossAuthHandler"];
tc.__interfaces__=[Xb];tc.prototype={isLoggedIn:function(){return!0},requireLogin:function(){},isLoggedInAs:function(a){return!0},requireLoginAs:function(a){},hasPermission:function(a){return!0},hasPermissions:function(a){return!0},requirePermission:function(a){},requirePermissions:function(a){},toString:function(){return"YesBossAuthHandler"},get_currentUser:function(){return new vc},__class__:tc,__properties__:{get_currentUser:"get_currentUser"}};var vc=function(){};e["ufront.auth.BossUser"]=vc;
vc.__name__=["ufront","auth","BossUser"];vc.__interfaces__=[uc];vc.prototype={userID:null,can:function(a,b){return!0},get_userID:function(){return"The Boss"},__class__:vc,__properties__:{get_userID:"get_userID"}};var wc=function(){};e["ufront.cache.UFCacheConnectionSync"]=wc;wc.__name__=["ufront","cache","UFCacheConnectionSync"];wc.prototype={getNamespaceSync:null,__class__:wc};var xc=function(){};e["ufront.cache.UFCacheConnection"]=xc;xc.__name__=["ufront","cache","UFCacheConnection"];xc.prototype=
{getNamespace:null,__class__:xc};var Nc=function(){this.caches=new v};e["ufront.cache.MemoryCacheConnection"]=Nc;Nc.__name__=["ufront","cache","MemoryCacheConnection"];Nc.__interfaces__=[wc,xc];Nc.prototype={caches:null,getNamespaceSync:function(a){if(this.caches.exists(a))return this.caches.get(a);var b=new yc;this.caches.set(a,b);return b},getNamespace:function(a){return this.getNamespaceSync(a)},__class__:Nc};var zc=function(){};e["ufront.cache.UFCacheSync"]=zc;zc.__name__=["ufront","cache","UFCacheSync"];
zc.prototype={getSync:null,setSync:null,getOrSetSync:null,removeSync:null,clearSync:null,__class__:zc};var Ac=function(){};e["ufront.cache.UFCache"]=Ac;Ac.__name__=["ufront","cache","UFCache"];Ac.prototype={get:null,set:null,getOrSet:null,remove:null,clear:null,__class__:Ac};var yc=function(){this.map=new v};e["ufront.cache.MemoryCache"]=yc;yc.__name__=["ufront","cache","MemoryCache"];yc.__interfaces__=[zc,Ac];yc.prototype={map:null,getSync:function(a){return this.map.exists(a)?l.Success(this.map.get(a)):
l.Failure(Pa.ENotInCache)},setSync:function(a,b){return l.Success(function(c){c.map.set(a,b);return b}(this))},getOrSetSync:function(a,b){return this.map.exists(a)?l.Success(this.map.get(a)):l.Success(function(c){var d=b();c.map.set(a,d);return d}(this))},removeSync:function(a){this.map.remove(a);return l.Success(I.Noise)},clearSync:function(){this.map=new v;return l.Success(I.Noise)},get:function(a){return g.sync(this.getSync(a))},set:function(a,b){var c=this;return g.map(b,function(b){return l.Success(function(f){c.map.set(a,
b);return b}(this))})},getOrSet:function(a,b){var c=this;return this.map.exists(a)?g.sync(l.Success(this.map.get(a))):g.map(b(),function(b){return l.Success(function(f){c.map.set(a,b);return b}(this))})},clear:function(){return g.sync(this.clearSync())},remove:function(a){return g.sync(this.removeSync(a))},__class__:yc};var va=function(){};e["ufront.cache.RequestCacheMiddleware"]=va;va.__name__=["ufront","cache","RequestCacheMiddleware"];va.__interfaces__=[Qb];va.hasCacheMeta=function(a){return Object.prototype.hasOwnProperty.call(a,
va.metaName)};va.prototype={cacheConnection:null,cache:null,requestIn:function(a){null==this.cache&&(this.cache=this.cacheConnection.getNamespace("ufront.middleware.RequestCache"));if("get"==a.request.get_httpMethod().toLowerCase()){var b=a.request.get_uri();return g.map(this.cache.get(b),function(c){switch(c[1]){case 0:c=c[2];a.messages.push({msg:"Loading "+b+" from cache",pos:{fileName:"RequestCacheMiddleware.hx",lineNumber:74,className:"ufront.cache.RequestCacheMiddleware",methodName:"requestIn"},
type:J.MTrace});a.response.clearContent();a.response.set_contentType(c.get_contentType());a.response.set_redirectLocation(c.get_redirectLocation());a.response.charset=c.charset;a.response.status=null!=c.status?c.status:200;for(var d=c.getCookies().iterator();d.hasNext();){var f=d.next();a.response.setCookie(f)}d=c.getHeaders();for(f=d.keys();f.hasNext();){var h=f.next();a.response.setHeader(h,d.get(h))}a.response.write(c.getBuffer());a.completion|=1<<H.CRequestHandlersComplete[1]}return l.Success(I.Noise)})}return t.success()},
responseOut:function(a){null==this.cache&&(this.cache=this.cacheConnection.getNamespace("ufront.middleware.RequestCache"));if("get"==a.request.get_httpMethod().toLowerCase()&&null!=a.actionContext&&null!=a.actionContext.controller&&null!=a.actionContext.action&&-1<function(b){b=a.response.get_contentType();return n.indexOf(va.contentTypesToCache,b,0)}(this)){var b=a.actionContext.controller,c;c=null==b?null:w.getClass(b);b=Q.getType(c);c=A.field(Q.getFields(c),a.actionContext.action);if(va.hasCacheMeta(b)||
va.hasCacheMeta(c)){var d=a.request.get_uri();return g._map(this.cache.set(d,g.sync(a.response)),function(b){switch(b[1]){case 1:a.messages.push({msg:"Failed to save cache for "+d+": "+s.string(b[2]),pos:{fileName:"RequestCacheMiddleware.hx",lineNumber:121,className:"ufront.cache.RequestCacheMiddleware",methodName:"responseOut"},type:J.MError})}return l.Success(I.Noise)})}}return t.success()},invalidate:function(){return this.cache.clear()},__class__:va};var Pa=e["ufront.cache.CacheError"]={__ename__:["ufront",
"cache","CacheError"],__constructs__:["ENotInCache","EUnableToConnect","ECacheNotReadable","ECacheNotWriteable"]};Pa.ENotInCache=["ENotInCache",0];Pa.ENotInCache.toString=u;Pa.ENotInCache.__enum__=Pa;Pa.EUnableToConnect=function(a){a=["EUnableToConnect",1,a];a.__enum__=Pa;a.toString=u;return a};Pa.ECacheNotReadable=function(a){a=["ECacheNotReadable",2,a];a.__enum__=Pa;a.toString=u;return a};Pa.ECacheNotWriteable=function(a){a=["ECacheNotWriteable",3,a];a.__enum__=Pa;a.toString=u;return a};var yb=
{};e["ufront.core._AcceptEither.AcceptEither_Impl_"]=yb;yb.__name__=["ufront","core","_AcceptEither","AcceptEither_Impl_"];yb.__properties__={get_type:"get_type",get_value:"get_value"};yb._new=function(a){return a};yb.get_value=function(a){switch(a[1]){case 0:return a[2];case 1:return a[2]}};yb.get_type=function(a){return a};yb.fromA=function(a){return Za.Left(a)};yb.fromB=function(a){return Za.Right(a)};var Bc=function(){};e["ufront.core.FutureTools"]=Bc;Bc.__name__=["ufront","core","FutureTools"];
Bc.asFuture=function(a){return g.sync(a)};var t=function(){};e["ufront.core.SurpriseTools"]=t;t.__name__=["ufront","core","SurpriseTools"];t.success=function(){null==t.s&&(t.s=g.sync(l.Success(I.Noise)));return t.s};t.asSurprise=function(a){return g.sync(a)};t.asGoodSurprise=function(a){return g.sync(l.Success(a))};t.asBadSurprise=function(a){return g.sync(l.Failure(a))};t.asSurpriseError=function(a,b,c){null==b&&(b="Failure: "+s.string(a));return g.sync(l.Failure(r.wrap(a,b,c)))};t.asSurpriseTypedError=
function(a,b,c){null==b&&(b="Failure: "+s.string(a));return g.sync(l.Failure(r.wrap(a,b,c)))};t.tryCatchSurprise=function(a,b,c){try{return t.asGoodSurprise(a())}catch(d){return x.lastException=d,d instanceof k&&(d=d.val),t.asSurpriseError(d,b,c)}};t.changeSuccessTo=function(a,b){return g.map(a,function(a){switch(a[1]){case 0:return l.Success(b);case 1:return l.Failure(a[2])}})};t.changeSuccessToNoise=function(a){return t.changeSuccessTo(a,I.Noise)};t.changeFailureTo=function(a,b){return g.map(a,
function(a){switch(a[1]){case 0:return l.Success(a[2]);case 1:return l.Failure(b)}})};t.changeFailureToError=function(a,b,c){return g.map(a,function(a){switch(a[1]){case 0:return l.Success(a[2]);case 1:return a=a[2],null==b&&(b="Failure: "+s.string(a)),l.Failure(r.wrap(a,b,c))}})};t.useFallback=function(a,b){return g.map(a,function(a){switch(a[1]){case 1:return b;case 0:return a[2]}})};var Oc=function(){};e["ufront.core.CallbackTools"]=Oc;Oc.__name__=["ufront","core","CallbackTools"];Oc.asVoidSurprise=
function(a,b){var c=new V;a(function(a){null!=a?(a=z.withData(500,""+s.string(a),b,{fileName:"AsyncTools.hx",lineNumber:216,className:"ufront.core.CallbackTools",methodName:"asVoidSurprise"}),c.trigger(l.Failure(a))):c.trigger(l.Success(I.Noise))});return c.future};Oc.asSurprise=function(a,b){var c=new V;a(function(a,f){if(null!=a){var h=z.withData(500,""+s.string(a),b,{fileName:"AsyncTools.hx",lineNumber:241,className:"ufront.core.CallbackTools",methodName:"asSurprise"});c.trigger(l.Failure(h))}else c.trigger(l.Success(f))});
return c.future};Oc.asSurprisePair=function(a,b){var c=new V;a(function(a,f,h){null!=a?(a=z.withData(500,""+s.string(a),b,{fileName:"AsyncTools.hx",lineNumber:266,className:"ufront.core.CallbackTools",methodName:"asSurprisePair"}),c.trigger(l.Failure(a))):c.trigger(l.Success(new qa(f,h)))});return c.future};var db={};e["ufront.core._CaseInsensitiveMultiValueMap.CaseInsensitiveMultiValueMap_Impl_"]=db;db.__name__=["ufront","core","_CaseInsensitiveMultiValueMap","CaseInsensitiveMultiValueMap_Impl_"];
db._new=function(){return new v};db.exists=function(a,b){var c=b.toLowerCase();return null!=y[c]?a.existsReserved(c):a.h.hasOwnProperty(c)};db.getAll=function(a,b){return B.getAll(a,b.toLowerCase())};db.get=function(a,b){return B.get(a,b.toLowerCase())};db.set=function(a,b,c){B.set(a,b.toLowerCase(),c)};db.add=function(a,b,c){B.add(a,b.toLowerCase(),c)};db.remove=function(a,b){var c=b.toLowerCase();return a.remove(c)};db.clone=function(a){return B.clone(a)};var Yb={};e["ufront.core._ClassRef.ClassRef_Impl_"]=
Yb;Yb.__name__=["ufront","core","_ClassRef","ClassRef_Impl_"];Yb._new=function(a){return a};Yb.toString=function(a){return a};Yb.toClass=function(a){return p.resolveClass(a)};Yb.fromClass=function(a){return p.getClassName(a)};Yb.fromClassName=function(a){return a};var Pc={};e["ufront.core._Futuristic.Futuristic_Impl_"]=Pc;Pc.__name__=["ufront","core","_Futuristic","Futuristic_Impl_"];Pc._new=function(a){return a};Pc.fromSync=function(a){return g.sync(a)};Pc.asFuture=function(a){return a};var od=function(){};
e["ufront.core.InjectionTools"]=od;od.__name__=["ufront","core","InjectionTools"];od.listMappings=function(a,b,c){return["Injector mappings not available unless compiled with -debug."]};var B={};e["ufront.core._MultiValueMap.MultiValueMap_Impl_"]=B;B.__name__=["ufront","core","_MultiValueMap","MultiValueMap_Impl_"];B._new=function(){return new v};B.keys=function(a){return a.keys()};B.exists=function(a,b){return null!=y[b]?a.existsReserved(b):a.h.hasOwnProperty(b)};B.iterator=function(a){a=B.allValues(a);
return n.iter(a)};B.allValues=function(a){var b=[];for(a=new Jb(a,a.arrayKeys());a.hasNext();)for(var c=a.next(),d=0;d<c.length;){var f=c[d];++d;b.push(f)}return b};B.get=function(a,b){if(null!=y[b]?a.existsReserved(b):a.h.hasOwnProperty(b)){var c;c=null!=y[b]?a.getReserved(b):a.h[b];return c[c.length-1]}return null};B.getAll=function(a,b){return(null!=y[b]?a.existsReserved(b):a.h.hasOwnProperty(b))?null!=y[b]?a.getReserved(b):a.h[b]:[]};B.set=function(a,b,c){null!=c&&(C.endsWith(b,"[]")&&(b=n.substr(b,
0,b.length-2)),a.set(b,[c]))};B.add=function(a,b,c){null!=c&&(null!=b?C.endsWith(b,"[]")&&(b=n.substr(b,0,b.length-2)):b="",(null!=y[b]?a.existsReserved(b):a.h.hasOwnProperty(b))?(null!=y[b]?a.getReserved(b):a.h[b]).push(c):a.set(b,[c]))};B.remove=function(a,b){return a.remove(b)};B.clone=function(a){for(var b=new v,c=a.keys();c.hasNext();){var d=c.next(),f=0,h;for(h=null!=y[d]?a.getReserved(d):a.h[d];f<h.length;){var e=h[f];++f;B.add(b,d,e)}}return b};B.toString=function(a){var b=new ga;b.b+="[";
for(var c=a.keys();c.hasNext();){var d=c.next();b.b+=s.string("\n\t"+d+" = [");b.add(B.getAll(a,d).join(", "));b.b+="]"}1<b.b.length&&(b.b+="\n");b.b+="]";return b.b};B.stripArrayFromName=function(a,b){return C.endsWith(b,"[]")?n.substr(b,0,b.length-2):b};B.toMapOfArrays=function(a){return a};B.fromMapOfArrays=function(a){return a};B.toStringMap=function(a){for(var b=new v,c=a.keys();c.hasNext();){var d=c.next();b.set(d,B.get(a,d))}return b};B.toMap=function(a){return B.toStringMap(a)};B.fromStringMap=
function(a){var b=new v;if(null!=a)for(var c=a.keys();c.hasNext();){var d=c.next();B.set(b,d,null!=y[d]?a.getReserved(d):a.h[d])}return b};B.fromMap=function(a){return B.fromStringMap(a)};B.combine=function(a){for(var b=new v,c=0;c<a.length;){var d=a[c];++c;for(var f=d.keys();f.hasNext();)for(var h=f.next(),e=0,k=B.getAll(d,h);e<k.length;){var g=k[e];++e;B.add(b,h,g)}}return b};var Hc=function(){this.length=0;this.__keys=[];this.__hash=new v};e["ufront.core.OrderedStringMap"]=Hc;Hc.__name__=["ufront",
"core","OrderedStringMap"];Hc.prototype={length:null,set:function(a,b){this.__hash.exists(a)||(this.__keys.push(a),this.length++);this.__hash.set(a,b)},setAt:function(a,b,c){this.remove(b);this.__keys.splice(a,0,b);this.__hash.set(b,c);this.length++},get:function(a){return this.__hash.get(a)},getAt:function(a){return this.__hash.get(this.__keys[a])},indexOf:function(a){if(!this.__hash.exists(a))return-1;for(var b=0,c=this.__keys.length;b<c;){var d=b++;if(this.__keys[d]==a)return d}throw new k(r.internalServerError(""+
a+" exists in hash but not in array",null,{fileName:"OrderedStringMap.hx",lineNumber:51,className:"ufront.core.OrderedStringMap",methodName:"indexOf"}));},exists:function(a){return this.__hash.exists(a)},remove:function(a){var b=this.__hash.get(a);if(null==b)return null;this.__hash.remove(a);n.remove(this.__keys,a);this.length--;return b},removeAt:function(a){a=this.__keys[a];if(null==a)return null;var b=this.__hash.get(a);this.__hash.remove(a);n.remove(this.__keys,a);this.length--;return b},keyAt:function(a){return this.__keys[a]},
keys:function(){return n.iter(this.__keys)},iterator:function(){var a=this.array();return n.iter(a)},clear:function(){this.__hash=new v;this.__keys=[];this.length=0},array:function(){for(var a=[],b=0,c=this.__keys;b<c.length;){var d=c[b];++b;a.push(this.__hash.get(d))}return a},toString:function(){var a=new ga;a.b+="{";for(var b=this.keys();b.hasNext();){var c=b.next();a.b=null==c?a.b+"null":a.b+(""+c);a.b+=" => ";a.add(s.string(this.get(c)));b.hasNext()&&(a.b+=", ")}a.b+="}";return a.b},__keys:null,
__hash:null,__class__:Hc};var za=function(){};e["ufront.core.Uuid"]=za;za.__name__=["ufront","core","Uuid"];za.random=function(a){return Math.floor(Math.random()*a)};za.srandom=function(){return"0123456789ABCDEF".charAt(Math.floor(16*Math.random()))};za.create=function(){for(var a=[],b=0;8>b;){var c=b++;a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()))}a[8]="-";for(b=9;13>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[13]="-";a[14]="4";for(b=15;18>b;)c=b++,a[c]=
"0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[18]="-";a[19]=""+"89AB".charAt(Math.floor(4*Math.random()));for(b=20;23>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));a[23]="-";for(b=24;36>b;)c=b++,a[c]="0123456789ABCDEF".charAt(Math.floor(16*Math.random()));return a.join("")};za.isValid=function(a){return(new fa("[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}","")).match(a)};var La=function(){};e["ufront.log.BrowserConsoleLogger"]=La;La.__name__=
["ufront","log","BrowserConsoleLogger"];La.__interfaces__=[cb];La.formatMessage=function(a){var b;switch(a.type[1]){case 0:b="log";break;case 1:b="info";break;case 2:b="warn";break;case 3:b="error"}var c;c=null!=a.pos&&null!=a.pos.customParams?", "+a.pos.customParams.join(", "):"";a=""+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+"): "+s.string(a.msg)+c;return"console."+b+'(decodeURIComponent("'+encodeURIComponent(a)+'"))'};La.printMessage=function(a){var b=window.console,c;switch(a.type[1]){case 0:c=
N(b,b.log);break;case 1:c=N(b,b.info);break;case 2:c=N(b,b.warn);break;case 3:c=N(b,b.error)}var d=[""+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+")",a.msg];if(null!=a.pos&&null!=a.pos.customParams){var f=0;for(a=a.pos.customParams;f<a.length;){var h=a[f];++f;d.push(h)}}c.apply(b,d)};La.prototype={log:function(a,b){for(var c=0,d=a.messages;c<d.length;){var f=d[c];++c;La.printMessage(f)}for(c=0;c<b.length;)d=b[c],++c,La.printMessage(d);return t.success()},__class__:La};var Na=function(a){this.path=
a};e["ufront.log.FileLogger"]=Na;Na.__name__=["ufront","log","FileLogger"];Na.__interfaces__=[vb,cb];Na.format=function(a){var b=s.string(a.msg),b=Na.REMOVENL.replace(b,"\\n"),c=n.substr(a.type[0],1,null);a=a.pos;return"["+c+"] "+a.className+"."+a.methodName+"("+a.lineNumber+"): "+b};Na.prototype={path:null,init:function(a){return t.success()},dispose:function(a){this.path=null;return t.success()},log:function(a,b){a.get_contentDirectory();var c=a.request,d=a.response,f=c.get_clientIP();try{null!=
(null!=a.session?a.session.get_id():null)&&(f+=" "+(null!=a.session?a.session.get_id():null)),null!=(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null)&&(f+=" "+(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null))}catch(h){x.lastException=h,h instanceof k&&(h=h.val)}c=""+s.string(new Date)+" ["+c.get_httpMethod()+"] ["+c.get_uri()+"] from ["+f+"], response: ["+d.status+" "+d.get_contentType()+"]\n";d=0;for(f=a.messages;d<
f.length;){var e=f[d];++d;c+="\t"+Na.format(e)+"\n"}if(null!=b)for(d=0;d<b.length;)f=b[d],++d,c+="\t"+Na.format(f)+"\n";return t.asBadSurprise(r.notImplemented({fileName:"FileLogger.hx",lineNumber:92,className:"ufront.log.FileLogger",methodName:"log"}))},__class__:Na};var J=e["ufront.log.MessageType"]={__ename__:["ufront","log","MessageType"],__constructs__:["MTrace","MLog","MWarning","MError"]};J.MTrace=["MTrace",0];J.MTrace.toString=u;J.MTrace.__enum__=J;J.MLog=["MLog",1];J.MLog.toString=u;J.MLog.__enum__=
J;J.MWarning=["MWarning",2];J.MWarning.toString=u;J.MWarning.__enum__=J;J.MError=["MError",3];J.MError.toString=u;J.MError.__enum__=J;var Qc=function(a,b){this.messages=a;this.onMessage=b};e["ufront.log.MessageList"]=Qc;Qc.__name__=["ufront","log","MessageList"];Qc.prototype={messages:null,onMessage:null,push:function(a){null!=this.messages&&this.messages.push(a);if(null!=this.onMessage)this.onMessage(a)},__class__:Qc};var Rc=function(){};e["ufront.log.OriginalTraceLogger"]=Rc;Rc.__name__=["ufront",
"log","OriginalTraceLogger"];Rc.__interfaces__=[vb,cb];Rc.prototype={originalTrace:null,init:function(a){this.originalTrace=a.originalTrace;return t.success()},dispose:function(a){return t.success()},log:function(a,b){for(var c=0,d=a.messages;c<d.length;){var f=d[c];++c;this.originalTrace(f.msg,f.pos)}return t.success()},__class__:Rc};var wb=function(){};e["ufront.log.RemotingLogger"]=wb;wb.__name__=["ufront","log","RemotingLogger"];wb.__interfaces__=[cb];wb.formatMessage=function(a){a.msg=""+s.string(a.msg);
if(null!=a.pos.customParams){for(var b=[],c=0,d=a.pos.customParams;c<d.length;){var f=d[c];++c;b.push(""+s.string(f))}a.pos.customParams=b}return"hxt"+Y.run(a)};wb.prototype={log:function(a,b){var c=a.request.get_clientHeaders();if((null!=y["x-ufront-remoting"]?c.existsReserved("x-ufront-remoting"):c.h.hasOwnProperty("x-ufront-remoting"))&&"application/x-haxe-remoting"==a.response.get_contentType()){for(var c=[],d=0,f=a.messages;d<f.length;){var h=f[d];++d;c.push(wb.formatMessage(h))}0<c.length&&
a.response.write("\n"+c.join("\n"))}return t.success()},__class__:wb};var Ma=function(){};e["ufront.log.ServerConsoleLogger"]=Ma;Ma.__name__=["ufront","log","ServerConsoleLogger"];Ma.__interfaces__=[cb];Ma.formatMsg=function(a){var b;b=null!=a.pos&&null!=a.pos.customParams?", "+a.pos.customParams.join(", "):"";return""+n.substr(a.type[0],1,null)+": "+a.pos.className+"."+a.pos.methodName+"("+a.pos.lineNumber+"): "+s.string(a.msg)+b};Ma.writeLog=function(a,b){Zc.log(a)};Ma.prototype={log:function(a,
b){var c=[],d=a.request.get_clientIP();try{null!=(null!=a.session?a.session.get_id():null)&&(d+=" "+(null!=a.session?a.session.get_id():null)),null!=(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null)&&(d+=" "+(null!=a.auth&&null!=a.auth.get_currentUser()?a.auth.get_currentUser().get_userID():null))}catch(f){x.lastException=f,f instanceof k&&(f=f.val)}d="["+a.request.get_httpMethod()+" "+a.request.get_uri()+"] from ["+d+"], response: ["+a.response.status+" "+
a.response.get_contentType()+"]";c.push(d);for(var d=0,h=a.messages;d<h.length;){var e=h[d];++d;c.push(Ma.formatMsg(e))}if(null!=b)for(d=0;d<b.length;)h=b[d],++d,c.push(Ma.formatMsg(h));Ma.writeLog(c.join("\n  "));return t.success()},__class__:Ma};var ab=function(a,b){gb.call(this,a,b)};e["ufront.remoting.HttpAsyncConnection"]=ab;ab.__name__=["ufront","remoting","HttpAsyncConnection"];ab.urlConnect=function(a,b){null==b&&(b=Da.defaultErrorHandler);return new ab({url:a,error:b},[])};ab.__super__=gb;
ab.prototype=K(gb.prototype,{resolve:function(a){var b=new ab({url:this.__data.url,error:this.__data.error},this.__path.slice());b.__path.push(a);return b},call:function(a,b){var c=this,d=new Cc(this.__data.url,!0);d.setHeader("X-Haxe-Remoting","1");d.setHeader("X-Ufront-Remoting","1");var f=new Aa(Ba.RDClientToServer);f.serialize(this.__path);f.serialize(a);d.setParam("__x",f.toString());var e=this.__path.join(".")+"("+a.join(",")+")",m,k=function(a){500==m?Da.processResponse(d.responseData(),b,
c.__data.error,e):404==m?(a=c.__data.error,a(M.RApiNotFound(e,d.responseData()))):(a=c.__data.error,a(M.RHttpError(e,m,d.responseData())))};d.handle(function(a){m=a},function(a){Da.processResponse(a,b,c.__data.error,e)},k);d.attachUploads(f.uploads)(function(a){switch(a[1]){case 0:d.send();break;case 1:a=a[2],m=0,k("Failed to read attachments: "+s.string(a))}})},__class__:ab});var bb=function(a,b){hb.call(this,a,b)};e["ufront.remoting.HttpConnection"]=bb;bb.__name__=["ufront","remoting","HttpConnection"];
bb.urlConnect=function(a){return new bb(a,[])};bb.__super__=hb;bb.prototype=K(hb.prototype,{call:function(a){var b=new Cc(this.__url,!1,bb.TIMEOUT),c=new Aa(Ba.RDClientToServer);c.serialize(this.__path);c.serialize(a);var d=this.__path.join(".")+"("+a.join(",")+")",f,e,m,g=function(a){throw new k(a);},l=function(a){m=a};b.handle(function(a){f=null},function(a){e=a;Da.processResponse(e,l,g,d)},function(a){500==f?Da.processResponse(b.responseData(),l,g,d):g(M.RHttpError(d,f,b.responseData()))});b.setHeader("X-Haxe-Remoting",
"1");b.setHeader("X-Ufront-Remoting","1");b.setParam("__x",c.toString());b.attachUploads(c.uploads);b.send();return m},__class__:bb});var Cc=function(a,b,c){this.h=new XMLHttpRequest;this.files=[];this.params=[];this.h.open("POST",a,b);this.async=b};e["ufront.remoting.HttpWithUploads"]=Cc;Cc.__name__=["ufront","remoting","HttpWithUploads"];Cc.prototype={h:null,files:null,params:null,async:null,setHeader:function(a,b){this.h.setRequestHeader(a,b)},setParam:function(a,b){this.params.push({name:a,val:b})},
attachUploads:function(a){for(var b=a.keys();b.hasNext();)for(var c=b.next(),d=0,f=B.getAll(a,c);d<f.length;){var e=f[d];++d;var m;m=e instanceof zb?e:null;null!=m&&this.files.push({postName:c,file:m.file,fileName:e.originalFileName})}return t.success()},send:function(){if(0<this.files.length){for(var a=new FormData,b=0,c=this.params;b<c.length;){var d=c[b];++b;a.append(d.name,d.val)}b=0;for(c=this.files;b<c.length;)d=c[b],++b,a.append(d.postName,d.file,d.fileName)}else{a=[];b=0;for(c=this.params;b<
c.length;)d=c[b],++b,a.push(encodeURIComponent(d.name)+"="+encodeURIComponent(d.val));a=C.replace(a.join("&"),"%20","+");this.h.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}this.h.send(a)},responseData:function(){return this.h.responseText},handle:function(a,b,c){var d=this;this.h.onload=function(f){a(d.h.status);200==d.h.status?b(d.h.responseText):c(d.h.responseText)}},__class__:Cc};var M=e["ufront.remoting.RemotingError"]={__ename__:["ufront","remoting","RemotingError"],
__constructs__:"RHttpError RApiNotFound RServerSideException RClientCallbackException RUnserializeFailed RNoRemotingResult RApiFailure RUnknownException".split(" ")};M.RHttpError=function(a,b,c){a=["RHttpError",0,a,b,c];a.__enum__=M;a.toString=u;return a};M.RApiNotFound=function(a,b){var c=["RApiNotFound",1,a,b];c.__enum__=M;c.toString=u;return c};M.RServerSideException=function(a,b,c){a=["RServerSideException",2,a,b,c];a.__enum__=M;a.toString=u;return a};M.RClientCallbackException=function(a,b){var c=
["RClientCallbackException",3,a,b];c.__enum__=M;c.toString=u;return c};M.RUnserializeFailed=function(a,b,c){a=["RUnserializeFailed",4,a,b,c];a.__enum__=M;a.toString=u;return a};M.RNoRemotingResult=function(a,b){var c=["RNoRemotingResult",5,a,b];c.__enum__=M;c.toString=u;return c};M.RApiFailure=function(a,b){var c=["RApiFailure",6,a,b];c.__enum__=M;c.toString=u;return c};M.RUnknownException=function(a){a=["RUnknownException",7,a];a.__enum__=M;a.toString=u;return a};var rc=function(){this.apiContexts=
new ba;this.apis=new ba};e["ufront.remoting.RemotingHandler"]=rc;rc.__name__=["ufront","remoting","RemotingHandler"];rc.__interfaces__=[Rb];rc.prototype={apiContexts:null,apis:null,context:null,loadApi:function(a){this.apis.push(a)},loadApis:function(a){for(a=ea(a)();a.hasNext();){var b=a.next();this.apis.push(b)}},loadApiContext:function(a){this.apiContexts.push(a);this.loadApis(nc.getApisInContext(a))},handleRequest:function(a){var b=new V;if(function(b){b=a.request.get_clientHeaders();return null!=
y["x-haxe-remoting"]?b.existsReserved("x-haxe-remoting"):b.h.hasOwnProperty("x-haxe-remoting")}(this)){var c=a.response,d;c.setOk();var f=null,e=null;try{this.initializeContext(a.injector);var m=a.request.get_params();if(null!=y.__x?!m.existsReserved("__x"):!m.h.hasOwnProperty("__x"))throw new k("Remoting call did not have parameter `__x` which describes which API call to make.  Aborting");var n=B.get(m,"__x"),q=new Qa(n,a.request.get_files());try{for(var f=q.unserialize(),e=q.unserialize(),m=0,r=
e.length;m<r;){var p=m++,t=s.instance(e[p],Ra);null!=t&&null!=t.attachedUpload&&(e[p]=t.attachedUpload)}}catch(u){throw x.lastException=u,u instanceof k&&(u=u.val),new k("Unable to deserialize remoting call: "+s.string(u)+". Remoting call string: "+n);}var w=this.executeApiCall(f,e,this.context,a.actionContext);d=g.map(w,function(a){var b=new Aa(Ba.RDServerToClient);b.serialize(a);return"hxr"+b.toString()})}catch(v){x.lastException=v;v instanceof k&&(v=v.val);var z=v;d=["Invalid path","No such object",
"Can't access","No such method"];null!=f&&null!=e&&"string"==typeof v&&sa.exists(d,function(a){return C.startsWith(z,a)})?(d=g.sync("Unable to access "+f.join(".")+" - API Not Found ("+z+"). See "+s.string(this.context.objects)),c.setNotFound()):(c.setInternalError(),d=g.sync(this.remotingError(v,a)))}d(function(d){c.set_contentType("application/x-haxe-remoting");c.clearContent();c.write(d);a.completion|=1<<H.CRequestHandlersComplete[1];b.trigger(l.Success(I.Noise))})}else b.trigger(l.Success(I.Noise));
return b.future},initializeContext:function(a){this.context=new Gc;for(var b=this.apiContexts.h,c=null;null!=b;)for(var c=b[0],b=b[1],c=a._instantiate(c),d=0,f=A.fields(c);d<f.length;){var e=f[d];++d;var m=A.field(c,e);A.isObject(m)&&this.context.addObject(e,m,!1)}b=this.apis.h;for(c=null;null!=b;)c=b[0],b=b[1],d=c,c=p.getClassName(d),d=a._instantiate(d),this.context.addObject(c,d,!1)},executeApiCall:function(a,b,c,d){if(!1==c.objects.exists(a[0]))throw new k("Invalid path "+a.join("."));d.handler=
this;d.action=a[a.length-1];d.controller=c.objects.get(a[0]).obj;d.args=b;var f;try{var e=Q.getFields(p.getClass(d.controller));f=A.field(e,d.action).returnType[0]}catch(m){x.lastException=m,m instanceof k&&(m=m.val),f=0}d=f;a=c.call(a,b);return 0!=(d&1<<X.ARTFuture[1])?a:0!=(d&1<<X.ARTVoid[1])?g.sync(null):g.sync(a)},remotingError:function(a,b){b.messages.push({msg:a,pos:{fileName:"RemotingHandler.hx",lineNumber:209,className:"ufront.remoting.RemotingHandler",methodName:"remotingError"},type:J.MError});
var c=b.request.get_clientHeaders();if(null!=y["x-ufront-remoting"]?c.existsReserved("x-ufront-remoting"):c.h.hasOwnProperty("x-ufront-remoting"))return c=new Aa(Ba.RDServerToClient),c.serializeException(a),"hxe"+c.toString();c=new Aa(Ba.RDServerToClient);c.serializeException(a);return"hxr"+c.toString()},toString:function(){return"ufront.remoting.RemotingHandler"},__class__:rc};var Aa=function(a){Y.call(this);this.direction=a;this.uploads=new v};e["ufront.remoting.RemotingSerializer"]=Aa;Aa.__name__=
["ufront","remoting","RemotingSerializer"];Aa.run=function(a,b){var c=new Aa(b);c.serialize(a);return c.toString()};Aa.__super__=Y;Aa.prototype=K(Y.prototype,{uploads:null,direction:null,__class__:Aa});var Ba=e["ufront.remoting.RemotingDirection"]={__ename__:["ufront","remoting","RemotingDirection"],__constructs__:["RDClientToServer","RDServerToClient"]};Ba.RDClientToServer=["RDClientToServer",0];Ba.RDClientToServer.toString=u;Ba.RDClientToServer.__enum__=Ba;Ba.RDServerToClient=["RDServerToClient",
1];Ba.RDServerToClient.toString=u;Ba.RDServerToClient.__enum__=Ba;var Qa=function(a,b){S.call(this,a);this.uploads=null!=b?b:new v};e["ufront.remoting.RemotingUnserializer"]=Qa;Qa.__name__=["ufront","remoting","RemotingUnserializer"];Qa.__super__=S;Qa.prototype=K(S.prototype,{uploads:null,__class__:Qa});var Da=function(){};e["ufront.remoting.RemotingUtil"]=Da;Da.__name__=["ufront","remoting","RemotingUtil"];Da.processResponse=function(a,b,c,d){var f=null,e=null,m=!1,g=[];c=Da.wrapErrorHandler(c);
if("hx"!=n.substr(a,0,2))c(M.RNoRemotingResult(d,a));else for(var l=0,q=a.split("\n");l<q.length;){var p=q[l];++l;if(""!=p)switch(n.substr(p,0,3)){case "hxr":m=new Qa(n.substr(p,3,null));try{f=m.unserialize()}catch(r){x.lastException=r,r instanceof k&&(r=r.val),f=g.push(M.RUnserializeFailed(d,n.substr(p,3,null),""+s.string(r)))}m=!0;break;case "hxt":var u=new Qa(n.substr(p,3,null)),t;try{t=u.unserialize()}catch(v){x.lastException=v,v instanceof k&&(v=v.val),t=g.push(M.RUnserializeFailed(d,n.substr(p,
3,null),""+s.string(v)))}p=null!=t.pos&&null!=t.pos.customParams?" "+t.pos.customParams.join(" "):"";p="[R]"+t.pos.className+"."+t.pos.methodName+"("+t.pos.lineNumber+"): "+s.string(t.msg)+p;u=window.console;switch(t.type[1]){case 0:u.log(p);break;case 1:u.info(p);break;case 2:u.warn(p);break;case 3:u.error(p)}break;case "hxs":u=new Qa(n.substr(p,3,null));try{e=u.unserialize()}catch(w){x.lastException=w,w instanceof k&&(w=w.val),e=g.push(M.RUnserializeFailed(d,n.substr(p,3,null),""+s.string(w)))}break;
case "hxe":p=new Qa(n.substr(p,3,null));try{f=p.unserialize()}catch(z){x.lastException=z,z instanceof k&&(z=z.val),f=g.push(M.RServerSideException(d,z,e))}break;default:g.push(M.RUnserializeFailed(d,p,"Invalid line in response"))}}if(0==g.length)if(m)try{b(f)}catch(y){x.lastException=y,y instanceof k&&(y=y.val),c(M.RClientCallbackException(d,y))}else c(M.RNoRemotingResult(d,a));else for(a=0;a<g.length;)b=g[a],++a,c(b)};Da.wrapErrorHandler=function(a){return function(b){w.__instanceof(b,M)?a(b):a(M.RUnknownException(b))}};
Da.defaultErrorHandler=function(a){switch(a[1]){case 0:null;break;case 1:null;break;case 2:null;break;case 3:null;break;case 4:null;break;case 5:null;break;case 6:null;break;case 7:null}};var Sc=function(a){null==a&&(a="/");this.setQueryString("");this.setPostString("");this.setQuery(new v);this.setPost(new v);this.setFiles(new v);this.setCookies(new v);this.setHostName("localhost");this.setClientIP("127.0.0.1");this.setUri(a);this.setClientHeaders(new v);this.setUserAgent(ha.fromString("Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:43.0) Gecko/20100101 Firefox/43.0"));
this.setHttpMethod("GET");this.setScriptDirectory("/var/www/");this.setAuthorization(null);this.setIsMultipart(!1)};e["ufront.test.MockHttpRequest"]=Sc;Sc.__name__=["ufront","test","MockHttpRequest"];Sc.__super__=Ya;Sc.prototype=K(Ya.prototype,{setParams:function(a){this.params=a;return this},get_queryString:function(){return this.queryString},setQueryString:function(a){this.queryString=a;return this},get_postString:function(){return this.postString},setPostString:function(a){this.postString=a;return this},
get_query:function(){return this.query},setQuery:function(a){this.query=a;return this},get_post:function(){return this.post},setPost:function(a){this.post=a;return this},get_files:function(){return this.files},setFiles:function(a){this.files=a;return this},get_cookies:function(){return this.cookies},setCookies:function(a){this.cookies=a;return this},get_hostName:function(){return this.hostName},setHostName:function(a){this.hostName=a;return this},get_clientIP:function(){return this.clientIP},setClientIP:function(a){this.clientIP=
a;return this},get_uri:function(){return this.uri},setUri:function(a){this.uri=a;return this},get_clientHeaders:function(){return this.clientHeaders},setClientHeaders:function(a){this.clientHeaders=a;return this},get_userAgent:function(){return this.userAgent},setUserAgent:function(a){this.userAgent=a;return this},get_httpMethod:function(){return this.httpMethod},setHttpMethod:function(a){this.httpMethod=a;return this},get_scriptDirectory:function(){return this.scriptDirectory},setScriptDirectory:function(a){this.scriptDirectory=
a;return this},get_authorization:function(){return this.authorization},setAuthorization:function(a){this.authorization=a;return this},setIsMultipart:function(a){a?(a=this.get_clientHeaders(),B.set(a,"content-type","multipart/form-data; charset=UTF-8")):(a=this.get_clientHeaders(),B.set(a,"content-type","application/x-www-form-urlencoded; charset=UTF-8"));return this},parseMultipart:function(a,b,c){throw new k(r.wrap("parseMultipart is not supported in MockHttpRequest",null,{fileName:"MockHttpRequest.hx",
lineNumber:158,className:"ufront.test.MockHttpRequest",methodName:"parseMultipart"}));},__class__:Sc});var ud=function(){};e["ufront.test.TestUtils"]=ud;ud.__name__=["ufront","test","TestUtils"];var vd=function(){};e["ufront.test.NaturalLanguageTests"]=vd;vd.__name__=["ufront","test","NaturalLanguageTests"];var Ha=function(a){null==a&&(a=Ha.cacheEnabledByDefault);a&&(this.cache=new v);this.engines=[]};e["ufront.view.UFViewEngine"]=Ha;Ha.__name__=["ufront","view","UFViewEngine"];Ha.prototype={engines:null,
cache:null,getTemplate:function(a,b){var c=this;if(null!=this.cache&&this.cache.exists(a)){var d=this.cache.get(a);if(null==b||b.type==d.a)return g.sync(l.Success(d.b))}var f=new V,e=L.extension(a),m=null;if(null!=b&&""!=e)m=a,this.getTemplateString(m)(function(b){switch(b[1]){case 1:f.trigger(l.Failure(b[2]));break;case 0:switch(b[2][1]){case 0:f.trigger(l.Success(b[2][2]));break;case 1:f.trigger(l.Failure(new z(null,"Template "+a+" not found",{fileName:"UFViewEngine.hx",lineNumber:115,className:"ufront.view.UFViewEngine",
methodName:"getTemplate"})))}}});else if(null!=b&&""==e){var n=b.extensions.slice(),p=null,p=function(){if(0<n.length){var d=n.shift();m=L.withExtension(a,d);c.getTemplateString(m)(function(a){switch(a[1]){case 1:f.trigger(l.Failure(a[2]));break;case 0:switch(a[2][1]){case 0:f.trigger(l.Success(a[2][2]));break;case 1:p()}}})}else f.trigger(l.Failure(new z(null,"No template found for "+a+" with extensions "+s.string(b.extensions),{fileName:"UFViewEngine.hx",lineNumber:131,className:"ufront.view.UFViewEngine",
methodName:"getTemplate"})))};p()}else if(null==b&&""!=e){var q=this.engines.slice(),r=null,r=function(){if(0<q.length){var d=q.shift();sa.has(d.extensions,e)?(m=L.normalize(a),c.getTemplateString(m)(function(c){switch(c[1]){case 1:f.trigger(l.Failure(c[2]));break;case 0:switch(c[2][1]){case 0:c=c[2][2];b=d;f.trigger(l.Success(c));break;case 1:f.trigger(l.Failure(new z(null,"Template "+a+" not found",{fileName:"UFViewEngine.hx",lineNumber:147,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})))}}})):
r()}else f.trigger(l.Failure(new z(null,"No templating engine found for "+a+" (None support extension "+e+")",{fileName:"UFViewEngine.hx",lineNumber:151,className:"ufront.view.UFViewEngine",methodName:"getTemplate"})))};r()}else if(null==b&&""==e){var t=this.engines.slice(),u=null,v=[],w=[],y=null,A=null,A=function(){0==v.length&&0==t.length?f.trigger(l.Failure(new z(null,"No template found for "+a+" with extensions "+s.string(w),{fileName:"UFViewEngine.hx",lineNumber:165,className:"ufront.view.UFViewEngine",
methodName:"getTemplate"}))):(0==v.length&&(u=t.shift(),v=u.extensions.slice()),y=v.shift(),w.push(y),m=L.withExtension(a,y),c.getTemplateString(m)(function(a){switch(a[1]){case 1:f.trigger(l.Failure(a[2]));break;case 0:switch(a[2][1]){case 0:a=a[2][2];b=u;f.trigger(l.Success(a));break;case 1:A()}}}))};A()}return g._tryFailingMap(f.future,function(d){try{var f=b.factory(d);if(null!=c.cache){var e=new qa(b.type,f);c.cache.set(a,e);e}return l.Success(f)}catch(h){return x.lastException=h,h instanceof
k&&(h=h.val),l.Failure(z.withData(null,"Failed to parse template "+m+" using "+b.type,h,{fileName:"UFViewEngine.hx",lineNumber:205,className:"ufront.view.UFViewEngine",methodName:"getTemplate"}))}})},getTemplateString:function(a){return g.sync(l.Failure(new z(null,"Attempting to fetch template "+a+" with UFViewEngine.  This is an abstract class, you must use one of the ViewEngine implementations.",{fileName:"UFViewEngine.hx",lineNumber:226,className:"ufront.view.UFViewEngine",methodName:"getTemplateString"})))},
addTemplatingEngine:function(a){this.engines.push(a)},__class__:Ha};var Wb=function(a){Ha.call(this,a)};e["ufront.view.FileViewEngine"]=Wb;Wb.__name__=["ufront","view","FileViewEngine"];Wb.__super__=Ha;Wb.prototype=K(Ha.prototype,{scriptDir:null,path:null,isPathAbsolute:null,get_isPathAbsolute:function(){return C.startsWith(this.path,"/")},viewDirectory:null,get_viewDirectory:function(){return this.get_isPathAbsolute()?L.addTrailingSlash(this.path):L.addTrailingSlash(this.scriptDir)+L.addTrailingSlash(this.path)},
getTemplateString:function(a){this.get_viewDirectory();return t.asSurpriseError("No implementation for non-sys platforms in FileViewEngine.getTemplateString().",null,{fileName:"FileViewEngine.hx",lineNumber:76,className:"ufront.view.FileViewEngine",methodName:"getTemplateString"})},__class__:Wb,__properties__:{get_viewDirectory:"get_viewDirectory",get_isPathAbsolute:"get_isPathAbsolute"}});var Sb=function(a){Ha.call(this,a)};e["ufront.view.HttpViewEngine"]=Sb;Sb.__name__=["ufront","view","HttpViewEngine"];
Sb.__super__=Ha;Sb.prototype=K(Ha.prototype,{viewPath:null,getTemplateString:function(a){C.startsWith(a,"/")&&(a=n.substr(a,1,null));var b=L.addTrailingSlash(this.viewPath)+a;try{var c=new V,d=new Hb(b),f=-1;d.onStatus=function(a){f=a};d.onData=function(a){c.trigger(l.Success(Wa.Some(a)))};d.onError=function(a){404==f?c.trigger(l.Success(Wa.None)):c.trigger(l.Failure(z.withData(f,"Failed to load template "+b,a,{fileName:"HttpViewEngine.hx",lineNumber:54,className:"ufront.view.HttpViewEngine",methodName:"getTemplateString"})))};
d.request();return c.future}catch(e){return x.lastException=e,e instanceof k&&(e=e.val),g.sync(l.Failure(z.withData(null,"Failed to load template "+b,e,{fileName:"HttpViewEngine.hx",lineNumber:59,className:"ufront.view.HttpViewEngine",methodName:"getTemplateString"})))}},__class__:Sb});var D={};e["ufront.view._TemplateData.TemplateData_Impl_"]=D;D.__name__=["ufront","view","_TemplateData","TemplateData_Impl_"];D._new=function(a){return null!=a?a:{}};D.toObject=function(a){return a};D.toMap=function(a){for(var b=
new v,c=0,d=A.fields(a);c<d.length;){var f=d[c];++c;var e=A.field(a,f);b.set(f,e);e}return b};D.toStringMap=function(a){return D.toMap(a)};D.get=function(a,b){return A.field(a,b)};D.exists=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};D.set=function(a,b,c){a[b]=c;return null!=a?a:{}};D.array_set=function(a,b,c){return a[b]=c};D.setMap=function(a,b){for(var c=b.keys();c.hasNext();){var d=c.next();D.set(a,d,null!=y[d]?b.getReserved(d):b.h[d])}return null!=a?a:{}};D.setObject=function(a,
b){var c=p["typeof"](b);switch(c[1]){case 4:for(var d=0,c=A.fields(b);d<c.length;){var f=c[d];++d;D.set(a,f,A.field(b,f))}break;case 6:for(d=0,c=p.getInstanceFields(c[2]);d<c.length;)f=c[d],++d,D.set(a,f,A.getProperty(b,f))}return null!=a?a:{}};D.fromMap=function(a){var b;b={};b=null!=b?b:{};D.setMap(b,a);return b};D.fromStringMap=function(a){return D.fromMap(a)};D.fromMany=function(a){var b;b={};b=null!=b?b:{};for(a=ea(a)();a.hasNext();){var c=a.next();null!=c&&(w.__instanceof(c,v)?D.setMap(b,c):
D.setObject(b,c))}return b};D.fromObject=function(a){return D.setObject(function(a){a={};return null!=a?a:{}}(this),a)};var E={};e["ufront.view._TemplateHelper.TemplateHelper_Impl_"]=E;E.__name__=["ufront","view","_TemplateHelper","TemplateHelper_Impl_"];E._new=function(a,b){if(7<a)throw new k("TemplateHelpers can have a maximum of 7 arguments");return{numArgs:a,fn:b}};E.from0=function(a){return E._new(0,a)};E.from1=function(a){return E._new(1,a)};E.from2=function(a){return E._new(2,a)};E.from3=function(a){return E._new(3,
a)};E.from4=function(a){return E._new(4,a)};E.from5=function(a){return E._new(5,a)};E.from6=function(a){return E._new(6,a)};E.from7=function(a){return E._new(7,a)};E.getFn=function(a){switch(a.numArgs){case 0:return function(a){return function(){return E.call0(a)}}(a);case 1:return function(a){return function(c){return E.call1(a,c)}}(a);case 2:return function(a){return function(c,d){return E.call2(a,c,d)}}(a);case 3:return function(a){return function(c,d,f){return E.call3(a,c,d,f)}}(a);case 4:return function(a){return function(c,
d,f,e){return E.call4(a,c,d,f,e)}}(a);case 5:return function(a){return function(c,d,f,e,m){return E.call5(a,c,d,f,e,m)}}(a);case 6:return function(a){return function(c,d,f,e,m,g){return E.call6(a,c,d,f,e,m,g)}}(a);case 7:return function(a){return function(c,d,f,e,m,g,k){return E.call7(a,c,d,f,e,m,g,k)}}(a);default:throw new k("TemplateHelpers can have a maximum of 7 arguments");}};E.call0=function(a){return a.fn.apply({},[])};E.call1=function(a,b){return a.fn.apply({},[b])};E.call2=function(a,b,c){return a.fn.apply({},
[b,c])};E.call3=function(a,b,c,d){return a.fn.apply({},[b,c,d])};E.call4=function(a,b,c,d,f){return a.fn.apply({},[b,c,d,f])};E.call5=function(a,b,c,d,f,e){return a.fn.apply({},[b,c,d,f,e])};E.call6=function(a,b,c,d,f,e,m){return a.fn.apply({},[b,c,d,f,e,m])};E.call7=function(a,b,c,d,f,e,m,g){return a.fn.apply({},[b,c,d,f,e,m,g])};var Oa=function(){};e["ufront.view.TemplatingEngines"]=Oa;Oa.__name__=["ufront","view","TemplatingEngines"];Oa.__properties__={get_haxe:"get_haxe"};Oa.get_haxe=function(){return{factory:function(a){var b=
new P(a);return function(a,d){var f={};if(null!=d)for(var e=d.keys();e.hasNext();){var m=e.next(),g=Oa.padHelperFnForHaxeTplMacro(null!=y[m]?d.getReserved(m):d.h[m]);f[m]=g}return b.execute(a,f)}},type:"haxe.Template",extensions:["html","tpl"]}};Oa.padHelperFnForHaxeTplMacro=function(a){switch(a.numArgs){case 0:return function(b){return E.getFn(a)()};case 1:return function(b,c){return E.getFn(a)(c)};case 2:return function(b,c,d){return E.getFn(a)(c,d)};case 3:return function(b,c,d,f){return E.getFn(a)(c,
d,f)};case 4:return function(b,c,d,f,e){return E.getFn(a)(c,d,f,e)};case 5:return function(b,c,d,f,e,m){return E.getFn(a)(c,d,f,e,m)};case 6:return function(b,c,d,f,e,m,g){return E.getFn(a)(c,d,f,e,m,g)};case 7:return function(b,c,d,f,e,m,g,k){return E.getFn(a)(c,d,f,e,m,g,k)};default:throw new k("TemplateHelper supports a maximum of 7 arguments");}};var Dc={};e["ufront.view._UFTemplate.UFTemplate_Impl_"]=Dc;Dc.__name__=["ufront","view","_UFTemplate","UFTemplate_Impl_"];Dc._new=function(a){return a};
Dc.fromSimpleCallback=function(a){return Dc._new(function(b,c){var d={};if(null!=c)for(var f=c.keys();f.hasNext();){var e=f.next();D.set(d,e,E.getFn(null!=y[e]?c.getReserved(e):c.h[e]))}D.setObject(d,b);return a(d)})};Dc.execute=function(a,b,c){return a(b,c)};var qb=function(){this.showStack=!1;this.catchErrors=!0};e["ufront.web.ErrorPageHandler"]=qb;qb.__name__=["ufront","web","ErrorPageHandler"];qb.__interfaces__=[pc];qb.errorStackItems=function(a){return x.toString(a).split("\n")};qb.prototype=
{catchErrors:null,showStack:null,handleError:function(a,b){var c;c=null!=a&&null!=a.data?" ("+s.string(a.data)+")":"";var d;d=this.showStack?" "+x.toString(x.exceptionStack()):"";b.messages.push({msg:"Handling error: "+s.string(a)+c+d,pos:{fileName:"ErrorPageHandler.hx",lineNumber:44,className:"ufront.web.ErrorPageHandler",methodName:"handleError"},type:J.MError});0==(b.completion&1<<H.CRequestHandlersComplete[1])&&(b.response.clear(),b.response.status=a.code,b.response.set_contentType("text/html"),
b.response.write(this.renderError(a,this.showStack)),b.completion|=1<<H.CRequestHandlersComplete[1]);this.catchErrors||a.throwSelf();return t.success()},renderErrorContent:function(a,b){null==b&&(b=!1);var c;c=null!=a.data?'<p class="error-data">'+s.string(a.data)+"</p>":"";var d;d=b?'<p class="error-pos">&gt; '+a.printPos()+"</p>":"";var f=qb.errorStackItems(x.exceptionStack()),f=b&&0<f.length?'<div class="error-exception-stack"><h3>Exception Stack:</h3>\n\t\t\t\t\t<pre><code>'+f.join("\n")+"</pre></code>\n\t\t\t\t</div>":
"";return'\n\t\t\t<summary class="error-summary"><h1 class="error-message">'+a.message+'</h1></summary>\n\t\t\t<details class="error-details"> '+c+" "+d+" "+f+"</details>\n\t\t"},renderErrorPage:function(a,b){return"<!DOCTYPE html>\n<html>\n<head>\n\t<title>"+a+'</title>\n\t<style>\n\t\tbody {\n\t\t\tfont-family: sans-serif;\n\t\t}\n\t\t.container {\n\t\t\tmax-width: 800px;\n\t\t\tmargin: 30px auto;\n\t\t}\n\t\t.jumbotron {\n\t\t\tpadding: 30px;\n\t\t\tborder-radius: 30px;\n\t\t\tbackground-color: rgb(230,230,230);\n\t\t}\n\t\tp[frown] {\n\t\t\ttext-align: center;\n\t\t}\n\t\tp[frown] span { \n\t\t\ttransform: rotate(90deg);\n\t\t\tdisplay: inline-block;\n\t\t\tcolor: #bbb;\n\t\t\tfont-size: 3em;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div class="container">\n\t\t<div class="jumbotron">\n\t\t\t<p frown><span>:(</span></p>\n\t\t\t'+
b+"\n\t\t</div>\n\t</div>\n</body>\n</html>\n"},renderError:function(a,b){var c=this.renderErrorContent(a,b);return this.renderErrorPage(a.message,c)},__class__:qb};var da=function(a,b,c,d,f,e,m){null==m&&(m=!1);null==e&&(e=!1);this.name=a;this.value=b;this.expires=c;this.domain=d;this.path=f;this.secure=e;this.httpOnly=m};e["ufront.web.HttpCookie"]=da;da.__name__=["ufront","web","HttpCookie"];da.addPair=function(a,b,c,d){null==d&&(d=!1);if(d||null!=c)a.b+="; ",a.b=null==b?a.b+"null":a.b+(""+b),null!=
c&&(a.b+="=",a.b=null==c?a.b+"null":a.b+(""+c))};da.prototype={domain:null,expires:null,name:null,path:null,secure:null,httpOnly:null,value:null,expireNow:function(){var a=new Date;a.setTime(0);this.expires=a},toString:function(){return""+this.name+": "+this.get_description()},get_description:function(){var a=new ga;a.b+=s.string(this.value);if(null!=this.expires){null==da.tzOffset&&(da.tzOffset=n.strDate("1970-01-01 00:00:00").getTime());var b=cc.delta(this.expires,da.tzOffset),c=function(a){for(a=
""+a;2>a.length;)a="0"+a;return a},d=da.dayNames[b.getDay()],f=c(b.getDate()),e=da.monthNames[b.getMonth()],m=b.getFullYear(),g=c(b.getHours()),k=c(b.getMinutes()),b=c(b.getSeconds());da.addPair(a,"expires",""+d+", "+f+"-"+e+"-"+m+" "+g+":"+k+":"+b+" GMT")}da.addPair(a,"domain",this.domain);da.addPair(a,"path",this.path);this.secure&&da.addPair(a,"secure",null,!0);return a.b},__class__:da,__properties__:{get_description:"get_description"}};var r=function(){};e["ufront.web.HttpError"]=r;r.__name__=
["ufront","web","HttpError"];r.wrap=function(a,b,c){null==b&&(b="Internal Server Error");return w.__instanceof(a,z)?a:z.withData(500,b,a,c)};r.badRequest=function(a,b){var c="Bad Request";null!=a&&(c+=": "+a);return new z(400,c,b)};r.internalServerError=function(a,b,c){null==a&&(a="Internal Server Error");return z.withData(500,a,b,c)};r.methodNotAllowed=function(a){return new z(405,"Method Not Allowed",a)};r.pageNotFound=function(a){return new z(404,"Page Not Found",a)};r.unauthorized=function(a,
b){null==a&&(a="Unauthorized Access");return new z(401,a,b)};r.unprocessableEntity=function(a){return new z(422,"Unprocessable Entity",a)};r.authError=function(a,b){var c;switch(a[1]){case 0:c="Not Logged In";break;case 1:c="Login Failed: "+a[2];break;case 2:c="Not Logged In As "+s.string(a[2]);break;case 3:c="Permission "+s.string(a[2])+" denied"}return z.typed(401,c,a,b)};r.remotingError=function(a,b){switch(a[1]){case 0:var c=a[3];return z.typed(c,"HTTP "+c+" Error during "+a[2],a,b);case 1:return z.typed(404,
"Remoting API "+a[2]+" not found: "+a[3],a,b);case 2:var c=a[2],d=s.instance(a[3],z);return null!=d?z.typed(d.code,d.message,a,b):z.typed(500,"Internal Server Error while executing "+c,a,b);case 3:return z.typed(500,"Error during callback after "+a[2]+": "+s.string(a[3]),a,b);case 4:return z.typed(422,"Remoting serialization failed for call "+a[2]+": could not process "+a[3],a,b);case 5:return z.typed(500,"Error with response for "+a[2]+": no remoting response found",a,b);case 6:return c=a[3],d=a[2],
w.__instanceof(c,z)?z.typed(c.code,c.message,a,c.pos):z.typed(500,"Call to "+d+" failed: "+s.string(c),a,b);case 7:return z.typed(500,"Unknown exception during remoting call",a,b)}};r.notImplemented=function(a){return new z(500,"Internal Server Error: "+(a.className+"."+a.methodName)+" is not implemented on this platform",a)};r.abstractMethod=function(a){return new z(500,"Internal Server Error: "+(a.className+"."+a.methodName)+" is an abstract method and should be overridden by a subclass",a)};r.throwIfNull=
function(a,b,c){null==b&&(b="argument");if(null==a)throw new k(new z(500,""+b+" should not be null",c));};r.fakePosition=function(a,b,c){return{methodName:b,lineNumber:-1,fileName:"",customParams:c,className:p.getClassName(p.getClass(a))}};var Mb=function(a){this.indexController=a};e["ufront.web.MVCHandler"]=Mb;Mb.__name__=["ufront","web","MVCHandler"];Mb.__interfaces__=[Rb];Mb.prototype={indexController:null,handleRequest:function(a){var b=this;return g._tryFailingFlatMap(this.processRequest(a),
function(c){return b.executeResult(a)})},processRequest:function(a){a.actionContext.handler=this;var b=a.injector._instantiate(this.indexController);return g._tryMap(b.execute(),function(b){a.actionContext.actionResult=b;return I.Noise})},executeResult:function(a){try{return a.actionContext.actionResult.executeResult(a.actionContext)}catch(b){return x.lastException=b,b instanceof k&&(b=b.val),p.getClassName(p.getClass(a.actionContext)),g.sync(l.Failure(r.wrap(b,null,{fileName:"MVCHandler.hx",lineNumber:70,
className:"ufront.web.MVCHandler",methodName:"executeResult"})))}},toString:function(){return"ufront.web.MVCHandler"},__class__:Mb};var ha=function(a,b,c,d,f){this.browser=a;this.version=b;this.majorVersion=c;this.minorVersion=d;this.platform=f};e["ufront.web.UserAgent"]=ha;ha.__name__=["ufront","web","UserAgent"];ha.fromString=function(a){var b=new ha("unknown","",0,0,"unknown"),c=ha.searchString(ha.dataBrowser,a);null!=c&&(b.browser=c.app,c=ha.extractVersion(c.versionString,a),null!=c&&(b.version=
c.version,b.majorVersion=c.majorVersion,b.minorVersion=c.minorVersion));a=ha.searchString(ha.dataOS,a);null!=a&&(b.platform=a.app);return b};ha.extractVersion=function(a,b){var c=b.indexOf(a);if(0>c)return null;var d=new fa("(\\d+)\\.(\\d+)[^ ();]*","");return d.match(n.substr(b,c+a.length+1,null))?{version:d.matched(0),majorVersion:s.parseInt(d.matched(1)),minorVersion:s.parseInt(d.matched(2))}:null};ha.searchString=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(0<=b.indexOf(d.subString))return{app:d.identity,
versionString:null==d.versionSearch?d.identity:d.versionSearch}}return null};ha.prototype={browser:null,version:null,majorVersion:null,minorVersion:null,platform:null,toString:function(){return""+this.browser+" v."+this.majorVersion+"."+this.minorVersion+" ("+this.version+") on "+this.platform},__class__:ha};var Tc=function(a){r.throwIfNull(a,"httpContext",{fileName:"ActionContext.hx",lineNumber:80,className:"ufront.web.context.ActionContext",methodName:"new"});this.httpContext=a};e["ufront.web.context.ActionContext"]=
Tc;Tc.__name__=["ufront","web","context","ActionContext"];Tc.prototype={httpContext:null,handler:null,controller:null,action:null,args:null,actionResult:null,uriParts:null,get_uriParts:function(){null==this.uriParts&&(this.uriParts=this.httpContext.getRequestUri().split("/"),0<this.uriParts.length&&""==this.uriParts[0]&&this.uriParts.shift(),0<this.uriParts.length&&""==this.uriParts[this.uriParts.length-1]&&this.uriParts.pop());return this.uriParts},toString:function(){return"ActionContext("+s.string(this.controller)+
", "+this.action+", "+s.string(this.args)+")"},__class__:Tc,__properties__:{get_uriParts:"get_uriParts"}};var ob=function(a,b,c,d,f,e,m){null==m&&(m="uf-content");r.throwIfNull(b,null,{fileName:"HttpContext.hx",lineNumber:214,className:"ufront.web.context.HttpContext",methodName:"new"});r.throwIfNull(a,null,{fileName:"HttpContext.hx",lineNumber:215,className:"ufront.web.context.HttpContext",methodName:"new"});this.request=a;this.response=b;this.urlFilters=null!=e?e:[];this._relativeContentDir=m;this.actionContext=
new Tc(this);this.messages=[];this.completion=0;this.injector=null!=c?c.createChildInjector():new jb;this.injector.mapType("ufront.web.context.HttpContext",null,null).toValue(this);this.injector.mapType("ufront.web.context.HttpRequest",null,null).toValue(a);this.injector.mapType("ufront.web.context.HttpResponse",null,null).toValue(b);this.injector.mapType("ufront.web.context.ActionContext",null,null).toValue(this.actionContext);this.injector.mapType("ufront.log.MessageList",null,null).toValue(new Qc(this.messages));
this.injector.mapType("minject.Injector",null,null).toValue(this.injector);null!=d&&(this.session=d);if(null==this.session)try{this.session=this.injector.getValueForType("ufront.web.session.UFHttpSession",null)}catch(g){x.lastException=g,g instanceof k&&(g=g.val),this.ufLog("Failed to load UFHttpSession: "+s.string(g)+". Using VoidSession instead."+x.toString(x.exceptionStack()),{fileName:"HttpContext.hx",lineNumber:236,className:"ufront.web.context.HttpContext",methodName:"new"})}null==this.session&&
(this.session=new Tb);this.injector.mapType("ufront.web.session.UFHttpSession",null,null).toValue(this.session);this.injector.mapRuntimeTypeOf(this.session).toValue(this.session);null!=f&&(this.auth=f);if(null==this.auth)try{this.auth=this.injector.getValueForType("ufront.auth.UFAuthHandler",null)}catch(l){x.lastException=l,l instanceof k&&(l=l.val),this.ufLog("Failed to load UFAuthHandler: "+s.string(l)+". Using NobodyAuthHandler instead."+x.toString(x.exceptionStack()),{fileName:"HttpContext.hx",
lineNumber:244,className:"ufront.web.context.HttpContext",methodName:"new"})}null==this.auth&&(this.auth=new Ub);this.injector.mapType("ufront.auth.UFAuthHandler",null,null).toValue(this.auth);this.injector.mapRuntimeTypeOf(this.auth).toValue(this.auth)};e["ufront.web.context.HttpContext"]=ob;ob.__name__=["ufront","web","context","HttpContext"];ob.createContext=function(a,b,c,d,f,e,m){null==m&&(m="uf-content");null==a&&(a=Ya.create());null==b&&(b=Z.create());return new ob(a,b,c,d,f,e,m)};ob.prototype=
{injector:null,request:null,response:null,session:null,sessionID:null,auth:null,currentUser:null,currentUserID:null,actionContext:null,completion:null,urlFilters:null,messages:null,contentDirectory:null,_requestUri:null,_relativeContentDir:null,_contentDir:null,getRequestUri:function(){if(null==this._requestUri){for(var a=wa.parse(this.request.get_uri()),b=0,c=this.urlFilters;b<c.length;){var d=c[b];++b;d.filterIn(a)}this._requestUri=a.toString()}return this._requestUri},generateUri:function(a,b){null==
b&&(b=!1);for(var c=eb.parse(a,b),d=this.urlFilters.length-1;0<=d;)this.urlFilters[d--].filterOut(c);return c.toString()},setUrlFilters:function(a){this.urlFilters=null!=a?a:[];this._requestUri=null},commitSession:function(){return null!=this.session?this.session.commit():g.sync(l.Success(I.Noise))},ufTrace:function(a,b){this.messages.push({msg:a,pos:b,type:J.MTrace})},ufLog:function(a,b){this.messages.push({msg:a,pos:b,type:J.MLog})},ufWarn:function(a,b){this.messages.push({msg:a,pos:b,type:J.MWarning})},
ufError:function(a,b){this.messages.push({msg:a,pos:b,type:J.MError})},toString:function(){return"HttpContext"},get_sessionID:function(){return null!=this.session?this.session.get_id():null},get_currentUser:function(){return null!=this.auth?this.auth.get_currentUser():null},get_currentUserID:function(){return null!=this.auth&&null!=this.auth.get_currentUser()?this.auth.get_currentUser().get_userID():null},get_contentDirectory:function(){null==this._contentDir&&(null!=this.request.get_scriptDirectory()?
this._contentDir=L.addTrailingSlash(this.request.get_scriptDirectory())+L.addTrailingSlash(this._relativeContentDir):this._contentDir=L.addTrailingSlash(this._relativeContentDir));return this._contentDir},__class__:ob,__properties__:{get_contentDirectory:"get_contentDirectory",get_currentUserID:"get_currentUserID",get_currentUser:"get_currentUser",get_sessionID:"get_sessionID"}};var H=e["ufront.web.context.RequestCompletion"]={__ename__:["ufront","web","context","RequestCompletion"],__constructs__:"CRequestMiddlewareComplete CRequestHandlersComplete CResponseMiddlewareComplete CLogHandlersComplete CFlushComplete CErrorHandlersTriggered CErrorHandlersComplete".split(" ")};
H.CRequestMiddlewareComplete=["CRequestMiddlewareComplete",0];H.CRequestMiddlewareComplete.toString=u;H.CRequestMiddlewareComplete.__enum__=H;H.CRequestHandlersComplete=["CRequestHandlersComplete",1];H.CRequestHandlersComplete.toString=u;H.CRequestHandlersComplete.__enum__=H;H.CResponseMiddlewareComplete=["CResponseMiddlewareComplete",2];H.CResponseMiddlewareComplete.toString=u;H.CResponseMiddlewareComplete.__enum__=H;H.CLogHandlersComplete=["CLogHandlersComplete",3];H.CLogHandlersComplete.toString=
u;H.CLogHandlersComplete.__enum__=H;H.CFlushComplete=["CFlushComplete",4];H.CFlushComplete.toString=u;H.CFlushComplete.__enum__=H;H.CErrorHandlersTriggered=["CErrorHandlersTriggered",5];H.CErrorHandlersTriggered.toString=u;H.CErrorHandlersTriggered.__enum__=H;H.CErrorHandlersComplete=["CErrorHandlersComplete",6];H.CErrorHandlersComplete.toString=u;H.CErrorHandlersComplete.__enum__=H;var O=function(){};e["ufront.web.result.ActionResult"]=O;O.__name__=["ufront","web","result","ActionResult"];O.transformUri=
function(a,b){return C.startsWith(b,"~/")?a.httpContext.generateUri(n.substr(b,2,null)):b};O.wrap=function(a){if(null==a)return new Gb;var b=s.instance(a,O);null==b&&(b=new Sa(s.string(a)));return b};O.prototype={executeResult:function(a){return t.success()},__class__:O};var Zb=function(){};e["ufront.web.result.WrappedResult"]=Zb;Zb.__name__=["ufront","web","result","WrappedResult"];Zb.prototype={originalResult:null,__class__:Zb};var la=function(a){this.originalResult=a;this.scripts=[]};e["ufront.web.result.CallJavascriptResult"]=
la;la.__name__=["ufront","web","result","CallJavascriptResult"];la.__interfaces__=[Zb];la.addInlineJsToResult=function(a,b){return(new la(a)).addInlineJs(b)};la.addJsScriptToResult=function(a,b){return(new la(a)).addJsScript(b)};la.executeScripts=function(a,b){var c;c=window.document.createElement("div");c.innerHTML=b.join("");for(var d=0,f=c.children.length;d<f;){var e=d++,e=c.children[e],m;m=window.document.createElement("script");m.setAttribute("type","text/javascript");var g=e.getAttribute("src");
null!=g&&m.setAttribute("src",g);m.innerHTML=e.innerHTML;window.document.body.appendChild(m);window.document.body.removeChild(m)}};la.insertScriptsBeforeBodyTag=function(a,b){var c=b.join(""),d=a.lastIndexOf("</body>");return a=-1==d?a+c:a.substring(0,d)+c+n.substr(a,d,null)};la.__super__=O;la.prototype=K(O.prototype,{originalResult:null,scripts:null,addInlineJs:function(a){this.scripts.push('<script type="text/javascript">'+a+"\x3c/script>");return this},addJsScript:function(a){this.scripts.push('<script type="text/javascript" src="'+
a+'">\x3c/script>');return this},executeResult:function(a){var b=this;return g._tryMap(this.originalResult.executeResult(a),function(c){c=a.httpContext.response;"text/html"==c.get_contentType()&&0<b.scripts.length&&la.executeScripts(c,b.scripts);return I.Noise})},__class__:la});var ya=function(a,b,c){la.call(this,a);this.action=b;this.actionData=c};e["ufront.web.result.AddClientActionResult"]=ya;ya.__name__=["ufront","web","result","AddClientActionResult"];ya.__interfaces__=[Zb];ya.addClientAction=
function(a,b,c){return new ya(a,b,c)};ya.__super__=la;ya.prototype=K(la.prototype,{action:null,actionData:null,executeResult:function(a){var b=this;return g._tryMap(this.originalResult.executeResult(a),function(a){ra.ufExecuteAction(b.action,b.actionData);return I.Noise})},__class__:ya});var ma=function(a,b){this.contentType=a;this.fileDownloadName=b;null==a&&this.setContentTypeByFilename()};e["ufront.web.result.FileResult"]=ma;ma.__name__=["ufront","web","result","FileResult"];ma.__super__=O;ma.prototype=
K(O.prototype,{contentType:null,fileDownloadName:null,setContentTypeByFilename:function(a){null==a&&(a=this.fileDownloadName);null!=a&&(a=L.extension(a),ma.extMap.exists(a)&&(this.contentType=ma.extMap.get(a)))},executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"FileResult.hx",lineNumber:79,className:"ufront.web.result.FileResult",methodName:"executeResult"});null!=this.contentType&&a.httpContext.response.set_contentType(this.contentType);null!=this.fileDownloadName&&a.httpContext.response.setHeader("content-disposition",
"attachment; filename="+this.fileDownloadName);return t.success()},__class__:ma});var Uc=function(a,b,c){ma.call(this,b,c);this.bytes=a};e["ufront.web.result.BytesResult"]=Uc;Uc.__name__=["ufront","web","result","BytesResult"];Uc.__super__=ma;Uc.prototype=K(ma.prototype,{bytes:null,executeResult:function(a){ma.prototype.executeResult.call(this,a);a.httpContext.response.writeBytes(this.bytes,0,this.bytes.length);return t.success()},__class__:Uc});var Sa=function(a,b){this.content=null!=a?a:"";this.contentType=
b};e["ufront.web.result.ContentResult"]=Sa;Sa.__name__=["ufront","web","result","ContentResult"];Sa.create=function(a){return new Sa(a,null)};Sa.replaceVirtualLinks=function(a,b){var c=new fa("(')(~/[^'\\s]*)'","gi"),d=new fa('(")(~/[^"\\s]*)"',"gi"),f=function(b){var c=b.matched(1);b=b.matched(2);b=O.transformUri(a,b);return c+b+c};b=c.map(b,f);return b=d.map(b,f)};Sa.__super__=O;Sa.prototype=K(O.prototype,{content:null,contentType:null,executeResult:function(a){null!=this.contentType&&a.httpContext.response.set_contentType(this.contentType);
"text/html"==a.httpContext.response.get_contentType()&&(this.content=Sa.replaceVirtualLinks(a,this.content));a.httpContext.response.write(this.content);return t.success()},__class__:Sa});var Vc=function(a){this.filePath=a};e["ufront.web.result.DirectFilePathResult"]=Vc;Vc.__name__=["ufront","web","result","DirectFilePathResult"];Vc.__super__=O;Vc.prototype=K(O.prototype,{filePath:null,executeResult:function(a){r.throwIfNull(a,null,{fileName:"DirectFilePathResult.hx",lineNumber:35,className:"ufront.web.result.DirectFilePathResult",
methodName:"executeResult"});throw new k(r.notImplemented({fileName:"DirectFilePathResult.hx",lineNumber:52,className:"ufront.web.result.DirectFilePathResult",methodName:"executeResult"}));},__class__:Vc});var Gb=function(a){null==a&&(a=!1);this.preventFlush=a};e["ufront.web.result.EmptyResult"]=Gb;Gb.__name__=["ufront","web","result","EmptyResult"];Gb.__super__=O;Gb.prototype=K(O.prototype,{preventFlush:null,executeResult:function(a){this.preventFlush&&a.httpContext.response.preventFlush();return t.success()},
__class__:Gb});var Wc=function(a,b,c){ma.call(this,b,c);this.fileName=a};e["ufront.web.result.FilePathResult"]=Wc;Wc.__name__=["ufront","web","result","FilePathResult"];Wc.__super__=ma;Wc.prototype=K(ma.prototype,{fileName:null,executeResult:function(a){ma.prototype.executeResult.call(this,a);throw new k(r.notImplemented({fileName:"FilePathResult.hx",lineNumber:45,className:"ufront.web.result.FilePathResult",methodName:"executeResult"}));},__class__:Wc});var $b=function(a,b){this.message=a;this.failureMessage=
null!=b?b:a};e["ufront.web.result.HttpAuthResult"]=$b;$b.__name__=["ufront","web","result","HttpAuthResult"];$b.requireAuth=function(a,b,c,d,f,e){a=a.request.get_authorization();if(null!=a&&a.user==b&&a.pass==c)return e();b=new $b(d,f);return g.sync(l.Success(b))};$b.__super__=O;$b.prototype=K(O.prototype,{message:null,failureMessage:null,executeResult:function(a){a.httpContext.response.requireAuthentication(this.message);a.httpContext.response.write(this.failureMessage);return t.success()},__class__:$b});
var ac=function(a){r.throwIfNull(a,"content",{fileName:"JsonResult.hx",lineNumber:26,className:"ufront.web.result.JsonResult",methodName:"new"});this.content=a};e["ufront.web.result.JsonResult"]=ac;ac.__name__=["ufront","web","result","JsonResult"];ac.create=function(a){return new ac(a)};ac.__super__=O;ac.prototype=K(O.prototype,{content:null,executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"JsonResult.hx",lineNumber:31,className:"ufront.web.result.JsonResult",methodName:"executeResult"});
var b=JSON.stringify(this.content);a.httpContext.response.write(b);a.httpContext.response.set_contentType("application/json");return t.success()},__class__:ac});var F=function(a,b,c){this.data=null!=a?a:D.setObject(function(a){a={};return null!=a?a:{}}(this),{});this.helpers=new v;this.partials=new v;this.templateSource=null!=b?R.TFromEngine(b,c):R.TUnknown;this.layoutSource=R.TUnknown;this.finalOutputTrigger=new V;this.finalOutput=this.finalOutputTrigger.future};e["ufront.web.result.ViewResult"]=
F;F.__name__=["ufront","web","result","ViewResult"];F.create=function(a){return new F(D.setObject(function(a){a={};return null!=a?a:{}}(this),a))};F.getCombinedMap=function(a){for(var b=new v,c=0;c<a.length;){var d=a[c];++c;for(var f=d.keys();f.hasNext();){var e=f.next(),g;g=null!=y[e]?d.getReserved(e):d.h[e];null!=y[e]?b.setReserved(e,g):b.h[e]=g;g}}return b};F.getViewFolder=function(a){var b=p.getClass(a.controller),b=Q.getType(b).viewFolder;null!=b&&0<b.length?(a=""+s.string(b[0]),a=L.removeTrailingSlashes(a)):
(a=p.getClassName(p.getClass(a.controller)).split(".").pop(),a=a.charAt(0).toLowerCase()+n.substr(a,1,null),C.endsWith(a,"Controller")&&(a=n.substr(a,0,a.length-10)));return a};F.inferViewPathFromContext=function(a){var b=p.getClass(a.controller),b=Q.getFields(b),b=A.field(b,a.action);if(null!=b&&null!=b.template&&0<b.template.length)a=""+s.string(b.template[0]);else{a=a.action;var b=C.startsWith(a,"do"),c=2<a.length&&a.charAt(2)==a.charAt(2).toUpperCase();b&&c&&(a=n.substr(a,2,null));a=a.charAt(0).toLowerCase()+
n.substr(a,1,null)}return R.TFromEngine(a,null)};F.inferLayoutFromContext=function(a){var b=null,c=p.getClass(a.controller),d=Q.getType(c),c=Q.getFields(c),c=A.field(c,a.action);if(null!=c&&null!=c.layout&&0<c.layout.length)b=""+s.string(c.layout[0]);else if(null!=d.layout&&0<d.layout.length)b=""+s.string(d.layout[0]);else try{b=a.httpContext.injector.getValueForType("String","defaultLayout"),null!=b&&!1==C.startsWith(b,"/")&&(b="/"+b)}catch(f){x.lastException=f,f instanceof k&&(f=f.val)}return null!=
b?R.TFromEngine(b,null):R.TNone};F.addViewFolderToPath=function(a,b){switch(a[1]){case 1:var c=a[3],d=a[2],d=C.startsWith(d,"/")?n.substr(d,1,null):""+b+"/"+d;return R.TFromEngine(d,c);default:return a}};F.loadTemplateFromSource=function(a,b){switch(a[1]){case 0:var c=a[3],d=a[2];try{return g.sync(l.Success(c.factory(d)))}catch(f){return x.lastException=f,f instanceof k&&(f=f.val),g.sync(F.error("Failed to parse template.",""+('Templating Engine: "'+c.type+'"')+"\n"+('String template: "'+d+'"'),{fileName:"ViewResult.hx",
lineNumber:630,className:"ufront.web.result.ViewResult",methodName:"loadTemplateFromSource"}))}case 1:return b.getTemplate(a[2],a[3]);case 2:case 3:return g.sync(l.Success(null))}};F.loadPartialTemplates=function(a,b){for(var c=F.getCombinedMap(a),d=new v,f=new v,e=[],m=c.keys();m.hasNext();){var k=[m.next()],n=[null!=y[k[0]]?c.getReserved(k[0]):c.h[k[0]]],p=F.loadTemplateFromSource(n[0],b);p(function(a,b){return function(c){switch(c[1]){case 0:c=c[2];null!=c?null!=y[b[0]]?d.setReserved(b[0],c):d.h[b[0]]=
c:(c=r.internalServerError("Partial "+b[0]+" must be either TFromString or TFromEngine, was "+s.string(a[0]),null,{fileName:"ViewResult.hx",lineNumber:647,className:"ufront.web.result.ViewResult",methodName:"loadPartialTemplates"}),null!=y[b[0]]?f.setReserved(b[0],c):f.h[b[0]]=c);c;break;case 1:c=c[2],null!=y[b[0]]?f.setReserved(b[0],c):f.h[b[0]]=c,c}}}(n,k));e.push(p)}return g.map(g.ofMany(e),function(a){switch(sa.count(f)){case 0:return l.Success(d);case 1:a=[];for(var b=new Jb(f,f.arrayKeys());b.hasNext();){var c=
b.next();a.push(c)}return l.Failure(a[0]);default:a=[];for(b=f.keys();b.hasNext();)c=b.next(),a.push(c);return F.error("Partials "+s.string(a)+" failed to load: "+f.toString(),f,{fileName:"ViewResult.hx",lineNumber:661,className:"ufront.web.result.ViewResult",methodName:"loadPartialTemplates"})}})};F.addHelpersForPartials=function(a,b,c){for(var d=a.keys();d.hasNext();){var f=[d.next()],e=function(a,d){return function(f){var e={};D.setObject(e,b);D.setObject(e,f);D.set(e,"__current__",f);return $.sure(F.executeTemplate("Partial["+
d[0]+"]",l.Success(a[0]),e,c))}}([null!=y[f[0]]?a.getReserved(f[0]):a.h[f[0]]],f),e=E.from1(e);null!=y[f[0]]?c.setReserved(f[0],e):c.h[f[0]]=e;e}};F.executeTemplate=function(a,b,c,d){switch(b[1]){case 0:b=b[2];try{return l.Success(b(c,d))}catch(f){return x.lastException=f,f instanceof k&&(f=f.val),F.error("Unable to execute "+a+" template: "+s.string(f),f,{fileName:"ViewResult.hx",lineNumber:693,className:"ufront.web.result.ViewResult",methodName:"executeTemplate"})}case 1:return c=b[2],F.error("Unable to load "+
a+" template: "+s.string(c),c,{fileName:"ViewResult.hx",lineNumber:696,className:"ufront.web.result.ViewResult",methodName:"executeTemplate"})}};F.error=function(a,b,c){return l.Failure(r.internalServerError(a,b,c))};F.__super__=O;F.prototype=K(O.prototype,{data:null,helpers:null,partials:null,viewFolder:null,templateSource:null,layoutSource:null,finalOutput:null,finalOutputTrigger:null,withLayout:function(a,b){this.layoutSource=R.TFromEngine(a,b);return this},withoutLayout:function(){this.layoutSource=
R.TNone;return this},usingTemplateString:function(a,b,c){null==c&&(c=Oa.get_haxe());null!=a&&(this.templateSource=R.TFromString(a,c));null!=b&&(this.layoutSource=R.TFromString(b,c));return this},setVar:function(a,b){D.array_set(this.data,a,b);return this},setVars:function(a,b){null!=a&&D.setMap(this.data,a);null!=b&&D.setObject(this.data,b);return this},addHelper:function(a,b){this.helpers.set(a,b);b;return this},addHelpers:function(a){for(var b=a.keys();b.hasNext();){var c=b.next();this.addHelper(c,
null!=y[c]?a.getReserved(c):a.h[c])}return this},addPartial:function(a,b,c){b=R.TFromEngine(b,c);this.partials.set(a,b);b;return this},addPartialString:function(a,b,c){b=R.TFromString(b,c);this.partials.set(a,b);b;return this},addPartials:function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();this.addPartial(d,null!=y[d]?a.getReserved(d):a.h[d],b)}return this},addPartialStrings:function(a,b){for(var c=a.keys();c.hasNext();){var d=c.next();this.addPartialString(d,null!=y[d]?a.getReserved(d):
a.h[d],b)}return this},executeResult:function(a){var b=this;(function(a){switch(a.layoutSource[1]){case 3:a=!0;break;default:a=!1}return a})(this)&&(this.layoutSource=F.inferLayoutFromContext(a));(function(a){switch(a.templateSource[1]){case 3:a=!0;break;default:a=!1}return a})(this)&&(this.templateSource=F.inferViewPathFromContext(a));null==this.viewFolder&&(this.viewFolder=F.getViewFolder(a));var c;try{c=a.httpContext.injector.getValueForType("ufront.view.UFViewEngine",null)}catch(d){return x.lastException=
d,d instanceof k&&(d=d.val),t.asSurpriseError(d,"Failed to find a UFViewEngine in ViewResult.executeResult(), please make sure that one is made available in your application's injector",{fileName:"ViewResult.hx",lineNumber:456,className:"ufront.web.result.ViewResult",methodName:"executeResult"})}var f={},e=s.instance(a.controller,Ua);null!=e&&D.set(f,"baseUri",e.baseUri);return g._tryMap(this.renderResult(c,f),function(c){c=Sa.replaceVirtualLinks(a,c);b.writeResponse(c,a);b.finalOutputTrigger.trigger(c);
return I.Noise})},renderResult:function(a,b){var c=this;if(function(a){switch(a.layoutSource[1]){case 3:a=!0;break;default:a=!1}return a}(this))return t.asSurpriseError(null,"No layout template source was set on the ViewResult",{fileName:"ViewResult.hx",lineNumber:491,className:"ufront.web.result.ViewResult",methodName:"renderResult"});if(function(a){switch(a.templateSource[1]){case 3:a=!0;break;default:a=!1}return a}(this))return t.asSurpriseError(null,"No view template source was set on the ViewResult",
{fileName:"ViewResult.hx",lineNumber:493,className:"ufront.web.result.ViewResult",methodName:"renderResult"});null==b&&(b=D.setObject(function(a){a={};return null!=a?a:{}}(this),{}));null!=this.viewFolder&&(this.templateSource=F.addViewFolderToPath(this.templateSource,this.viewFolder),this.layoutSource=F.addViewFolderToPath(this.layoutSource,this.viewFolder));var d=F.loadTemplateFromSource(this.templateSource,a),f=F.loadTemplateFromSource(this.layoutSource,a),e=F.loadPartialTemplates([F.globalPartials,
this.partials],a);return function(a){var b=g.ofMany([d,f,e]);return{handle:function(a){b(function(b){a(b[0],b[1],b[2])})},map:function(a){return g.map(b,function(b){return a(b[0],b[1],b[2])})}}}(this).map(function(a,d,f){try{var e=D.fromMany([b,F.globalValues,c.data]),h=F.getCombinedMap([F.globalHelpers,c.helpers]);F.addHelpersForPartials($.sure(f),e,h);var g=$.sure(F.executeTemplate("view",a,e,h)),n;switch(d[1]){case 0:n=null==d[2]?!0:!1;break;default:n=!1}if(n)return l.Success(g);var p=$.sure(F.executeTemplate("layout",
d,D.set(e,"viewContent",g),h));return l.Success(p)}catch(q){x.lastException=q;q instanceof k&&(q=q.val);if(w.__instanceof(q,z))return l.Failure(q);throw q;}})},writeResponse:function(a,b){b.httpContext.response.set_contentType("text/html");b.httpContext.response.write(a)},__class__:F});var T=function(a,b,c){F.call(this,a,b,c);T.startLoadingAnimations()};e["ufront.web.result.PartialViewResult"]=T;T.__name__=["ufront","web","result","PartialViewResult"];T.create=function(a){return new T(D.setObject(function(a){a=
{};return null!=a?a:{}}(this),a))};T.getAttr=function(a,b){if(null!=a){var c=a.attributes.getNamedItem(b);if(null!=c)return c.value}return null};T.startLoadingAnimations=function(){for(var a=window.document.querySelectorAll("[data-uf-partial]"),b=0,c=a.length;b<c;){var d=b++;s.instance(a.item(d),HTMLElement).classList.add("uf-partial-outgoing")}};T.__super__=F;T.prototype=K(F.prototype,{writeResponse:function(a,b){var c=b.httpContext.response;c.set_contentType("text/html");var d=window.document.implementation.createHTMLDocument("");
d.documentElement.innerHTML=a;if(T.getAttr(window.document.body,"data-uf-layout")==T.getAttr(d.body,"data-uf-layout")){window.document.title=d.title;for(var f=window.document.querySelectorAll("[data-uf-partial]"),e=0,g=f.length;e<g;){var k=e++,k=s.instance(f.item(k),HTMLElement),l=T.getAttr(k,"data-uf-partial"),l=[d.querySelector("[data-uf-partial="+l+"]")],n=s.parseInt(T.getAttr(k,"data-uf-transition-timeout"));null==n&&(n=T.transitionTimeout);l[0].classList.add("uf-partial-incoming");ta.replaceNode(k,
l[0],n);window.setTimeout(function(a){return function(){a[0].classList.remove("uf-partial-incoming")}}(l),1)}window.scrollTo(0,0);ta.reloadScripts(window.document);c.preventFlushContent()}else F.prototype.writeResponse.call(this,a,b)},__class__:T});var rb=function(a,b){null==b&&(b=!1);r.throwIfNull(a,"url",{fileName:"RedirectResult.hx",lineNumber:38,className:"ufront.web.result.RedirectResult",methodName:"new"});this.url=a;this.permanentRedirect=b};e["ufront.web.result.RedirectResult"]=rb;rb.__name__=
["ufront","web","result","RedirectResult"];rb.create=function(a){return new rb(a,!1)};rb.createPermanent=function(a){return new rb(a,!0)};rb.__super__=O;rb.prototype=K(O.prototype,{url:null,permanentRedirect:null,executeResult:function(a){r.throwIfNull(a,"actionContext",{fileName:"RedirectResult.hx",lineNumber:44,className:"ufront.web.result.RedirectResult",methodName:"executeResult"});a.httpContext.response.clearContent();a.httpContext.response.clearHeaders();var b=O.transformUri(a,this.url);this.permanentRedirect?
a.httpContext.response.permanentRedirect(b):a.httpContext.response.redirect(b);return t.success()},__class__:rb});var oa=e["ufront.web.result.ResultWrapRequired"]={__ename__:["ufront","web","result","ResultWrapRequired"],__constructs__:["WRFuture","WROutcome","WRResultOrError"]};oa.WRFuture=["WRFuture",0];oa.WRFuture.toString=u;oa.WRFuture.__enum__=oa;oa.WROutcome=["WROutcome",1];oa.WROutcome.toString=u;oa.WROutcome.__enum__=oa;oa.WRResultOrError=["WRResultOrError",2];oa.WRResultOrError.toString=
u;oa.WRResultOrError.__enum__=oa;var R=e["ufront.web.result.TemplateSource"]={__ename__:["ufront","web","result","TemplateSource"],__constructs__:["TFromString","TFromEngine","TNone","TUnknown"]};R.TFromString=function(a,b){var c=["TFromString",0,a,b];c.__enum__=R;c.toString=u;return c};R.TFromEngine=function(a,b){var c=["TFromEngine",1,a,b];c.__enum__=R;c.toString=u;return c};R.TNone=["TNone",2];R.TNone.toString=u;R.TNone.__enum__=R;R.TUnknown=["TUnknown",3];R.TUnknown.toString=u;R.TUnknown.__enum__=
R;var sb=function(){};e["ufront.web.session.UFHttpSession"]=sb;sb.__name__=["ufront","web","session","UFHttpSession"];sb.prototype={get_id:null,id:null,init:null,clear:null,get:null,set:null,exists:null,remove:null,isActive:null,isReady:null,close:null,setExpiry:null,commit:null,triggerCommit:null,regenerateID:null,__class__:sb,__properties__:{get_id:"get_id"}};var xa=function(){this.expiryFlag=this.regenerateFlag=this.closeFlag=this.commitFlag=this.started=!1;this.oldSessionID=this.sessionID=this.sessionData=
null};e["ufront.web.session.CacheSession"]=xa;xa.__name__=["ufront","web","session","CacheSession"];xa.__interfaces__=[sb];xa.isValidID=function(a){return null!=a&&za.isValid(a)};xa.prototype={started:null,commitFlag:null,closeFlag:null,regenerateFlag:null,expiryFlag:null,sessionID:null,oldSessionID:null,sessionData:null,cache:null,context:null,sessionName:null,expiry:null,savePath:null,injectConfig:function(a,b){this.context=a;a.injector.hasMappingForType("String","sessionName")?this.sessionName=
a.injector.getValueForType("String","sessionName"):this.sessionName=xa.defaultSessionName;a.injector.hasMappingForType("Int","sessionExpiry")?this.expiry=a.injector.getValueForType("Int","sessionExpiry"):this.expiry=xa.defaultExpiry;a.injector.hasMappingForType("String","sessionSavePath")?this.savePath=a.injector.getValueForType("String","sessionSavePath"):this.savePath=xa.defaultSavePath;if(null==b)throw new k(r.internalServerError("No UFCacheConnection was injected into CacheSession",null,{fileName:"CacheSession.hx",
lineNumber:166,className:"ufront.web.session.CacheSession",methodName:"injectConfig"}));this.cache=b.getNamespace(this.savePath)},setExpiry:function(a){this.expiry=a},init:function(){var a=this,b=function(){a.regenerateID();a.sessionData=new v;a.started=!0;return l.Success(I.Noise)};if(this.started)return g.sync(l.Success(I.Noise));this.get_id();return null!=this.sessionID&&xa.isValidID(this.sessionID)?g.map(this.cache.get(this.sessionID),function(c){switch(c[1]){case 0:c=c[2];a.sessionData=s.instance(c,
v);if(null!=a.sessionData)return a.started=!0,l.Success(I.Noise);a.context.ufWarn("Failed to unserialize session "+a.sessionID+" (Was "+s.string(p["typeof"](c))+", expected StringMap), starting a fresh session instead.",{fileName:"CacheSession.hx",lineNumber:214,className:"ufront.web.session.CacheSession",methodName:"init"});return b();case 1:var d=c[2];switch(c[2][1]){case 0:return a.context.messages.push({msg:"Client requested session "+a.sessionID+", but it did not exist in the cache. Starting a fresh session instead.",
pos:{fileName:"CacheSession.hx",lineNumber:218,className:"ufront.web.session.CacheSession",methodName:"init"},type:J.MWarning}),b();case 2:return a.context.messages.push({msg:"Failed to read cache for session "+a.sessionID+": "+c[2][2]+". Starting a fresh session instead.",pos:{fileName:"CacheSession.hx",lineNumber:221,className:"ufront.web.session.CacheSession",methodName:"init"},type:J.MWarning}),b();default:return l.Failure(z.withData(null,"Failed to initialize session",d,{fileName:"CacheSession.hx",
lineNumber:224,className:"ufront.web.session.CacheSession",methodName:"init"}))}}}):t.asSurprise(b())},commit:function(){var a=this,b=this.sessionID,c;c=null==this.sessionID||this.regenerateFlag?this.findNewSessionID():g.sync(l.Success(this.sessionID));return g._tryFailingFlatMap(g._tryMap(g._tryFailingFlatMap(g._tryFailingFlatMap(g._tryMap(c,function(b){a.sessionID=b;return I.Noise}),function(c){return a.regenerateFlag?(a.commitFlag=!0,null!=b?t.changeFailureToError(a.cache.remove(b),null,{fileName:"CacheSession.hx",
lineNumber:255,className:"ufront.web.session.CacheSession",methodName:"commit"}):t.success()):g.sync(l.Success(I.Noise))}),function(b){return a.commitFlag&&null!=a.sessionData?t.changeFailureToError(t.changeSuccessToNoise(a.cache.set(a.sessionID,g.sync(a.sessionData))),null,{fileName:"CacheSession.hx",lineNumber:262,className:"ufront.web.session.CacheSession",methodName:"commit"}):g.sync(l.Success(I.Noise))}),function(b){a.expiryFlag&&!a.closeFlag&&a.setCookie(a.sessionID,a.expiry);return I.Noise}),
function(b){return a.closeFlag?(a.setCookie("",-1),t.changeFailureToError(a.cache.remove(a.sessionID),null,{fileName:"CacheSession.hx",lineNumber:275,className:"ufront.web.session.CacheSession",methodName:"commit"})):g.sync(l.Success(I.Noise))})},findNewSessionID:function(){var a=this,b=za.create();return g.flatMap(this.cache.get(b),function(c){switch(c[1]){case 0:return a.findNewSessionID();case 1:var d=c[2];switch(c[2][1]){case 0:return a.setCookie(b,a.expiry),g.map(a.cache.set(b,function(a){a=
new v;return g.sync(a)}(this)),function(a){switch(a[1]){case 0:return l.Success(b);case 1:return l.Failure(z.withData(null,"Failed to reserve session ID "+b,a[2],{fileName:"CacheSession.hx",lineNumber:294,className:"ufront.web.session.CacheSession",methodName:"findNewSessionID"}))}});default:return g.sync(l.Failure(z.withData(null,"Failed to find new session ID, cache error",d,{fileName:"CacheSession.hx",lineNumber:297,className:"ufront.web.session.CacheSession",methodName:"findNewSessionID"})))}}})},
setCookie:function(a,b){var c;c=0>=b?null:cc.delta(new Date,1E3*b);c=new da(this.sessionName,a,c,null,"/",!1);0>b&&c.expireNow();this.context.response.setCookie(c)},get:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:320,className:"ufront.web.session.CacheSession",methodName:"get"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));
return null!=this.sessionData?this.sessionData.get(a):null},set:function(a,b){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:332,className:"ufront.web.session.CacheSession",methodName:"set"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.set(a,b),this.commitFlag=!0)},exists:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",
{fileName:"CacheSession.hx",lineNumber:345,className:"ufront.web.session.CacheSession",methodName:"exists"},{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));return null!=this.sessionData&&this.sessionData.exists(a)},remove:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:355,className:"ufront.web.session.CacheSession",methodName:"remove"},
{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.remove(a),this.commitFlag=!0)},clear:function(){null==this.sessionData||!this.started&&null==this.get_id()||(this.sessionData=new v,this.commitFlag=!0)},triggerCommit:function(){this.commitFlag=!0},regenerateID:function(){this.regenerateFlag=!0},isActive:function(){return this.started||null!=this.get_id()},isReady:function(){return this.started},
get_id:function(){null==this.sessionID&&(this.sessionID=B.get(this.context.request.get_cookies(),this.sessionName));null==this.sessionID&&(this.sessionID=B.get(this.context.request.get_params(),this.sessionName));return this.sessionID},close:function(){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",{fileName:"CacheSession.hx",lineNumber:411,className:"ufront.web.session.CacheSession",methodName:"close"},{fileName:"CacheSession.hx",lineNumber:428,
className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));this.sessionData=null;this.closeFlag=!0},toString:function(){return null!=this.sessionData?this.sessionData.toString():"{}"},generateSessionID:function(){return za.create()},checkStarted:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before calling init()",a,{fileName:"CacheSession.hx",lineNumber:428,className:"ufront.web.session.CacheSession",methodName:"checkStarted"}));},__class__:xa,
__properties__:{get_id:"get_id"}};var ka=function(){this.expiryFlag=this.regenerateFlag=this.closeFlag=this.commitFlag=this.started=!1;this.sessionID=this.sessionData=null};e["ufront.web.session.FileSession"]=ka;ka.__name__=["ufront","web","session","FileSession"];ka.__interfaces__=[sb];ka.testValidId=function(a){return null!=a&&za.isValid(a)};ka.notImplemented=function(a){return t.asSurpriseError("FileSession is not implemented on this platform",null,a)};ka.prototype={started:null,commitFlag:null,
closeFlag:null,regenerateFlag:null,expiryFlag:null,sessionID:null,sessionData:null,context:null,injectConfig:function(a){a.injector.hasMappingForType("String","sessionName")?this.sessionName=a.injector.getValueForType("String","sessionName"):this.sessionName=ka.defaultSessionName;a.injector.hasMappingForType("Int","sessionExpiry")?this.expiry=a.injector.getValueForType("Int","sessionExpiry"):this.expiry=ka.defaultExpiry;a.injector.hasMappingForType("String","sessionSavePath")?this.savePath=a.injector.getValueForType("String",
"sessionSavePath"):this.savePath=ka.defaultSavePath;this.savePath=L.addTrailingSlash(this.savePath);C.startsWith(this.savePath,"/")||(this.savePath=a.get_contentDirectory()+this.savePath)},sessionName:null,expiry:null,savePath:null,setExpiry:function(a){this.expiry=a},init:function(){var a=this;if(this.started)return t.success();this.get_id();this.sessionData=new v;return g._tryMap(g._tryMap(g._tryFailingFlatMap(this.doCreateSessionDirectory(),N(this,this.doReadSessionFile)),N(this,this.doUnserializeSessionData)),
function(b){a.started=!0;return I.Noise})},doCreateSessionDirectory:function(){L.removeTrailingSlashes(this.savePath);return t.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:219,className:"ufront.web.session.FileSession",methodName:"doCreateSessionDirectory"})},doReadSessionFile:function(a){if(ka.testValidId(this.sessionID))return t.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:239,
className:"ufront.web.session.FileSession",methodName:"doReadSessionFile"});this.context.messages.push({msg:"Session ID "+this.sessionID+" was invalid, resetting session.",pos:{fileName:"FileSession.hx",lineNumber:243,className:"ufront.web.session.FileSession",methodName:"doReadSessionFile"},type:J.MWarning});this.sessionID=null;return t.asGoodSurprise(null)},doUnserializeSessionData:function(a){if(null!=a)try{this.sessionData=w.__cast(S.run(a),v)}catch(b){x.lastException=b,b instanceof k&&(b=b.val),
this.context.messages.push({msg:"Failed to unserialize session data: "+s.string(b),pos:{fileName:"FileSession.hx",lineNumber:256,className:"ufront.web.session.FileSession",methodName:"doUnserializeSessionData"},type:J.MWarning})}return I.Noise},setCookie:function(a,b){var c;c=0>=b?null:cc.delta(new Date,1E3*b);c=new da(this.sessionName,a,c,null,"/",!1);0>b&&c.expireNow();this.context.response.setCookie(c)},commit:function(){null==this.sessionID&&null!=this.sessionData&&this.regenerateID();return g._tryFailingFlatMap(g._tryFailingFlatMap(g._tryFailingFlatMap(this.doRegenerateID(),
N(this,this.doSaveSessionContent)),N(this,this.doSetExpiry)),N(this,this.doCloseSession))},doRegenerateID:function(){return this.regenerateFlag?t.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:327,className:"ufront.web.session.FileSession",methodName:"doRegenerateID"}):t.success()},doSaveSessionContent:function(a){if(this.commitFlag&&null!=this.sessionData){try{Y.run(this.sessionData)}catch(b){return x.lastException=b,b instanceof k&&(b=
b.val),b.asSurpriseError("Failed to serialize session content")}return t.asSurpriseError("FileSession is not implemented on this platform",null,{fileName:"FileSession.hx",lineNumber:351,className:"ufront.web.session.FileSession",methodName:"doSaveSessionContent"})}return t.success()},doSetExpiry:function(a){this.expiryFlag&&this.setCookie(this.sessionID,this.expiry);return t.success()},doCloseSession:function(a){return this.closeFlag?(this.setCookie("",-1),t.asSurpriseError("FileSession is not implemented on this platform",
null,{fileName:"FileSession.hx",lineNumber:376,className:"ufront.web.session.FileSession",methodName:"doCloseSession"})):t.success()},get:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:502,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));return null!=this.sessionData?this.sessionData.get(a):null},set:function(a,b){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",
null,{fileName:"FileSession.hx",lineNumber:502,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.set(a,b),this.commitFlag=!0)},exists:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:502,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));return null!=this.sessionData&&this.sessionData.exists(a)},remove:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",
null,{fileName:"FileSession.hx",lineNumber:502,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));null!=this.sessionData&&(this.sessionData.remove(a),this.commitFlag=!0)},clear:function(){null==this.sessionData||!this.started&&null==this.get_id()||(this.sessionData=new v,this.commitFlag=!0)},triggerCommit:function(){this.commitFlag=!0},regenerateID:function(){this.regenerateFlag=!0},isActive:function(){return this.started||null!=this.get_id()},isReady:function(){return this.started},
get_id:function(){null==this.sessionID&&(this.sessionID=B.get(this.context.request.get_cookies(),this.sessionName));null==this.sessionID&&(this.sessionID=B.get(this.context.request.get_params(),this.sessionName));return this.sessionID},close:function(){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:502,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));this.sessionData=null;
this.closeFlag=!0},toString:function(){return null!=this.sessionData?this.sessionData.toString():"{}"},getSessionFilePath:function(a){return""+this.savePath+a+".sess"},generateSessionID:function(){return za.create()},checkStarted:function(a){if(!this.started)throw new k(r.internalServerError("Trying to access session data before init() has been run",null,{fileName:"FileSession.hx",lineNumber:502,className:"ufront.web.session.FileSession",methodName:"checkStarted"}));},__class__:ka,__properties__:{get_id:"get_id"}};
var xb=function(){};e["ufront.web.session.InlineSessionMiddleware"]=xb;xb.__name__=["ufront","web","session","InlineSessionMiddleware"];xb.__interfaces__=[Qb];xb.prototype={requestIn:function(a){return xb.alwaysStart||null!=a.session.get_id()&&""!=a.session.get_id()?a.session.init():t.success()},responseOut:function(a){return null!=a.session&&a.session.isReady()?a.session.commit():t.success()},__class__:xb};var Xc=function(){this.map=new v;this.id=za.create()};e["ufront.web.session.TestSession"]=
Xc;Xc.__name__=["ufront","web","session","TestSession"];Xc.__interfaces__=[sb];Xc.prototype={id:null,map:null,setExpiry:function(a){},init:function(){return g.sync(l.Success(I.Noise))},commit:function(){return g.sync(l.Success(I.Noise))},triggerCommit:function(){},isActive:function(){return!0},isReady:function(){return!0},get:function(a){return this.map.get(a)},set:function(a,b){this.map.set(a,b);b},exists:function(a){return this.map.exists(a)},remove:function(a){this.map.remove(a)},clear:function(){for(var a=
this.map.keys();a.hasNext();){var b=a.next();this.map.remove(b)}},regenerateID:function(){},close:function(){},get_id:function(){return this.id},__class__:Xc,__properties__:{get_id:"get_id"}};var Tb=function(){};e["ufront.web.session.VoidSession"]=Tb;Tb.__name__=["ufront","web","session","VoidSession"];Tb.__interfaces__=[sb];Tb.prototype={id:null,setExpiry:function(a){},init:function(){return g.sync(l.Success(I.Noise))},commit:function(){return g.sync(l.Success(I.Noise))},triggerCommit:function(){},
isActive:function(){return!1},isReady:function(){return!1},get:function(a){return null},set:function(a,b){},exists:function(a){return!1},remove:function(a){},clear:function(){},regenerateID:function(){},close:function(){},get_id:function(){return null},__class__:Tb,__properties__:{get_id:"get_id"}};var Ra=function(a,b,c,d){this.postName=a;this.originalFileName=L.withoutDirectory(b);this.size=c;this.contentType=d};e["ufront.web.upload.BaseUpload"]=Ra;Ra.__name__=["ufront","web","upload","BaseUpload"];
Ra.prototype={postName:null,originalFileName:null,size:null,contentType:null,attachedUpload:null,hxSerialize:function(a){var b;b=a instanceof Aa?a:null;var c;if(c=null!=b)switch(b.direction[1]){case 0:c=!0;break;default:c=!1}a.serialize(c);if(c){if(!1==w.__instanceof(this,Ab))throw new k("BaseUpload can only be serialized if the sub-class matches the UFFileUpload interface");c=this.postName+"_"+za.create();B.add(b.uploads,c,this);a.serialize(c)}a.serialize(this.postName);a.serialize(this.originalFileName);
a.serialize(this.size);a.serialize(this.contentType)},hxUnserialize:function(a){var b=a.unserialize(),c;c=a instanceof Qa?a:null;if(b){if(null==c)throw new k("Unable to Unserialize upload. It was serialized with RemotingSerializer, it must be unserialized with RemotingUnserializer");var b=a.unserialize(),d=c.uploads;if(null!=y[b]?d.existsReserved(b):d.h.hasOwnProperty(b))this.attachedUpload=B.get(c.uploads,b);else throw new k("Unable to find upload attached as "+b);}this.postName=a.unserialize();
this.originalFileName=a.unserialize();this.size=a.unserialize();this.contentType=a.unserialize()},__class__:Ra};var Ab=function(){};e["ufront.web.upload.UFFileUpload"]=Ab;Ab.__name__=["ufront","web","upload","UFFileUpload"];Ab.prototype={postName:null,originalFileName:null,size:null,contentType:null,getBytes:null,getString:null,writeToFile:null,process:null,__class__:Ab};var zb=function(a,b){Ra.call(this,a,b.name,b.size,b.type);this.file=b};e["ufront.web.upload.BrowserFileUpload"]=zb;zb.__name__=
["ufront","web","upload","BrowserFileUpload"];zb.__interfaces__=[Ab];zb.__super__=Ra;zb.prototype=K(Ra.prototype,{file:null,getBytes:function(){if(null!=this.attachedUpload)return this.attachedUpload.getBytes();var a=new V,b=new FileReader;b.onload=function(){var c=Ea.ofString(b.result);a.trigger(l.Success(c))};b.onabort=function(b){a.trigger(l.Failure(r.internalServerError("Error during BrowserFileUpload.getBytes(), readAsBinaryString() was aborted",null,{fileName:"BrowserFileUpload.hx",lineNumber:45,
className:"ufront.web.upload.BrowserFileUpload",methodName:"getBytes"})))};b.onerror=function(b){a.trigger(l.Failure(r.wrap(b,"Error during BrowserFileUpload.getBytes(), readAsBinaryString() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:46,className:"ufront.web.upload.BrowserFileUpload",methodName:"getBytes"})))};b.readAsBinaryString(this.file);return a.future},getString:function(a){null==a&&(a="UTF-8");if(null!=this.attachedUpload)return this.attachedUpload.getString(a);var b=new V,
c=new FileReader;c.onload=function(){b.trigger(l.Success(c.result))};c.onabort=function(a){b.trigger(l.Failure(r.internalServerError("Error during BrowserFileUpload.getString(), readAsText() was aborted",null,{fileName:"BrowserFileUpload.hx",lineNumber:69,className:"ufront.web.upload.BrowserFileUpload",methodName:"getString"})))};c.onerror=function(a){b.trigger(l.Failure(r.wrap(a,"Error during BrowserFileUpload.getString(), readAsText() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:70,
className:"ufront.web.upload.BrowserFileUpload",methodName:"getString"})))};c.readAsText(this.file,a);return b.future},writeToFile:function(a){if(null!=this.attachedUpload)return this.attachedUpload.writeToFile(a);throw new k(r.notImplemented({fileName:"BrowserFileUpload.hx",lineNumber:85,className:"ufront.web.upload.BrowserFileUpload",methodName:"writeToFile"}));},process:function(a,b){var c=this;if(null!=this.attachedUpload)return this.attachedUpload.process(a,b);null==b&&(b=16384);var d=new V,
f=0,e=null,e=function(){var g=!1,n,p=c.file.slice(f,f+b),q=new FileReader;q.onload=function(){var b=Ea.ofString(q.result);0==b.length&&(g=!0);try{n=a(b,f,b.length)}catch(c){x.lastException=c,c instanceof k&&(c=c.val),n=Bc.asFuture(l.Failure(r.wrap(c,"Error during TmpFileUpload.process",{fileName:"BrowserFileUpload.hx",lineNumber:125,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"})))}};q.onabort=function(a){n=Bc.asFuture(l.Failure(r.internalServerError("Error during BrowserFileUpload.process(), readAsBinaryString() was aborted",
null,{fileName:"BrowserFileUpload.hx",lineNumber:128,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"})))};q.onerror=function(a){n=Bc.asFuture(l.Failure(r.wrap(a,"Error during BrowserFileUpload.process(), readAsBinaryString() raised an error",{fileName:"BrowserFileUpload.hx",lineNumber:129,className:"ufront.web.upload.BrowserFileUpload",methodName:"process"})))};q.readAsBinaryString(p);n(function(a){switch(a[1]){case 0:!1==g?(f+=b,e()):d.trigger(l.Success(I.Noise));break;case 1:d.trigger(l.Failure(a[2]))}})};
e();return d.future},__class__:zb});var sc=function(){};e["ufront.web.upload.BrowserFileUploadMiddleware"]=sc;sc.__name__=["ufront","web","upload","BrowserFileUploadMiddleware"];sc.__interfaces__=[Pb];sc.prototype={requestIn:function(a){if(a.request.isMultipart())for(var b=q.currentUploads,c=0,d=A.fields(b);c<d.length;){var e=d[c];++c;for(var g=A.field(b,e),k=0,l=g.length;k<l;){var n=k++,n=new zb(e,g[n]);B.add(a.request.get_files(),e,n)}}return t.success()},__class__:sc};var bc=function(a,b,c,d,e){Ra.call(this,
b,L.withoutDirectory(c),d,e);this.tmpFileName=a};e["ufront.web.upload.TmpFileUpload"]=bc;bc.__name__=["ufront","web","upload","TmpFileUpload"];bc.__interfaces__=[Ab];bc.__super__=Ra;bc.prototype=K(Ra.prototype,{tmpFileName:null,getBytes:function(){if(null!=this.attachedUpload)return this.attachedUpload.getBytes();throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:51,className:"ufront.web.upload.TmpFileUpload",methodName:"getBytes"}));},getString:function(a){null==a&&(a="UTF-8");
if(null!=this.attachedUpload)return this.attachedUpload.getString(a);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:69,className:"ufront.web.upload.TmpFileUpload",methodName:"getString"}));},writeToFile:function(a){if(null!=this.attachedUpload)return this.attachedUpload.writeToFile(a);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:89,className:"ufront.web.upload.TmpFileUpload",methodName:"writeToFile"}));},process:function(a,b){if(null!=this.attachedUpload)return this.attachedUpload.process(a,
b);throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:154,className:"ufront.web.upload.TmpFileUpload",methodName:"process"}));},deleteTemporaryFile:function(){throw new k(r.notImplemented({fileName:"TmpFileUpload.hx",lineNumber:171,className:"ufront.web.upload.TmpFileUpload",methodName:"deleteTemporaryFile"}));},__class__:bc});var Vb=function(){};e["ufront.web.upload.TmpFileUploadMiddleware"]=Vb;Vb.__name__=["ufront","web","upload","TmpFileUploadMiddleware"];Vb.__interfaces__=[Qb];
Vb.prototype={requestIn:function(a){if("post"==a.request.get_httpMethod().toLowerCase()&&a.request.isMultipart())throw new k(r.notImplemented({fileName:"TmpFileUploadMiddleware.hx",lineNumber:108,className:"ufront.web.upload.TmpFileUploadMiddleware",methodName:"requestIn"}));return t.success()},responseOut:function(a){if("post"==a.request.get_httpMethod().toLowerCase()&&a.request.isMultipart())for(var b=ea(B)(a.request.get_files());b.hasNext();){var c=b.next(),c=c instanceof bc?c:null;if(null!=c)switch(c=
c.deleteTemporaryFile(),c[1]){case 1:a.messages.push({msg:c[2],pos:{fileName:"TmpFileUploadMiddleware.hx",lineNumber:125,className:"ufront.web.upload.TmpFileUploadMiddleware",methodName:"responseOut"},type:J.MError})}}return t.success()},__class__:Vb};var wa=function(){this.segments=[];this.query=[];this.fragment=null};e["ufront.web.url.PartialUrl"]=wa;wa.__name__=["ufront","web","url","PartialUrl"];wa.parse=function(a){var b=new wa;wa.feed(b,a);return b};wa.feed=function(a,b){var c=b.split("#");
1<c.length&&(a.fragment=c[1]);c=c[0].split("?");if(1<c.length)for(var d=c[1].split("&"),e=0;e<d.length;){var g=d[e];++e;g=g.split("=");a.query.push({name:g[0],value:g[1],encoded:!0})}c=c[0].split("/");""==c[0]&&c.shift();1==c.length&&""==c[0]&&c.pop();a.segments=c};wa.prototype={segments:null,query:null,fragment:null,queryString:function(){for(var a=[],b=0,c=this.query;b<c.length;){var d=c[b];++b;var e;e=d.encoded?d.value:encodeURIComponent(d.value);a.push(d.name+"="+e)}return a.join("&")},toString:function(){var a=
"/"+this.segments.join("/"),b=this.queryString();0<b.length&&(a+="?"+b);null!=this.fragment&&(a+="#"+this.fragment);return a},__class__:wa};var eb=function(a){null==a&&(a=!1);wa.call(this);this.isPhysical=a};e["ufront.web.url.VirtualUrl"]=eb;eb.__name__=["ufront","web","url","VirtualUrl"];eb.parse=function(a,b){null==b&&(b=!1);var c=new eb(b);eb.feed(c,a);return c};eb.feed=function(a,b){wa.feed(a,b);"~"==a.segments[0]&&(a.segments.shift(),1==a.segments.length&&""==a.segments[0]&&a.segments.pop(),
a.isPhysical=!0)};eb.__super__=wa;eb.prototype=K(wa.prototype,{isPhysical:null,__class__:eb});var Bb=function(){};e["ufront.web.url.filter.UFUrlFilter"]=Bb;Bb.__name__=["ufront","web","url","filter","UFUrlFilter"];Bb.prototype={filterIn:null,filterOut:null,__class__:Bb};var Nb=function(a){C.startsWith(a,"/")&&(a=n.substr(a,1,a.length));C.endsWith(a,"/")&&(a=n.substr(a,0,a.length-1));this.directory=a;this.segments=""!=a?a.split("/"):[]};e["ufront.web.url.filter.DirectoryUrlFilter"]=Nb;Nb.__name__=
["ufront","web","url","filter","DirectoryUrlFilter"];Nb.__interfaces__=[Bb];Nb.prototype={directory:null,segments:null,filterIn:function(a){for(var b=0;0<a.segments.length&&a.segments[0]==this.segments[b++];)a.segments.shift()},filterOut:function(a){a.segments=this.segments.concat(a.segments)},__class__:Nb};var Ob=function(a,b){null==b&&(b=!0);if(null==a)throw new k(r.internalServerError("Target not implemented, always pass a value for frontScript.",null,{fileName:"PathInfoUrlFilter.hx",lineNumber:31,
className:"ufront.web.url.filter.PathInfoUrlFilter",methodName:"new"}));this.frontScript=a;this.useCleanRoot=b};e["ufront.web.url.filter.PathInfoUrlFilter"]=Ob;Ob.__name__=["ufront","web","url","filter","PathInfoUrlFilter"];Ob.__interfaces__=[Bb];Ob.prototype={frontScript:null,useCleanRoot:null,filterIn:function(a){a.segments[0]==this.frontScript&&a.segments.shift()},filterOut:function(a){a.isPhysical||0==a.segments.length&&this.useCleanRoot||a.segments.unshift(this.frontScript)},__class__:Ob};var Yc=
function(a,b,c){null==c&&(c=!0);null==a&&(a="q");if(null==b)throw new k(r.internalServerError("Target not implemented, always pass a value for frontScript",null,{fileName:"QueryStringUrlFilter.hx",lineNumber:35,className:"ufront.web.url.filter.QueryStringUrlFilter",methodName:"new"}));this.frontScript=b;this.paramName=a;this.useCleanRoot=c};e["ufront.web.url.filter.QueryStringUrlFilter"]=Yc;Yc.__name__=["ufront","web","url","filter","QueryStringUrlFilter"];Yc.__interfaces__=[Bb];Yc.prototype={frontScript:null,
paramName:null,useCleanRoot:null,filterIn:function(a){var b=this;if(a.segments[0]==this.frontScript){var c=sa.find(a.query,function(a){return a.name==b.paramName});null!=c&&(c.encoded&&decodeURIComponent(c.value.split("+").join(" ")),a.segments=wa.parse(c.value).segments,n.remove(a.query,c))}},filterOut:function(a){if(!(a.isPhysical||0==a.segments.length&&this.useCleanRoot)){var b="/"+a.segments.join("/");a.segments=[this.frontScript];a.query.push({name:this.paramName,value:b,encoded:!0})}},__class__:Yc};
var na,wd=0;Array.prototype.indexOf&&(n.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});e.Math=Math;String.prototype.__class__=e.String=String;String.__name__=["String"];e.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=e.Date=Date;Date.__name__=["Date"];var xd=e.Int={__name__:["Int"]},yd=e.Dynamic={__name__:["Dynamic"]},rd=e.Float=Number;rd.__name__=["Float"];var sd=e.Bool=Boolean;sd.__ename__=["Bool"];var kd=e.Class={__name__:["Class"]},ld={};null==Array.prototype.map&&
(Array.prototype.map=function(a){for(var b=[],c=0,d=this.length;c<d;){var e=c++;b[e]=a(this[e])}return b});var y={},dd=jd.ArrayBuffer||Ga;null==dd.prototype.slice&&(dd.prototype.slice=Ga.sliceImpl);var cd=jd.Uint8Array||Xa._new;aa.__meta__={obj:{classLists:[["null,true,ufront.web.Controller","controller.HomeController,ufront.app.DefaultUfrontController"],["null,true,ufront.api.UFApi","api.TestApi"],["null,true,ufront.web.client.UFClientAction","actions.ConfidantInterface"],["null,true,ufront.web.Controller",
"controller.HomeController,ufront.app.DefaultUfrontController"],["null,true,ufront.api.UFApi","api.TestApi"]]}};Db.__meta__={obj:{rtti:[["cnx","haxe.remoting.Connection",""]]}};Eb.__meta__={obj:{asyncApi:["api.AsyncTestApi"]},fields:{getJson:{returnType:[3]},getItem:{returnType:[3]}}};Ta.__meta__={obj:{rtti:[["cnx","haxe.remoting.AsyncConnection",""]]}};Fb.__meta__={obj:{rtti:[["injectApi","minject.Injector","",""]]}};Ua.__meta__={obj:{rtti:[["injectContext","ufront.web.context.HttpContext","",""]]}};
Ca.__meta__={obj:{rtti:[["testApi","api.AsyncTestApi",""]]},fields:{main:{wrapResult:[3]},about:{wrapResult:[3]},contact:{wrapResult:[3]},portfolio:{wrapResult:[4]},returnPortfolioItem:{wrapResult:[4]}}};ec.__meta__={obj:{"interface":null}};Y.USE_CACHE=!1;Y.USE_ENUM_INDEX=!1;Y.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";P.splitter=new fa('(::[A-Za-z0-9_ ()&|!+=/><*."-]+::|\\$\\$([A-Za-z0-9_-]+)\\()',"");P.expr_splitter=new fa('(\\(|\\)|[ \r\n\t]*"[^"]*"[ \r\n\t]*|[!+=/><*.&|-]+)',
"");P.expr_trim=new fa("^[ ]*([^ ]+)[ ]*$","");P.expr_int=new fa("^[0-9]+$","");P.expr_float=new fa("^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?$","");P.globals={};S.DEFAULT_RESOLVER=p;S.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";fb.count=0;Fa.i64tmp=new Fc(0,0);fc.__meta__={obj:{"interface":null}};gc.__meta__={obj:{"interface":null}};w.__toStr={}.toString;Xa.BYTES_PER_ELEMENT=1;Z.CONTENT_TYPE="Content-type";Z.LOCATION="Location";Z.DEFAULT_CONTENT_TYPE="text/html";
Z.DEFAULT_CHARSET="utf-8";Z.DEFAULT_STATUS=200;Z.MOVED_PERMANENTLY=301;Z.FOUND=302;Z.UNAUTHORIZED=401;Z.NOT_FOUND=404;Z.INTERNAL_SERVER_ERROR=500;Lb.__meta__={obj:{"interface":null}};lb.__meta__={obj:{"interface":null}};q.ignoreAnchors=!0;nd.__meta__={obj:{"interface":null}};oc.__meta__={obj:{rtti:[["new","haxe.remoting.AsyncConnection","",""]]}};ra._currentApps=[];pc.__meta__={obj:{"interface":null}};vb.__meta__={obj:{"interface":null}};cb.__meta__={obj:{"interface":null}};qc.__meta__={obj:{"interface":null}};
Pb.__meta__={obj:{"interface":null}};Qb.__meta__={obj:{"interface":null}};Rb.__meta__={obj:{"interface":null}};pb.__meta__={fields:{showMessage:{wrapResult:[7]}}};Xb.__meta__={obj:{"interface":null}};Lc.__meta__={obj:{"interface":null}};Mc.__meta__={obj:{"interface":null}};uc.__meta__={obj:{"interface":null}};wc.__meta__={obj:{"interface":null}};xc.__meta__={obj:{"interface":null}};zc.__meta__={obj:{"interface":null}};Ac.__meta__={obj:{"interface":null}};va.__meta__={obj:{rtti:[["cacheConnection",
"ufront.cache.UFCacheConnection",""]]}};va.namespace="ufront.middleware.RequestCache";va.metaName="cacheRequest";va.contentTypesToCache="text/plain text/html text/xml text/css text/csv application/json application/javascript application/atom+xml application/rdf+xml application/rss+xml application/soap+xml application/xhtml+xml application/xml application/xml-dtd".split(" ");Na.REMOVENL=new fa("[\n\r]","g");bb.TIMEOUT=10;Ha.cacheEnabledByDefault=!0;Wb.__meta__={obj:{rtti:[["scriptDir","String","scriptDirectory"],
["path","String","viewPath"]]}};Sb.__meta__={obj:{rtti:[["viewPath","String","viewPath"]]}};Oa.all=[Oa.get_haxe()];da.dayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");da.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");ha.dataBrowser=[{subString:"Chrome",identity:"Chrome"},{subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{subString:"Apple",identity:"Safari",versionSearch:"Version"},{subString:"Opera",versionSearch:"Version",identity:"Opera"},{subString:"iCab",
identity:"iCab"},{subString:"KDE",identity:"Konqueror"},{subString:"Firefox",identity:"Firefox"},{subString:"Camino",identity:"Camino"},{subString:"Netscape",identity:"Netscape"},{subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];ha.dataOS=[{subString:"Win",identity:"Windows"},{subString:"Mac",identity:"Mac"},{subString:"iPhone",identity:"iPhone/iPod"},{subString:"Linux",
identity:"Linux"}];Zb.__meta__={obj:{"interface":null}};ma.extMap=function(a){a=new v;null!=y.jpg?a.setReserved("jpg","image/jpeg"):a.h.jpg="image/jpeg";null!=y.jpeg?a.setReserved("jpeg","image/jpeg"):a.h.jpeg="image/jpeg";null!=y.png?a.setReserved("png","image/png"):a.h.png="image/png";null!=y.gif?a.setReserved("gif","image/gif"):a.h.gif="image/gif";null!=y.svg?a.setReserved("svg","image/svg+xml"):a.h.svg="image/svg+xml";null!=y.tiff?a.setReserved("tiff","image/tiff"):a.h.tiff="image/tiff";null!=
y.zip?a.setReserved("zip","application/zip"):a.h.zip="application/zip";null!=y.atom?a.setReserved("atom","application/atom+xml"):a.h.atom="application/atom+xml";null!=y.json?a.setReserved("json","application/json"):a.h.json="application/json";null!=y.js?a.setReserved("js","application/javascript"):a.h.js="application/javascript";null!=y.ogg?a.setReserved("ogg","application/ogg"):a.h.ogg="application/ogg";null!=y.pdf?a.setReserved("pdf","application/pdf"):a.h.pdf="application/pdf";null!=y.ps?a.setReserved("ps",
"application/postscript"):a.h.ps="application/postscript";null!=y.rdf?a.setReserved("rdf","application/rdf"):a.h.rdf="application/rdf";null!=y.rss?a.setReserved("rss","application/rss"):a.h.rss="application/rss";null!=y.woff?a.setReserved("woff","application/woff"):a.h.woff="application/woff";null!=y.xml?a.setReserved("xml","application/xml"):a.h.xml="application/xml";null!=y.dtd?a.setReserved("dtd","application/xml-dtd"):a.h.dtd="application/xml-dtd";null!=y.gz?a.setReserved("gz","application/gzip"):
a.h.gz="application/gzip";return a}(this);F.globalValues=D.setObject(function(a){a={};return null!=a?a:{}}(this),{});F.globalHelpers=new v;F.globalPartials=new v;T.transitionTimeout=0;sb.__meta__={obj:{"interface":null}};xa.__meta__={obj:{rtti:["injectConfig ufront.web.context.HttpContext   ufront.cache.UFCacheConnection  ".split(" ")]}};xa.defaultSessionName="UfrontSessionID";xa.defaultSavePath="sessions";xa.defaultExpiry=0;ka.__meta__={obj:{rtti:[["context","ufront.web.context.HttpContext",""],
["injectConfig","ufront.web.context.HttpContext","",""]]}};ka.defaultSessionName="UfrontSessionID";ka.defaultSavePath="sessions/";ka.defaultExpiry=0;xb.alwaysStart=!1;Ab.__meta__={obj:{"interface":null}};Vb.subDir="uf-upload-tmp";Bb.__meta__={obj:{"interface":null}};$c.main()})("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
