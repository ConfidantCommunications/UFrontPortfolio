<?php

// Generated by Haxe 3.4.4
class ufront_core__MultiValueMap_MultiValueMap_Impl_ {
	public function __construct(){}
	static function _new() {
		$this1 = new haxe_ds_StringMap();
		return $this1;
	}
	static function keys($this1) {
		return $this1->keys();
	}
	static function exists($this1, $name) {
		return $this1->exists($name);
	}
	static function iterator($this1) {
		return ufront_core__MultiValueMap_MultiValueMap_Impl_::allValues($this1)->iterator();
	}
	static function allValues($this1) {
		$_g = (new _hx_array(array()));
		{
			$arr = $this1->iterator();
			while($arr->hasNext()) {
				$arr1 = $arr->next();
				$_g1 = 0;
				while($_g1 < $arr1->length) {
					$v = $arr1[$_g1];
					$_g1 = $_g1 + 1;
					$_g->push($v);
					unset($v);
				}
				unset($arr1,$_g1);
			}
		}
		return $_g;
	}
	static function get($this1, $name) {
		if($this1->exists($name)) {
			$arr = $this1->get($name);
			return $arr[$arr->length - 1];
		} else {
			return null;
		}
	}
	static function getAll($this1, $name) {
		if($this1->exists($name)) {
			return $this1->get($name);
		} else {
			return (new _hx_array(array()));
		}
	}
	static function set($this1, $name, $value) {
		if($value !== null) {
			if(StringTools::endsWith($name, "[]")) {
				$name = _hx_substr($name, 0, strlen($name) - 2);
			} else {
				$name = $name;
			}
			$this1->set($name, (new _hx_array(array($value))));
		}
	}
	static function add($this1, $name, $value) {
		if($value !== null) {
			if($name !== null) {
				if(StringTools::endsWith($name, "[]")) {
					$name = _hx_substr($name, 0, strlen($name) - 2);
				} else {
					$name = $name;
				}
			} else {
				$name = "";
			}
			if($this1->exists($name)) {
				$this1->get($name)->push($value);
			} else {
				$this1->set($name, (new _hx_array(array($value))));
			}
		}
	}
	static function remove($this1, $key) {
		return $this1->remove($key);
	}
	static function hclone($this1) {
		$this2 = new haxe_ds_StringMap();
		$newMap = $this2;
		{
			$k = $this1->keys();
			while($k->hasNext()) {
				$k1 = $k->next();
				$_g = 0;
				$_g1 = $this1->get($k1);
				while($_g < $_g1->length) {
					$v = $_g1[$_g];
					$_g = $_g + 1;
					ufront_core__MultiValueMap_MultiValueMap_Impl_::add($newMap, $k1, $v);
					unset($v);
				}
				unset($k1,$_g1,$_g);
			}
		}
		return $newMap;
	}
	static function toString($this1) {
		$sb = new StringBuf();
		$sb->add("[");
		{
			$key = $this1->keys();
			while($key->hasNext()) {
				$key1 = $key->next();
				$sb->add("\x0A\x09" . _hx_string_or_null($key1) . " = [");
				$sb->add(ufront_core__MultiValueMap_MultiValueMap_Impl_::getAll($this1, $key1)->join(", "));
				$sb->add("]");
				unset($key1);
			}
		}
		if(strlen($sb->b) > 1) {
			$sb->add("\x0A");
		}
		$sb->add("]");
		return $sb->b;
	}
	static function stripArrayFromName($this1, $name) {
		if(StringTools::endsWith($name, "[]")) {
			return _hx_substr($name, 0, strlen($name) - 2);
		} else {
			return $name;
		}
	}
	static function toMapOfArrays($this1) {
		return $this1;
	}
	static function fromMapOfArrays($map) {
		return $map;
	}
	static function toStringMap($this1) {
		$sm = new haxe_ds_StringMap();
		{
			$key = $this1->keys();
			while($key->hasNext()) {
				$key1 = $key->next();
				$sm->set($key1, ufront_core__MultiValueMap_MultiValueMap_Impl_::get($this1, $key1));
				unset($key1);
			}
		}
		return $sm;
	}
	static function toMap($this1) {
		return ufront_core__MultiValueMap_MultiValueMap_Impl_::toStringMap($this1);
	}
	static function fromStringMap($stringMap) {
		$this1 = new haxe_ds_StringMap();
		$qm = $this1;
		if($stringMap !== null) {
			$key = $stringMap->keys();
			while($key->hasNext()) {
				$key1 = $key->next();
				ufront_core__MultiValueMap_MultiValueMap_Impl_::set($qm, $key1, $stringMap->get($key1));
				unset($key1);
			}
		}
		return $qm;
	}
	static function fromMap($map) {
		return ufront_core__MultiValueMap_MultiValueMap_Impl_::fromStringMap($map);
	}
	static function combine($maps) {
		$this1 = new haxe_ds_StringMap();
		$qm = $this1;
		{
			$_g = 0;
			while($_g < $maps->length) {
				$map = $maps[$_g];
				$_g = $_g + 1;
				{
					$key = $map->keys();
					while($key->hasNext()) {
						$key1 = $key->next();
						$_g1 = 0;
						$_g2 = ufront_core__MultiValueMap_MultiValueMap_Impl_::getAll($map, $key1);
						while($_g1 < $_g2->length) {
							$val = $_g2[$_g1];
							$_g1 = $_g1 + 1;
							ufront_core__MultiValueMap_MultiValueMap_Impl_::add($qm, $key1, $val);
							unset($val);
						}
						unset($key1,$_g2,$_g1);
					}
					unset($key);
				}
				unset($map);
			}
		}
		return $qm;
	}
	function __toString() { return 'ufront.core._MultiValueMap.MultiValueMap_Impl_'; }
}
